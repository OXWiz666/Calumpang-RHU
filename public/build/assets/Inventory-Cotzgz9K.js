import{r as l,R as Q,j as e}from"./app-BNj6LzJd.js";import{B as f}from"./index-Btn_yvgh.js";import{L as w,I as F}from"./index-C867nRZl.js";import{A as U,a as $,b as G}from"./avatar-DD2sLtWw.js";import{m as J,B as v}from"./pusher-DYWRKZmQ.js";import{D as K,b as W,c as X,d as Y,e as Z,f as ee}from"./dialog-DT2RX0G6.js";import{S as D,a as L,b as M,c as q,d as n}from"./select-BCB2Vp62.js";import{T as se,a as ae,b as C,c as o,d as te,e as c}from"./table-DFpSH5ec.js";import{A as re}from"./AdminLayout-BZ0mxlg4.js";import{F as ne}from"./filter-C0j7NQ6R.js";import{C as I}from"./chevron-up-L-eDe4ZO.js";import{C as b}from"./chevron-down-D7ExU8uN.js";import{c as O}from"./createLucideIcon-ChTHAkpc.js";import"./index-DH-5X088.js";import"./index-Dlv7Ox24.js";import"./Combination-94TggW0x.js";import"./react-icons.esm-CUzEIc4E.js";import"./users-DuCctkvs.js";import"./calendar-nkTfWolW.js";import"./layers-DMFf2pko.js";import"./settings-DUfg_wS7.js";import"./x-fPLTJQGy.js";import"./card-DrsuoceM.js";import"./separator-BAYP2AvG.js";import"./moment-C5S46NFB.js";import"./popover-BarACL0v.js";import"./format-BtYX0kVO.js";import"./isBefore-CNJkrGzj.js";import"./isSameMonth-CLqEvLGB.js";import"./TextInput-jtegLj9q.js";import"./bell-JHyhzeTT.js";import"./search-DOqFn9j4.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],le=O("RefreshCw",ie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E=O("TriangleAlert",ce),oe=({isOpen:x,onClose:h,item:t,suppliers:S=[],onReorder:j})=>{const[g,d]=l.useState(0),[y,a]=l.useState("");Q.useEffect(()=>{t&&(d(t.quantity>0?t.quantity:50),a(t.supplier))},[t]);const N=i=>{i.preventDefault(),t&&g>0&&(j(t.id,g,y),h())};return t?e.jsx(K,{open:x,onOpenChange:h,children:e.jsxs(W,{className:"sm:max-w-[425px]",children:[e.jsxs(X,{children:[e.jsx(Y,{children:"Reorder Inventory Item"}),e.jsxs(Z,{children:["Specify the quantity and supplier for reordering"," ",t.name,"."]})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"item-name",className:"text-right",children:"Item"}),e.jsx(F,{id:"item-name",value:t.name,className:"col-span-3",disabled:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),e.jsx(F,{id:"quantity",type:"number",value:g,onChange:i=>d(Number(i.target.value)),min:1,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"supplier",className:"text-right",children:"Supplier"}),e.jsxs(D,{value:y,onValueChange:a,children:[e.jsx(L,{className:"col-span-3",children:e.jsx(M,{placeholder:"Select supplier"})}),e.jsx(q,{children:S.length>0?S.map(i=>e.jsx(n,{value:i,children:i},i)):e.jsx(n,{value:t.supplier,children:t.supplier})})]})]})]}),e.jsxs(ee,{children:[e.jsx(f,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),e.jsx(f,{type:"submit",children:"Reorder"})]})]})]})}):null},de=[{id:"MED001",name:"Paracetamol 500mg",category:"Medication",quantity:250,unit:"Tablets",expiryDate:"2024-12-31",status:"In Stock",supplier:"PharmaCare Inc.",reorderLevel:50,avatar:"paracetamol"},{id:"MED002",name:"Amoxicillin 250mg",category:"Medication",quantity:120,unit:"Capsules",expiryDate:"2024-10-15",status:"In Stock",supplier:"MediPharm Ltd.",reorderLevel:30,avatar:"amoxicillin"},{id:"MED003",name:"Metformin 500mg",category:"Medication",quantity:15,unit:"Tablets",expiryDate:"2024-08-20",status:"Low Stock",supplier:"PharmaCare Inc.",reorderLevel:20,avatar:"metformin"},{id:"SUP001",name:"Disposable Syringes 5ml",category:"Supplies",quantity:500,unit:"Pieces",expiryDate:"2025-06-30",status:"In Stock",supplier:"MedSupplies Co.",reorderLevel:100,avatar:"syringe"},{id:"SUP002",name:"Surgical Masks",category:"Supplies",quantity:5,unit:"Boxes",expiryDate:"2025-12-31",status:"Low Stock",supplier:"MedSupplies Co.",reorderLevel:10,avatar:"mask"}],Qe=()=>{const[x,h]=l.useState(de),[t,S]=l.useState(""),[j,g]=l.useState("all"),[d,y]=l.useState("all"),[a,N]=l.useState({key:"name",direction:"ascending"}),[i,R]=l.useState(!1),[B,P]=l.useState(null),A=[...x.filter(s=>{const r=s.name.toLowerCase().includes(t.toLowerCase())||s.id.toLowerCase().includes(t.toLowerCase())||s.supplier.toLowerCase().includes(t.toLowerCase()),m=j==="all"||s.status===j,p=d==="all"||s.category===d;return r&&m&&p})].sort((s,r)=>s[a.key]<r[a.key]?a.direction==="ascending"?-1:1:s[a.key]>r[a.key]?a.direction==="ascending"?1:-1:0),k=s=>{let r="ascending";a.key===s&&a.direction==="ascending"&&(r="descending"),N({key:s,direction:r})},V=s=>{switch(s){case"In Stock":return e.jsx(v,{className:"bg-green-500",children:"In Stock"});case"Low Stock":return e.jsx(v,{className:" bg-amber-500",children:"Low Stock"});case"Out of Stock":return e.jsx(v,{className:"bg-red-500",children:"Out of Stock"});default:return e.jsx(v,{children:s})}},T=s=>{const r=new Date,m=new Date(s),p=new Date;return p.setMonth(r.getMonth()+3),m<=p&&m>=r},H=[...new Set(x.map(s=>s.supplier))],_=s=>{P(s),R(!0)},z=(s,r,m)=>{const p=x.map(u=>u.id===s?{...u,quantity:u.quantity+r,status:u.quantity+r<=u.reorderLevel?"Low Stock":"In Stock",supplier:m}:u);h(p)};return e.jsxs(re,{header:"Inventory",children:[e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary",children:"All Inventory Items"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Filter by:"})]}),e.jsxs(D,{value:j,onValueChange:g,children:[e.jsx(L,{className:"w-[150px]",children:e.jsx(M,{placeholder:"Status"})}),e.jsxs(q,{children:[e.jsx(n,{value:"all",children:"All Statuses"}),e.jsx(n,{value:"In Stock",children:"In Stock"}),e.jsx(n,{value:"Low Stock",children:"Low Stock"}),e.jsx(n,{value:"Out of Stock",children:"Out of Stock"})]})]}),e.jsxs(D,{value:d,onValueChange:y,children:[e.jsx(L,{className:"w-[150px]",children:e.jsx(M,{placeholder:"Category"})}),e.jsxs(q,{children:[e.jsx(n,{value:"all",children:"All Categories"}),e.jsx(n,{value:"Medication",children:"Medication"}),e.jsx(n,{value:"Supplies",children:"Supplies"}),e.jsx(n,{value:"Equipment",children:"Equipment"})]})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(se,{children:[e.jsx(ae,{children:e.jsxs(C,{children:[e.jsx(o,{className:"cursor-pointer",onClick:()=>k("name"),children:e.jsxs("div",{className:"flex items-center",children:["Item",a.key==="name"&&e.jsx("span",{className:"ml-1",children:a.direction==="ascending"?e.jsx(I,{className:"h-4 w-4"}):e.jsx(b,{className:"h-4 w-4"})})]})}),e.jsx(o,{children:"Category"}),e.jsx(o,{className:"cursor-pointer",onClick:()=>k("quantity"),children:e.jsxs("div",{className:"flex items-center",children:["Quantity",a.key==="quantity"&&e.jsx("span",{className:"ml-1",children:a.direction==="ascending"?e.jsx(I,{className:"h-4 w-4"}):e.jsx(b,{className:"h-4 w-4"})})]})}),e.jsx(o,{className:"cursor-pointer",onClick:()=>k("expiryDate"),children:e.jsxs("div",{className:"flex items-center",children:["Expiry Date",a.key==="expiryDate"&&e.jsx("span",{className:"ml-1",children:a.direction==="ascending"?e.jsx(I,{className:"h-4 w-4"}):e.jsx(b,{className:"h-4 w-4"})})]})}),e.jsx(o,{children:"Supplier"}),e.jsx(o,{children:"Status"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(te,{children:A.length>0?A.map(s=>e.jsxs(C,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(U,{children:[e.jsx($,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.avatar}`,alt:s.name}),e.jsx(G,{children:s.name.split(" ").map(r=>r[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.id})]})]})}),e.jsx(c,{children:s.category}),e.jsxs(c,{children:[e.jsxs("div",{className:"font-medium",children:[s.quantity," ",s.unit]}),s.quantity<=s.reorderLevel&&e.jsxs("div",{className:"text-sm text-amber-600 flex items-center gap-1",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsx("span",{children:"Reorder needed"})]})]}),e.jsx(c,{children:e.jsxs("div",{className:T(s.expiryDate)?"text-amber-600":"",children:[new Date(s.expiryDate).toLocaleDateString(),T(s.expiryDate)&&e.jsxs("div",{className:"text-sm flex items-center gap-1",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsx("span",{children:"Expiring soon"})]})]})}),e.jsx(c,{children:s.supplier}),e.jsx(c,{children:V(s.status)}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(f,{variant:"ghost",size:"sm",children:"View"}),e.jsxs(f,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>_(s),children:[e.jsx(le,{className:"h-3 w-3"}),"Reorder"]})]})})]},s.id)):e.jsx(C,{children:e.jsx(c,{colSpan:7,className:"text-center h-24 text-muted-foreground",children:"No inventory items found"})})})]})})]})}),e.jsx(oe,{isOpen:i,onClose:()=>R(!1),item:B,suppliers:H,onReorder:z})]})};export{Qe as default};
