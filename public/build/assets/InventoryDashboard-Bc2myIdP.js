import{r as n,j as e}from"./app-Ba5qYgvy.js";import{T as A,a as V,b as c,c as Y}from"./tabs-CF4FJUnC.js";import{C as o,a as d,b as m,c as p}from"./card-BMhwqOii.js";import{B as x}from"./badge-DD6octZv.js";import{B as M}from"./button-cPeJY8wi.js";import ee from"./SearchBar-DJpvje10.js";import k from"./InventoryItemCard-BN_36eYv.js";import te from"./StockMovementForm-B0SJb0hC.js";import ae from"./ReportsPanel-BERmCLQY.js";import se from"./AddItemForm-rVsF9Zkl.js";import{A as re}from"./AdminLayout-DSfvMp-9.js";import{c as O}from"./createLucideIcon-DLb0a15Q.js";import{T as ie}from"./triangle-alert-CNwMDyZc.js";import{C as le}from"./clock-BHXTegzc.js";import{P as L}from"./pill-CScP8s36.js";import{S as B}from"./syringe-C18aSpTA.js";import{S as U}from"./stethoscope-DF07oMem.js";import"./index-MJcPZHh9.js";import"./index-DXtrkMtD.js";import"./index-DCwhQjE4.js";import"./index-BU9W1smV.js";import"./index-DhUthHrA.js";import"./input-DrB0u88z.js";import"./search-D_wmE4Wo.js";import"./chevron-up-BUsHFCor.js";import"./chevron-down-DVs5LhT5.js";import"./format-BtYX0kVO.js";import"./dialog-DgkSrtJr.js";import"./Combination-CKtHIfip.js";import"./react-icons.esm-Bip7RB5a.js";import"./label-BbiRlExS.js";import"./index-Dg9mMLMB.js";import"./textarea-Blih5oPM.js";import"./select-DRYwnWif.js";import"./index-BR-bg6ev.js";import"./popover-CHTIZW5S.js";import"./isBefore-CNJkrGzj.js";import"./isSameMonth-CLqEvLGB.js";import"./calendar-2yl4iFVL.js";import"./file-text-CrgAUU25.js";import"./chart-column-BzGHNqQP.js";import"./download-DenQK2zk.js";import"./avatar-Dpl6bSOV.js";import"./separator-BqFDkvo6.js";import"./moment-C5S46NFB.js";import"./TextInput-DT61vSru.js";import"./x-DM0ZuOqT.js";import"./settings-DU8d8elV.js";import"./users-CNjImTwB.js";import"./bell-RD_LoP50.js";import"./pusher-CQhoWEle.js";import"./layers-CsXmNPv2.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],E=O("Box",ne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],w=O("Package",ce),F=[{id:"med-001",name:"Paracetamol 500mg",category:"Medicine",quantity:250,unit:"tablet",expirationDate:new Date(2025,5,15),reorderThreshold:50,lastUpdated:new Date(2023,10,5),isVaccine:!1},{id:"med-002",name:"Amoxicillin 250mg",category:"Medicine",quantity:120,unit:"capsule",expirationDate:new Date(2024,8,30),reorderThreshold:30,lastUpdated:new Date(2023,11,10),isVaccine:!1},{id:"vac-001",name:"COVID-19 Vaccine",category:"Vaccine",quantity:45,unit:"vial",expirationDate:new Date(2024,3,15),batchNumber:"COV-2023-11",lotNumber:"L789456",reorderThreshold:10,location:"Refrigerator 2",lastUpdated:new Date(2023,12,1),isVaccine:!0},{id:"sup-001",name:"Disposable Syringes 5ml",category:"Supply",quantity:500,unit:"piece",expirationDate:null,reorderThreshold:100,lastUpdated:new Date(2023,9,20),isVaccine:!1},{id:"sup-002",name:"Surgical Masks",category:"Supply",quantity:35,unit:"box",expirationDate:null,reorderThreshold:20,lastUpdated:new Date(2023,11,25),isVaccine:!1},{id:"eqp-001",name:"Digital Thermometer",category:"Equipment",quantity:8,unit:"piece",expirationDate:null,reorderThreshold:3,lastUpdated:new Date(2023,8,15),isVaccine:!1},{id:"vac-002",name:"Influenza Vaccine",category:"Vaccine",quantity:15,unit:"vial",expirationDate:new Date(2024,1,30),batchNumber:"INF-2023-05",lotNumber:"L123789",reorderThreshold:10,location:"Refrigerator 1",lastUpdated:new Date(2023,11,5),isVaccine:!0},{id:"med-003",name:"Ibuprofen 400mg",category:"Medicine",quantity:180,unit:"tablet",expirationDate:new Date(2025,2,10),reorderThreshold:40,lastUpdated:new Date(2023,10,15),isVaccine:!1}],oe=[{id:"mov-001",itemId:"med-001",type:"incoming",quantity:100,date:new Date(2023,10,5),performedBy:"Dr. Santos"},{id:"mov-002",itemId:"med-001",type:"outgoing",quantity:25,date:new Date(2023,10,10),reason:"Patient dispensing",performedBy:"Nurse Reyes"},{id:"mov-003",itemId:"vac-001",type:"incoming",quantity:50,date:new Date(2023,12,1),batchNumber:"COV-2023-11",lotNumber:"L789456",performedBy:"Dr. Mendoza"},{id:"mov-004",itemId:"vac-001",type:"outgoing",quantity:5,date:new Date(2023,12,5),batchNumber:"COV-2023-11",lotNumber:"L789456",reason:"Vaccination program",performedBy:"Nurse Garcia"}],ot=()=>{const[a,D]=n.useState(F),[v,P]=n.useState(oe),[j,l]=n.useState(F),[R,_]=n.useState(null),[z,S]=n.useState(!1),[G,H]=n.useState(!1),[u,f]=n.useState(null),[h,C]=n.useState("all"),[b,I]=n.useState("All"),T=Array.from(new Set(a.map(t=>t.category))),N=a.filter(t=>t.quantity<=t.reorderThreshold),y=a.filter(t=>t.expirationDate&&new Date(t.expirationDate).getTime()-new Date().getTime()<30*24*60*60*1e3),Q=t=>{l(t),f(null),C("all")},Z=t=>{f(t),l(a.filter(s=>s.category===t))},$=t=>{C(t),f(null),t==="all"?l(a):t==="low"?l(N):t==="expiring"?l(y):t==="master"&&(l(a),I("All"))},J=t=>{I(t),l(t==="All"?a:a.filter(s=>s.category===t))},q=t=>{_(t),S(!0)},K=t=>{P([...v,t]);const s=a.map(i=>{if(i.id===t.itemId){const r=t.type==="incoming"?i.quantity+t.quantity:i.quantity-t.quantity;return{...i,quantity:Math.max(0,r),lastUpdated:new Date}}return i});D(s),l(i=>h==="all"&&!u?s:h==="low"?s.filter(r=>r.quantity<=r.reorderThreshold):h==="expiring"?s.filter(r=>r.expirationDate&&new Date(r.expirationDate).getTime()-new Date().getTime()<30*24*60*60*1e3):h==="master"?b==="All"?s:s.filter(r=>r.category===b):u?s.filter(r=>r.category===u):i.map(r=>s.find(X=>X.id===r.id)||r))},W=t=>{switch(t){case"Medicine":return e.jsx(L,{className:"h-5 w-5 text-blue-500 mr-2"});case"Vaccine":return e.jsx(B,{className:"h-5 w-5 text-green-500 mr-2"});case"Equipment":return e.jsx(U,{className:"h-5 w-5 text-orange-500 mr-2"});case"Supply":return e.jsx(E,{className:"h-5 w-5 text-purple-500 mr-2"});default:return e.jsx(w,{className:"h-5 w-5 text-muted-foreground mr-2"})}},g=t=>t==="All"?a.length:a.filter(s=>s.category===t).length;return e.jsxs(re,{header:"Inventory",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs(o,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(m,{className:"text-sm font-medium",children:"Total Items"})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-5 w-5 text-muted-foreground mr-2"}),e.jsx("div",{className:"text-2xl font-bold",children:a.length})]})})]}),e.jsxs(o,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(m,{className:"text-sm font-medium",children:"Categories"})}),e.jsx(p,{children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"text-2xl font-bold",children:T.length})})})]}),e.jsxs(o,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(m,{className:"text-sm font-medium",children:"Low Stock Items"})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("div",{className:"text-2xl font-bold",children:N.length})]})})]}),e.jsxs(o,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(m,{className:"text-sm font-medium",children:"Expiring Soon"})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"h-5 w-5 text-amber-500 mr-2"}),e.jsx("div",{className:"text-2xl font-bold",children:y.length})]})})]})]}),e.jsx(ee,{items:a,onSearch:Q}),e.jsxs(A,{value:h,onValueChange:$,className:"mb-6",children:[e.jsxs(V,{children:[e.jsx(c,{value:"all",children:"All Items"}),e.jsx(c,{value:"master",children:"Master List"}),e.jsxs(c,{value:"low",children:["Low Stock",N.length>0&&e.jsx(x,{variant:"destructive",className:"ml-2",children:N.length})]}),e.jsxs(c,{value:"expiring",children:["Expiring Soon",y.length>0&&e.jsx(x,{variant:"outline",className:"ml-2 bg-amber-100 text-amber-800",children:y.length})]})]}),e.jsx(Y,{value:"master",className:"mt-6",children:e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(m,{className:"text-xl",children:"Master List"})}),e.jsx(p,{children:e.jsxs(A,{value:b,onValueChange:J,className:"mb-6",children:[e.jsxs(V,{className:"grid grid-cols-5 w-full",children:[e.jsxs(c,{value:"All",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"All",e.jsx(x,{variant:"secondary",className:"ml-1",children:g("All")})]}),e.jsxs(c,{value:"Medicine",className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Medicines",e.jsx(x,{variant:"secondary",className:"ml-1",children:g("Medicine")})]}),e.jsxs(c,{value:"Vaccine",className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Vaccines",e.jsx(x,{variant:"secondary",className:"ml-1",children:g("Vaccine")})]}),e.jsxs(c,{value:"Equipment",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Equipment",e.jsx(x,{variant:"secondary",className:"ml-1",children:g("Equipment")})]}),e.jsxs(c,{value:"Supply",className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),"Supplies",e.jsx(x,{variant:"secondary",className:"ml-1",children:g("Supply")})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j.map(t=>e.jsx(k,{item:t,onUpdateClick:q},t.id)),j.length===0&&e.jsx("div",{className:"col-span-2 text-center py-12 border rounded-lg bg-muted/20",children:e.jsx("p",{className:"text-muted-foreground",children:"No items match your search criteria"})})]})})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(m,{className:"text-lg",children:"Categories"})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{variant:u===null?"default":"outline",className:"w-full justify-start",onClick:()=>{f(null),l(a)},children:"All Categories"}),T.map(t=>e.jsx(M,{variant:u===t?"default":"outline",className:"w-full justify-start",onClick:()=>Z(t),children:e.jsxs("div",{className:"flex items-center",children:[W(t),t]})},t))]})})]}),e.jsxs(o,{className:"mt-6",children:[e.jsx(d,{children:e.jsx(m,{className:"text-lg",children:"Recent Activity"})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:v.slice(0,5).map((t,s)=>{const i=a.find(r=>r.id===t.itemId);return e.jsxs("div",{className:"border-b pb-2 last:border-0 last:pb-0",children:[e.jsxs("p",{className:"font-medium",children:[t.type==="incoming"?"Added":"Removed"," ",t.quantity," ",i==null?void 0:i.unit,"s of"," ",i==null?void 0:i.name]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["By ",t.performedBy," on"," ",new Date(t.date).toLocaleDateString()]})]},s)})})})]})]}),e.jsx("div",{className:"lg:col-span-3",children:h!=="master"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j.map(t=>e.jsx(k,{item:t,onUpdateClick:q},t.id)),j.length===0&&e.jsx("div",{className:"col-span-2 text-center py-12 border rounded-lg bg-muted/20",children:e.jsx("p",{className:"text-muted-foreground",children:"No items match your search criteria"})})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(ae,{items:a,movements:v})}),e.jsx(te,{open:z,onClose:()=>S(!1),item:R,onSave:K}),e.jsx(se,{open:G,onClose:()=>H(!1),onSave:t=>{D([...a,t]),l([...a,t])}})]})};export{ot as default};
