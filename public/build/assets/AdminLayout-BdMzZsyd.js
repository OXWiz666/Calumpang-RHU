import{j as e,a as v,L as q,r as L}from"./app-CZwS2G5Y.js";import{r as d,R as W}from"./vendor-DkBadjUr.js";import{c as g,u as _}from"./index-B3OEEYC6.js";import{B as P}from"./button-BesobgtA.js";import"./card-CRUoSCLq.js";import{A as Ce,a as Ae,b as Re}from"./avatar-DEV84UVA.js";import"./separator-6iJRufmK.js";import{c as Ee,P as D,a as R,d as A,u as Te}from"./react-icons.esm-Bo4nchVy.js";import{P as V}from"./index-Bgkzuaxa.js";import{u as _e}from"./index-DWou3t1m.js";import{e as ke}from"./select-Cxat1dCU.js";import{h as Le}from"./moment-C5S46NFB.js";import"./dialog-Tf1FOk7X.js";import"./input-BuSGIsg0.js";import"./label-IliVNXtj.js";import"./calendar-LRnVXR3S.js";import"./TextInput-BgmIWbMp.js";import{c as X}from"./createLucideIcon-BKWaAi2G.js";import{X as Z}from"./x-b8JahagL.js";import{S as G,L as J}from"./settings-D_MeB5oN.js";import{H as K}from"./house-CSq-WFst.js";import{C as ce}from"./calendar-D9APQM2e.js";import{U as de}from"./users-D4PhO1-D.js";import{F as me}from"./file-text-YZXa1D2L.js";import{P as De}from"./pill-DIGxtF-3.js";import{B as Me}from"./badge-ChpTVm3n.js";import{B as ne,N as He,P as Ie}from"./pusher-qs61TsAX.js";import{A as ze}from"./index-0fk0WGfz.js";import{m as Oe}from"./proxy-C0TaRtDf.js";import"./autoprefixer-Bonhs1zv.js";import{T as We}from"./Toaster-BpbevUrA.js";import{L as Ue}from"./layers-OK8ayVTK.js";import{C as Be}from"./chart-column-yMaSKbSU.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Xe=X("Boxes",Ve);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],Fe=X("HeartPulse",Ye);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Q=X("Menu",$e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Ze=X("UsersRound",qe),Ge=({activePage:t,userRole:o="Admin"})=>{const{sidebarstate:r,setSidebarstate:a}=se(),i=[{title:"Dashboard",icon:e.jsx(K,{className:"h-5 w-5"}),route:"admin",path:route("admin"),id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Patient Records",icon:e.jsx(de,{className:"h-5 w-5"}),route:"patients.*",path:route("patients.index"),id:"patients",roles:["Admin","Doctor"]},{title:"Staff",icon:e.jsx(Ze,{className:"h-5 w-5"}),route:"admin.staff.*",request:"/admin/staff/",path:route("admin.staff.overview"),id:"staff",roles:["Admin","Doctor"]},{title:"Appointments",icon:e.jsx(ce,{className:"h-5 w-5"}),route:"admin.appointments",path:route("admin.appointments"),id:"appointments",roles:["Admin","Doctor"]},{title:"Services",icon:e.jsx(Ue,{className:"h-5 w-5"}),route:"admin.services*",path:route("admin.services.services"),id:"services",roles:["Admin","Doctor"]},{title:"Health Programs",icon:e.jsx(Fe,{className:"h-5 w-5"}),route:"admin.programs",path:route("admin.programs"),id:"programs",roles:["Admin","Doctor"]},{title:"Reports",icon:e.jsx(Be,{className:"h-5 w-5"}),route:"admin.reports",path:route("admin.reports"),id:"reports",roles:["Admin"]},{title:"Settings",icon:e.jsx(G,{className:"h-5 w-5"}),route:"admin.settings*",path:route("admin.settings.index"),id:"settings",roles:["Admin"]}].filter(n=>n.roles.includes(o)),c=v().props.auth.user,l=v().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(Q,{className:"h-5 w-5"}):e.jsx(Z,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),i.map(n=>e.jsx("li",{children:e.jsxs(q,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:o[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[c.firstname," ",c.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>L.post("/logout"),children:[e.jsx(J,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})};function Je(t,o){return d.useReducer((r,a)=>o[r][a]??r,t)}var ee="ScrollArea",[ue]=Ee(ee),[Ke,S]=ue(ee),he=d.forwardRef((t,o)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:i=600,...c}=t,[l,n]=d.useState(null),[u,m]=d.useState(null),[f,h]=d.useState(null),[p,w]=d.useState(null),[C,x]=d.useState(null),[N,M]=d.useState(0),[$,H]=d.useState(0),[I,k]=d.useState(!1),[z,O]=d.useState(!1),b=_(o,E=>n(E)),j=_e(s);return e.jsx(Ke,{scope:r,type:a,dir:j,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:m,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:I,onScrollbarXEnabledChange:k,scrollbarY:C,onScrollbarYChange:x,scrollbarYEnabled:z,onScrollbarYEnabledChange:O,onCornerWidthChange:M,onCornerHeightChange:H,children:e.jsx(D.div,{dir:j,...c,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":$+"px",...t.style}})})});he.displayName=ee;var fe="ScrollAreaViewport",pe=d.forwardRef((t,o)=>{const{__scopeScrollArea:r,children:a,nonce:s,...i}=t,c=S(fe,r),l=d.useRef(null),n=_(o,l,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(D.div,{"data-radix-scroll-area-viewport":"",...i,ref:n,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});pe.displayName=fe;var y="ScrollAreaScrollbar",te=d.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=S(y,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=s,l=t.orientation==="horizontal";return d.useEffect(()=>(l?i(!0):c(!0),()=>{l?i(!1):c(!1)}),[l,i,c]),s.type==="hover"?e.jsx(Qe,{...a,ref:o,forceMount:r}):s.type==="scroll"?e.jsx(et,{...a,ref:o,forceMount:r}):s.type==="auto"?e.jsx(xe,{...a,ref:o,forceMount:r}):s.type==="always"?e.jsx(re,{...a,ref:o}):null});te.displayName=y;var Qe=d.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=S(y,t.__scopeScrollArea),[i,c]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let n=0;if(l){const u=()=>{window.clearTimeout(n),c(!0)},m=()=>{n=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(n),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),e.jsx(V,{present:r||i,children:e.jsx(xe,{"data-state":i?"visible":"hidden",...a,ref:o})})}),et=d.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=S(y,t.__scopeScrollArea),i=t.orientation==="horizontal",c=F(()=>n("SCROLL_END"),100),[l,n]=Je("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>n("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,n]),d.useEffect(()=>{const u=s.viewport,m=i?"scrollLeft":"scrollTop";if(u){let f=u[m];const h=()=>{const p=u[m];f!==p&&(n("SCROLL"),c()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,n,c]),e.jsx(V,{present:r||l!=="hidden",children:e.jsx(re,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:o,onPointerEnter:R(t.onPointerEnter,()=>n("POINTER_ENTER")),onPointerLeave:R(t.onPointerLeave,()=>n("POINTER_LEAVE"))})})}),xe=d.forwardRef((t,o)=>{const r=S(y,t.__scopeScrollArea),{forceMount:a,...s}=t,[i,c]=d.useState(!1),l=t.orientation==="horizontal",n=F(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?u:m)}},10);return T(r.viewport,n),T(r.content,n),e.jsx(V,{present:a||i,children:e.jsx(re,{"data-state":i?"visible":"hidden",...s,ref:o})})}),re=d.forwardRef((t,o)=>{const{orientation:r="vertical",...a}=t,s=S(y,t.__scopeScrollArea),i=d.useRef(null),c=d.useRef(0),[l,n]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Se(l.viewport,l.content),m={...a,sizes:l,onSizesChange:n,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:h=>c.current=h};function f(h,p){return at(h,c.current,l,p)}return r==="horizontal"?e.jsx(tt,{...m,ref:o,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=ae(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?e.jsx(rt,{...m,ref:o,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=ae(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),tt=d.forwardRef((t,o)=>{const{sizes:r,onSizesChange:a,...s}=t,i=S(y,t.__scopeScrollArea),[c,l]=d.useState(),n=d.useRef(null),u=_(o,n,i.onScrollbarXChange);return d.useEffect(()=>{n.current&&l(getComputedStyle(n.current))},[n]),e.jsx(ve,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(r)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+m.deltaX;t.onWheelScroll(h),ye(h,f)&&m.preventDefault()}},onResize:()=>{n.current&&i.viewport&&c&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:n.current.clientWidth,paddingStart:B(c.paddingLeft),paddingEnd:B(c.paddingRight)}})}})}),rt=d.forwardRef((t,o)=>{const{sizes:r,onSizesChange:a,...s}=t,i=S(y,t.__scopeScrollArea),[c,l]=d.useState(),n=d.useRef(null),u=_(o,n,i.onScrollbarYChange);return d.useEffect(()=>{n.current&&l(getComputedStyle(n.current))},[n]),e.jsx(ve,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(r)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,f)=>{if(i.viewport){const h=i.viewport.scrollTop+m.deltaY;t.onWheelScroll(h),ye(h,f)&&m.preventDefault()}},onResize:()=>{n.current&&i.viewport&&c&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:n.current.clientHeight,paddingStart:B(c.paddingTop),paddingEnd:B(c.paddingBottom)}})}})}),[ot,be]=ue(y),ve=d.forwardRef((t,o)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:n,onDragScroll:u,onWheelScroll:m,onResize:f,...h}=t,p=S(y,r),[w,C]=d.useState(null),x=_(o,b=>C(b)),N=d.useRef(null),M=d.useRef(""),$=p.viewport,H=a.content-a.viewport,I=A(m),k=A(n),z=F(f,10);function O(b){if(N.current){const j=b.clientX-N.current.left,E=b.clientY-N.current.top;u({x:j,y:E})}}return d.useEffect(()=>{const b=j=>{const E=j.target;w?.contains(E)&&I(j,H)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[$,w,H,I]),d.useEffect(k,[a,k]),T(w,z),T(p.content,z),e.jsx(ot,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:A(i),onThumbPointerUp:A(c),onThumbPositionChange:k,onThumbPointerDown:A(l),children:e.jsx(D.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:R(t.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),N.current=w.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(b))}),onPointerMove:R(t.onPointerMove,O),onPointerUp:R(t.onPointerUp,b=>{const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=M.current,p.viewport&&(p.viewport.style.scrollBehavior=""),N.current=null})})})}),U="ScrollAreaThumb",ge=d.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=be(U,t.__scopeScrollArea);return e.jsx(V,{present:r||s.hasThumb,children:e.jsx(st,{ref:o,...a})})}),st=d.forwardRef((t,o)=>{const{__scopeScrollArea:r,style:a,...s}=t,i=S(U,r),c=be(U,r),{onThumbPositionChange:l}=c,n=_(o,f=>c.onThumbChange(f)),u=d.useRef(void 0),m=F(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(m(),!u.current){const p=lt(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,m,l]),e.jsx(D.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:n,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:R(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,C=f.clientY-p.top;c.onThumbPointerDown({x:w,y:C})}),onPointerUp:R(t.onPointerUp,c.onThumbPointerUp)})});ge.displayName=U;var oe="ScrollAreaCorner",we=d.forwardRef((t,o)=>{const r=S(oe,t.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?e.jsx(nt,{...t,ref:o}):null});we.displayName=oe;var nt=d.forwardRef((t,o)=>{const{__scopeScrollArea:r,...a}=t,s=S(oe,r),[i,c]=d.useState(0),[l,n]=d.useState(0),u=!!(i&&l);return T(s.scrollbarX,()=>{const m=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(m),n(m)}),T(s.scrollbarY,()=>{const m=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(m),c(m)}),u?e.jsx(D.div,{...a,ref:o,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function B(t){return t?parseInt(t,10):0}function Se(t,o){const r=t/o;return isNaN(r)?0:r}function Y(t){const o=Se(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-r)*o;return Math.max(a,18)}function at(t,o,r,a="ltr"){const s=Y(r),i=s/2,c=o||i,l=s-c,n=r.scrollbar.paddingStart+c,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,m=r.content-r.viewport,f=a==="ltr"?[0,m]:[m*-1,0];return je([n,u],f)(t)}function ae(t,o,r="ltr"){const a=Y(o),s=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,i=o.scrollbar.size-s,c=o.content-o.viewport,l=i-a,n=r==="ltr"?[0,c]:[c*-1,0],u=ke(t,n);return je([0,c],[0,l])(u)}function je(t,o){return r=>{if(t[0]===t[1]||o[0]===o[1])return o[0];const a=(o[1]-o[0])/(t[1]-t[0]);return o[0]+a*(r-t[0])}}function ye(t,o){return t>0&&t<o}var lt=(t,o=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},a=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},c=r.left!==i.left,l=r.top!==i.top;(c||l)&&o(),r=i,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function F(t,o){const r=A(t),a=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(a.current),[]),d.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,o)},[r,o])}function T(t,o){const r=A(o);Te(()=>{let a=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(a),s.unobserve(t)}}},[t,r])}var Ne=he,it=pe,ct=we;const dt=d.forwardRef(({className:t,children:o,...r},a)=>e.jsxs(Ne,{ref:a,className:g("relative overflow-hidden",t),...r,children:[e.jsx(it,{className:"h-full w-full rounded-[inherit]",children:o}),e.jsx(Pe,{}),e.jsx(ct,{})]}));dt.displayName=Ne.displayName;const Pe=d.forwardRef(({className:t,orientation:o="vertical",...r},a)=>e.jsx(te,{ref:a,orientation:o,className:g("flex touch-none select-none transition-colors",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(ge,{className:"relative flex-1 rounded-full bg-border"})}));Pe.displayName=te.displayName;const mt=({activePage:t,userRole:o="Admin"})=>{const{sidebarstate:r,setSidebarstate:a}=se(),i=[{title:"Dashboard",icon:e.jsx(K,{className:"h-5 w-5"}),route:"doctor.home",path:"/doctor",id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Appointments",icon:e.jsx(ce,{className:"h-5 w-5"}),route:"admin.appointments",path:"/auth/appointments",id:"appointments",roles:["Admin","Doctor"]},{title:"Patient Records",icon:e.jsx(de,{className:"h-5 w-5"}),route:"patients.index",path:"/auth/patients",id:"patients",roles:["Admin","Doctor"]},{title:"Medical Records",icon:e.jsx(me,{className:"h-5 w-5"}),route:"doctor.medical-records",path:"/doctor/medical-records",id:"medical-records",roles:["Doctor"]},{title:"Prescriptions",icon:e.jsx(De,{className:"h-5 w-5"}),route:"doctor.prescriptions",path:"/doctor/prescriptions",id:"prescriptions",roles:["Doctor"]},{title:"Settings",icon:e.jsx(G,{className:"h-5 w-5"}),route:"doctor.settings",path:"/doctor/settings",id:"settings",roles:["Admin","Doctor"]}].filter(n=>n.roles.includes(o)),c=v().props.auth.user,l=v().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(Q,{className:"h-5 w-5"}):e.jsx(Z,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsx("ul",{className:"space-y-1 px-2",children:i.map(n=>e.jsx("li",{children:e.jsxs(q,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:o[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[c.firstname," ",c.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>L.post("/logout"),children:[e.jsx(J,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},ut=({className:t="",datas:o})=>{const[r,a]=d.useState(!1),[s,i]=d.useState(!1),[c,l]=d.useState(null),[n,u]=d.useState(!1),[m,f]=d.useState(o.all_notifications??o.notifications);let h=m.filter(x=>!x.read_at).length;d.useEffect(()=>{f(o.all_notifications??o.notifications),h=m.filter(x=>!x.read_at).length},[o]);const p=()=>{if(a(!r),!r){const x=m.map(N=>({...N,read:!0}));f(x)}},w=x=>{l(x),u(!0),a(!1)},C=x=>{switch(x){case"inventory":return"text-amber-500 bg-amber-100";case"new_appointment":return"text-blue-500 bg-blue-100";case"new_patient":return"text-green-500 bg-green-100";case"program":return"text-purple-500 bg-purple-100";default:return"text-gray-500 bg-gray-100"}};return e.jsxs("div",{className:`relative ${t}`,children:[e.jsxs(P,{variant:"ghost",size:"icon",className:"relative",onClick:p,"aria-label":"Notifications",children:[e.jsx(ne,{className:"h-5 w-5"}),h>0&&e.jsx(Me,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0",children:h})]}),e.jsx(ze,{children:r&&e.jsxs(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notifications"})}),e.jsx("form",{onSubmit:x=>{x.preventDefault(),L.post(route("notifications.markAllRead"),{},{preserveScroll:!0})},children:e.jsx(P,{type:"submit",variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"Mark all as read"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-gray-200",children:(s?m:m.slice(0,3)).map(x=>e.jsx("div",{className:`p-3 hover:bg-accent/50 transition-colors cursor-pointer ${x.read_at?"":"bg-accent/20"}`,onClick:()=>w(x),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${C(x.data.type)}`,children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-medium",children:x.data.title}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Le(x.created_at).fromNow()}),e.jsx("div",{className:" text-sm",children:x.read_at?e.jsx("div",{children:"Read"}):e.jsx("div",{children:"Unread"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x.data.message})]})]})},x.id))})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-accent/10",children:e.jsx(P,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",onClick:()=>i(x=>!x),children:s?"Show less":"View all notifications"})})]})}),e.jsx(He,{isOpen:n,onClose:()=>{u(!1),l(null)},notification:c})]})},le=t=>{let o;const r=new Set,a=(u,m)=>{const f=typeof u=="function"?u(o):u;if(!Object.is(f,o)){const h=o;o=m??(typeof f!="object"||f===null)?f:Object.assign({},o,f),r.forEach(p=>p(o,h))}},s=()=>o,l={setState:a,getState:s,getInitialState:()=>n,subscribe:u=>(r.add(u),()=>r.delete(u))},n=o=t(a,s,l);return l},ht=t=>t?le(t):le,ft=t=>t;function pt(t,o=ft){const r=W.useSyncExternalStore(t.subscribe,W.useCallback(()=>o(t.getState()),[t,o]),W.useCallback(()=>o(t.getInitialState()),[t,o]));return W.useDebugValue(r),r}const ie=t=>{const o=ht(t),r=a=>pt(o,a);return Object.assign(r,o),r},xt=t=>t?ie(t):ie,bt=({activePage:t,userRole:o="Pharmacist"})=>{const{sidebarstate:r,setSidebarstate:a}=se(),i=[{title:"Dashboard",icon:e.jsx(K,{className:"h-5 w-5"}),route:"pharmacist.dashboard",path:"/pharmacist/dashboard",id:"dashboard",roles:["Pharmacist"]},{title:"Inventory",icon:e.jsx(Xe,{className:"h-5 w-5"}),route:"pharmacist.inventory.index",path:"/pharmacist/inventory",id:"inventory",roles:["Pharmacist"]},{title:"Reports",icon:e.jsx(me,{className:"h-5 w-5"}),route:"pharmacist.reports",path:"/pharmacist/reports",id:"reports",roles:["Pharmacist"]},{title:"Settings",icon:e.jsx(G,{className:"h-5 w-5"}),route:"pharmacist.settings*",path:"/pharmacist/settings",id:"settings",roles:["Pharmacist"]}].filter(n=>n.roles.includes(o)),c=v().props.auth.user,l=v().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(Q,{className:"h-5 w-5"}):e.jsx(Z,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),i.map(n=>e.jsx("li",{children:e.jsxs(q,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:o[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[c.firstname," ",c.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>L.post("/logout"),children:[e.jsx(J,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},se=xt(t=>({sidebarstate:!1,setSidebarstate:o=>t({sidebarstate:o})}));function Kt({header:t,children:o,tools:r}){const a=v().props.auth.role,{auth:s}=v().props,[i,c]=d.useState(s);d.useEffect(()=>{c(s)},[s]);const{flash:l}=v().props;return d.useEffect(()=>{l&&(l.toast?window.show_toast(l.title,l.message,l.icon):alert_toast(l.title,l.message,l.icon))},[l]),e.jsxs("div",{className:"flex h-screen bg-background text-gray-900",children:[e.jsx(Ie,{channelName:"notification",eventName:"notification-event",onEvent:n=>{L.reload({only:["auth"],preserveScroll:!0})}}),a.id==7?e.jsx(Ge,{}):a.id==6?e.jsx(bt,{}):e.jsx(mt,{}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"sticky top-0 z-10 border-b p-4 flex justify-between items-center shadow-sm bg-white border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-4",children:t&&e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})}),e.jsxs("div",{className:"flex items-center gap-4",children:[r,e.jsx(ut,{datas:i}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ce,{children:[e.jsx(Ae,{src:v().props.auth.user?.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${v().props.auth.user?.firstname}`,alt:v().props.auth.user?.firstname}),e.jsxs(Re,{children:[v().props.auth.user?.firstname?.[0],v().props.auth.user?.lastname?.[0]]})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[v().props.auth.user?.firstname," ",v().props.auth.user?.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v().props.auth.role?.roletype})]})]})]})]}),e.jsx("main",{className:"p-6 bg-accent/20",children:o})]}),e.jsx(We,{})]})}export{Kt as A,Fe as H,dt as S};
