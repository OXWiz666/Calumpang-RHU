import{r as x,j as e,a as C}from"./app-CHmAHYu-.js";import{B as m}from"./button-ChwiRyPe.js";import{I as l}from"./input-BPj6AWWm.js";import{L as i}from"./label-B65m6QKw.js";import{C as u,a as j,b as g,e as f,c as v}from"./card-DBbiPc8t.js";import{S,a as D,b as F,c as I,d as p}from"./select-C-klL9fb.js";import{D as _,a as A,b as E,c as U}from"./dialog-HjaLH6lU.js";import{U as k}from"./user-C7KNyBhf.js";import{X as q}from"./x-hh3rg39X.js";import{m as L}from"./proxy-u0CWR7BN.js";import{S as B}from"./save-BxXThWak.js";import"./Subservices-hmtw6ece.js";import"./utils-DnUyQCA6.js";import"./index-2qu7vwLc.js";import"./index-CYMpX3E5.js";import"./index-Db9BPqZ8.js";import"./Combination-DUkbLZrH.js";import"./index-DuaP1el2.js";import"./index-BTsu8x5p.js";import"./index-Da62_rko.js";import"./index-BjJdp2-0.js";import"./index-CmqNn0LS.js";import"./createLucideIcon-DiRkYF3I.js";function le({admin:t,isOpen:N,onClose:n,onSuccess:h}){const[a,w]=x.useState({firstname:t?.firstname||"",lastname:t?.lastname||"",email:t?.email||"",contactno:t?.contactno||"",status:t?.status||"active",role_id:t?.role_id||1,password:"",password_confirmation:""}),[c,o]=x.useState(!1),r=(s,d)=>{w(y=>({...y,[s]:d}))},b=s=>{s.preventDefault(),o(!0),C.put(`/auth/staff/admins/${t.id}`,a,{onSuccess:()=>{h&&h(a),n(),o(!1)},onError:d=>{console.error("Update failed:",d),o(!1)}})};return e.jsx(_,{open:N,onOpenChange:n,children:e.jsxs(A,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(E,{children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Edit Admin Account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update admin information and settings"})]})]}),e.jsx(m,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0",children:e.jsx(q,{className:"h-4 w-4"})})]})}),e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs(u,{children:[e.jsxs(j,{className:"pb-3",children:[e.jsx(g,{className:"text-lg",children:"Personal Information"}),e.jsx(f,{children:"Basic admin account details"})]}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"firstname",children:"First Name *"}),e.jsx(l,{id:"firstname",value:a.firstname,onChange:s=>r("firstname",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lastname",children:"Last Name *"}),e.jsx(l,{id:"lastname",value:a.lastname,onChange:s=>r("lastname",s.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email Address *"}),e.jsx(l,{id:"email",type:"email",value:a.email,onChange:s=>r("email",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"contactno",children:"Contact Number *"}),e.jsx(l,{id:"contactno",value:a.contactno,onChange:s=>r("contactno",s.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"status",children:"Account Status"}),e.jsxs(S,{value:a.status,onValueChange:s=>r("status",s),children:[e.jsx(D,{children:e.jsx(F,{placeholder:"Select status"})}),e.jsxs(I,{children:[e.jsx(p,{value:"active",children:"Active"}),e.jsx(p,{value:"inactive",children:"Inactive"}),e.jsx(p,{value:"suspended",children:"Suspended"})]})]})]})]})]}),e.jsxs(u,{children:[e.jsxs(j,{className:"pb-3",children:[e.jsx(g,{className:"text-lg",children:"Security Settings"}),e.jsx(f,{children:"Update account password"})]}),e.jsx(v,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",children:"New Password"}),e.jsx(l,{id:"password",type:"password",value:a.password,onChange:s=>r("password",s.target.value),placeholder:"Leave blank to keep current password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password_confirmation",children:"Confirm New Password"}),e.jsx(l,{id:"password_confirmation",type:"password",value:a.password_confirmation,onChange:s=>r("password_confirmation",s.target.value),placeholder:"Confirm new password"})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:n,disabled:c,children:"Cancel"}),e.jsx(m,{type:"submit",disabled:c,className:"min-w-[120px]",children:c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})})}export{le as default};
