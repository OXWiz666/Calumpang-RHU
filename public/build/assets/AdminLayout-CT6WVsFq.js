import{j as e,q as w,W as F,b as D}from"./app-cg6HAvqA.js";import{r as c,R as se}from"./vendor-C8lGyBmx.js";import{c as g}from"./index-Bo12s4d6.js";import{B as P}from"./button-BM2SOfBg.js";import"./card-CAsB6JK_.js";import{A as Pe,a as Ae,b as Re}from"./avatar-BjGcSKX0.js";import"./separator-_7odgRIl.js";import{P as L}from"./react-icons.esm-B6zOjG8a.js";import{P as B}from"./index-B0rSCQ1-.js";import{e as Ee}from"./select-BJ6G5wpj.js";import{h as _e}from"./moment-C5S46NFB.js";import"./dialog-Dls-FYEY.js";import"./input-CfcHX5xD.js";import"./label-BfwxwPK7.js";import"./calendar-t4Qy08AK.js";import"./TextInput-hHmpEqv2.js";import{c as V}from"./createLucideIcon-CxhiR5tx.js";import{X as q}from"./x-CQxRaeid.js";import{S as Z,L as G}from"./settings-bbzsXnod.js";import{H as J}from"./house-DZDIdKGo.js";import{C as de}from"./calendar-CgxTkju3.js";import{U as ue}from"./users-D1YlIFlF.js";import{B as Te}from"./badge-CZeo7hYd.js";import{N as ke,P as De}from"./pusher-DJfSGEuW.js";import{B as ne}from"./bell--UfrBpRY.js";import{A as Le}from"./index-C8DfFUJX.js";import{m as Me}from"./proxy-DO_1VohJ.js";import"./autoprefixer-CsU2Grbi.js";import{T as He}from"./Toaster-CZiSglIL.js";import{F as Ie}from"./file-text-8zq9B_j3.js";import{L as ze}from"./layers-CdV3_yyW.js";import{C as Oe}from"./chart-column-CpJljP0K.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Ue=V("Boxes",We);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],Ve=V("HeartPulse",Be);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],K=V("Menu",Xe);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],$e=V("UsersRound",Ye),Fe=({activePage:t,userRole:o="Admin"})=>{const{sidebarstate:r,setSidebarstate:a}=oe(),l=[{title:"Dashboard",icon:e.jsx(J,{className:"h-5 w-5"}),route:"admin",path:route("admin"),id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Patient Records",icon:e.jsx(ue,{className:"h-5 w-5"}),route:"patients.*",path:route("patients.index"),id:"patients",roles:["Admin","Doctor"]},{title:"Staff",icon:e.jsx($e,{className:"h-5 w-5"}),route:"admin.staff.*",request:"/admin/staff/",path:route("admin.staff.overview"),id:"staff",roles:["Admin","Doctor"]},{title:"Appointments",icon:e.jsx(de,{className:"h-5 w-5"}),route:"admin.appointments",path:route("admin.appointments"),id:"appointments",roles:["Admin","Doctor"]},{title:"Services",icon:e.jsx(ze,{className:"h-5 w-5"}),route:"admin.services*",path:route("admin.services.services"),id:"services",roles:["Admin","Doctor"]},{title:"Health Programs",icon:e.jsx(Ve,{className:"h-5 w-5"}),route:"admin.programs",path:route("admin.programs"),id:"programs",roles:["Admin","Doctor"]},{title:"Reports",icon:e.jsx(Oe,{className:"h-5 w-5"}),route:"admin.reports",path:route("admin.reports"),id:"reports",roles:["Admin"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),route:"admin.settings*",path:route("admin.settings.index"),id:"settings",roles:["Admin"]}].filter(n=>n.roles.includes(o)),d=w().props.auth.user,i=w().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(K,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),l.map(n=>e.jsx("li",{children:e.jsxs(F,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:o[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[d.firstname," ",d.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>D.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})};function qe(t,o=[]){let r=[];function a(l,d){const i=c.createContext(d),n=r.length;r=[...r,d];const m=f=>{const{scope:h,children:p,...b}=f,N=h?.[t]?.[n]||i,x=c.useMemo(()=>b,Object.values(b));return e.jsx(N.Provider,{value:x,children:p})};m.displayName=l+"Provider";function u(f,h){const p=h?.[t]?.[n]||i,b=c.useContext(p);if(b)return b;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${l}\``)}return[m,u]}const s=()=>{const l=r.map(d=>c.createContext(d));return function(i){const n=i?.[t]||l;return c.useMemo(()=>({[`__scope${t}`]:{...i,[t]:n}}),[i,n])}};return s.scopeName=t,[a,Ze(s,...o)]}function Ze(...t){const o=t[0];if(t.length===1)return o;const r=()=>{const a=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const d=a.reduce((i,{useScope:n,scopeName:m})=>{const f=n(l)[`__scope${m}`];return{...i,...f}},{});return c.useMemo(()=>({[`__scope${o.scopeName}`]:d}),[d])}};return r.scopeName=o.scopeName,r}function ae(t,o){if(typeof t=="function")return t(o);t!=null&&(t.current=o)}function Ge(...t){return o=>{let r=!1;const a=t.map(s=>{const l=ae(s,o);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let s=0;s<a.length;s++){const l=a[s];typeof l=="function"?l():ae(t[s],null)}}}}function T(...t){return c.useCallback(Ge(...t),t)}function A(t){const o=c.useRef(t);return c.useEffect(()=>{o.current=t}),c.useMemo(()=>(...r)=>o.current?.(...r),[])}var Je=c.createContext(void 0);function Ke(t){const o=c.useContext(Je);return t||o||"ltr"}var Qe=globalThis?.document?c.useLayoutEffect:()=>{};function R(t,o,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t?.(s),r===!1||!s.defaultPrevented)return o?.(s)}}function et(t,o){return c.useReducer((r,a)=>o[r][a]??r,t)}var Q="ScrollArea",[me,er]=qe(Q),[tt,S]=me(Q),he=c.forwardRef((t,o)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:l=600,...d}=t,[i,n]=c.useState(null),[m,u]=c.useState(null),[f,h]=c.useState(null),[p,b]=c.useState(null),[N,x]=c.useState(null),[C,M]=c.useState(0),[$,H]=c.useState(0),[I,k]=c.useState(!1),[z,O]=c.useState(!1),v=T(o,E=>n(E)),j=Ke(s);return e.jsx(tt,{scope:r,type:a,dir:j,scrollHideDelay:l,scrollArea:i,viewport:m,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:I,onScrollbarXEnabledChange:k,scrollbarY:N,onScrollbarYChange:x,scrollbarYEnabled:z,onScrollbarYEnabledChange:O,onCornerWidthChange:M,onCornerHeightChange:H,children:e.jsx(L.div,{dir:j,...d,ref:v,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":$+"px",...t.style}})})});he.displayName=Q;var fe="ScrollAreaViewport",pe=c.forwardRef((t,o)=>{const{__scopeScrollArea:r,children:a,nonce:s,...l}=t,d=S(fe,r),i=c.useRef(null),n=T(o,i,d.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(L.div,{"data-radix-scroll-area-viewport":"",...l,ref:n,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});pe.displayName=fe;var y="ScrollAreaScrollbar",ee=c.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=S(y,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:d}=s,i=t.orientation==="horizontal";return c.useEffect(()=>(i?l(!0):d(!0),()=>{i?l(!1):d(!1)}),[i,l,d]),s.type==="hover"?e.jsx(rt,{...a,ref:o,forceMount:r}):s.type==="scroll"?e.jsx(ot,{...a,ref:o,forceMount:r}):s.type==="auto"?e.jsx(xe,{...a,ref:o,forceMount:r}):s.type==="always"?e.jsx(te,{...a,ref:o}):null});ee.displayName=y;var rt=c.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=S(y,t.__scopeScrollArea),[l,d]=c.useState(!1);return c.useEffect(()=>{const i=s.scrollArea;let n=0;if(i){const m=()=>{window.clearTimeout(n),d(!0)},u=()=>{n=window.setTimeout(()=>d(!1),s.scrollHideDelay)};return i.addEventListener("pointerenter",m),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(n),i.removeEventListener("pointerenter",m),i.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),e.jsx(B,{present:r||l,children:e.jsx(xe,{"data-state":l?"visible":"hidden",...a,ref:o})})}),ot=c.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=S(y,t.__scopeScrollArea),l=t.orientation==="horizontal",d=Y(()=>n("SCROLL_END"),100),[i,n]=et("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(i==="idle"){const m=window.setTimeout(()=>n("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[i,s.scrollHideDelay,n]),c.useEffect(()=>{const m=s.viewport,u=l?"scrollLeft":"scrollTop";if(m){let f=m[u];const h=()=>{const p=m[u];f!==p&&(n("SCROLL"),d()),f=p};return m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[s.viewport,l,n,d]),e.jsx(B,{present:r||i!=="hidden",children:e.jsx(te,{"data-state":i==="hidden"?"hidden":"visible",...a,ref:o,onPointerEnter:R(t.onPointerEnter,()=>n("POINTER_ENTER")),onPointerLeave:R(t.onPointerLeave,()=>n("POINTER_LEAVE"))})})}),xe=c.forwardRef((t,o)=>{const r=S(y,t.__scopeScrollArea),{forceMount:a,...s}=t,[l,d]=c.useState(!1),i=t.orientation==="horizontal",n=Y(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;d(i?m:u)}},10);return _(r.viewport,n),_(r.content,n),e.jsx(B,{present:a||l,children:e.jsx(te,{"data-state":l?"visible":"hidden",...s,ref:o})})}),te=c.forwardRef((t,o)=>{const{orientation:r="vertical",...a}=t,s=S(y,t.__scopeScrollArea),l=c.useRef(null),d=c.useRef(0),[i,n]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=Se(i.viewport,i.content),u={...a,sizes:i,onSizesChange:n,hasThumb:m>0&&m<1,onThumbChange:h=>l.current=h,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:h=>d.current=h};function f(h,p){return ct(h,d.current,i,p)}return r==="horizontal"?e.jsx(st,{...u,ref:o,onThumbPositionChange:()=>{if(s.viewport&&l.current){const h=s.viewport.scrollLeft,p=le(h,i,s.dir);l.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?e.jsx(nt,{...u,ref:o,onThumbPositionChange:()=>{if(s.viewport&&l.current){const h=s.viewport.scrollTop,p=le(h,i);l.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),st=c.forwardRef((t,o)=>{const{sizes:r,onSizesChange:a,...s}=t,l=S(y,t.__scopeScrollArea),[d,i]=c.useState(),n=c.useRef(null),m=T(o,n,l.onScrollbarXChange);return c.useEffect(()=>{n.current&&i(getComputedStyle(n.current))},[n]),e.jsx(ve,{"data-orientation":"horizontal",...s,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":X(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(l.viewport){const h=l.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),ye(h,f)&&u.preventDefault()}},onResize:()=>{n.current&&l.viewport&&d&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:n.current.clientWidth,paddingStart:U(d.paddingLeft),paddingEnd:U(d.paddingRight)}})}})}),nt=c.forwardRef((t,o)=>{const{sizes:r,onSizesChange:a,...s}=t,l=S(y,t.__scopeScrollArea),[d,i]=c.useState(),n=c.useRef(null),m=T(o,n,l.onScrollbarYChange);return c.useEffect(()=>{n.current&&i(getComputedStyle(n.current))},[n]),e.jsx(ve,{"data-orientation":"vertical",...s,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":X(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(l.viewport){const h=l.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),ye(h,f)&&u.preventDefault()}},onResize:()=>{n.current&&l.viewport&&d&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:n.current.clientHeight,paddingStart:U(d.paddingTop),paddingEnd:U(d.paddingBottom)}})}})}),[at,be]=me(y),ve=c.forwardRef((t,o)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:l,onThumbPointerUp:d,onThumbPointerDown:i,onThumbPositionChange:n,onDragScroll:m,onWheelScroll:u,onResize:f,...h}=t,p=S(y,r),[b,N]=c.useState(null),x=T(o,v=>N(v)),C=c.useRef(null),M=c.useRef(""),$=p.viewport,H=a.content-a.viewport,I=A(u),k=A(n),z=Y(f,10);function O(v){if(C.current){const j=v.clientX-C.current.left,E=v.clientY-C.current.top;m({x:j,y:E})}}return c.useEffect(()=>{const v=j=>{const E=j.target;b?.contains(E)&&I(j,H)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[$,b,H,I]),c.useEffect(k,[a,k]),_(b,z),_(p.content,z),e.jsx(at,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:A(l),onThumbPointerUp:A(d),onThumbPositionChange:k,onThumbPointerDown:A(i),children:e.jsx(L.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:R(t.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),C.current=b.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(v))}),onPointerMove:R(t.onPointerMove,O),onPointerUp:R(t.onPointerUp,v=>{const j=v.target;j.hasPointerCapture(v.pointerId)&&j.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=M.current,p.viewport&&(p.viewport.style.scrollBehavior=""),C.current=null})})})}),W="ScrollAreaThumb",ge=c.forwardRef((t,o)=>{const{forceMount:r,...a}=t,s=be(W,t.__scopeScrollArea);return e.jsx(B,{present:r||s.hasThumb,children:e.jsx(lt,{ref:o,...a})})}),lt=c.forwardRef((t,o)=>{const{__scopeScrollArea:r,style:a,...s}=t,l=S(W,r),d=be(W,r),{onThumbPositionChange:i}=d,n=T(o,f=>d.onThumbChange(f)),m=c.useRef(void 0),u=Y(()=>{m.current&&(m.current(),m.current=void 0)},100);return c.useEffect(()=>{const f=l.viewport;if(f){const h=()=>{if(u(),!m.current){const p=dt(f,i);m.current=p,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[l.viewport,u,i]),e.jsx(L.div,{"data-state":d.hasThumb?"visible":"hidden",...s,ref:n,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:R(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,N=f.clientY-p.top;d.onThumbPointerDown({x:b,y:N})}),onPointerUp:R(t.onPointerUp,d.onThumbPointerUp)})});ge.displayName=W;var re="ScrollAreaCorner",we=c.forwardRef((t,o)=>{const r=S(re,t.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?e.jsx(it,{...t,ref:o}):null});we.displayName=re;var it=c.forwardRef((t,o)=>{const{__scopeScrollArea:r,...a}=t,s=S(re,r),[l,d]=c.useState(0),[i,n]=c.useState(0),m=!!(l&&i);return _(s.scrollbarX,()=>{const u=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(u),n(u)}),_(s.scrollbarY,()=>{const u=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(u),d(u)}),m?e.jsx(L.div,{...a,ref:o,style:{width:l,height:i,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function U(t){return t?parseInt(t,10):0}function Se(t,o){const r=t/o;return isNaN(r)?0:r}function X(t){const o=Se(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-r)*o;return Math.max(a,18)}function ct(t,o,r,a="ltr"){const s=X(r),l=s/2,d=o||l,i=s-d,n=r.scrollbar.paddingStart+d,m=r.scrollbar.size-r.scrollbar.paddingEnd-i,u=r.content-r.viewport,f=a==="ltr"?[0,u]:[u*-1,0];return je([n,m],f)(t)}function le(t,o,r="ltr"){const a=X(o),s=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,l=o.scrollbar.size-s,d=o.content-o.viewport,i=l-a,n=r==="ltr"?[0,d]:[d*-1,0],m=Ee(t,n);return je([0,d],[0,i])(m)}function je(t,o){return r=>{if(t[0]===t[1]||o[0]===o[1])return o[0];const a=(o[1]-o[0])/(t[1]-t[0]);return o[0]+a*(r-t[0])}}function ye(t,o){return t>0&&t<o}var dt=(t,o=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},a=0;return function s(){const l={left:t.scrollLeft,top:t.scrollTop},d=r.left!==l.left,i=r.top!==l.top;(d||i)&&o(),r=l,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function Y(t,o){const r=A(t),a=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(a.current),[]),c.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,o)},[r,o])}function _(t,o){const r=A(o);Qe(()=>{let a=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(a),s.unobserve(t)}}},[t,r])}var Ne=he,ut=pe,mt=we;const ht=c.forwardRef(({className:t,children:o,...r},a)=>e.jsxs(Ne,{ref:a,className:g("relative overflow-hidden",t),...r,children:[e.jsx(ut,{className:"h-full w-full rounded-[inherit]",children:o}),e.jsx(Ce,{}),e.jsx(mt,{})]}));ht.displayName=Ne.displayName;const Ce=c.forwardRef(({className:t,orientation:o="vertical",...r},a)=>e.jsx(ee,{ref:a,orientation:o,className:g("flex touch-none select-none transition-colors",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(ge,{className:"relative flex-1 rounded-full bg-border"})}));Ce.displayName=ee.displayName;const ft=({activePage:t,userRole:o="Admin"})=>{const{sidebarstate:r,setSidebarstate:a}=oe(),l=[{title:"Dashboard",icon:e.jsx(J,{className:"h-5 w-5"}),route:"doctor.home",path:"/doctor",id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Appointments",icon:e.jsx(de,{className:"h-5 w-5"}),route:"admin.appointments",path:"/auth/appointments",id:"appointments",roles:["Admin","Doctor"]},{title:"Patient Records",icon:e.jsx(ue,{className:"h-5 w-5"}),route:"admin.patients",path:"/auth/patients",id:"patients",roles:["Admin","Doctor"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),route:"doctor.settings",path:"/doctor/settings",id:"settings",roles:["Admin","Doctor"]}].filter(n=>n.roles.includes(o)),d=w().props.auth.user,i=w().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(K,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsx("ul",{className:"space-y-1 px-2",children:l.map(n=>e.jsx("li",{children:e.jsxs(F,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:o[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[d.firstname," ",d.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>D.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},pt=({className:t="",datas:o})=>{const[r,a]=c.useState(!1),[s,l]=c.useState(!1),[d,i]=c.useState(null),[n,m]=c.useState(!1),[u,f]=c.useState(o.all_notifications??o.notifications);let h=u.filter(x=>!x.read_at).length;c.useEffect(()=>{f(o.all_notifications??o.notifications),h=u.filter(x=>!x.read_at).length},[o]);const p=()=>{if(a(!r),!r){const x=u.map(C=>({...C,read:!0}));f(x)}},b=x=>{i(x),m(!0),a(!1)},N=x=>{switch(x){case"inventory":return"text-amber-500 bg-amber-100";case"new_appointment":return"text-blue-500 bg-blue-100";case"new_patient":return"text-green-500 bg-green-100";case"program":return"text-purple-500 bg-purple-100";default:return"text-gray-500 bg-gray-100"}};return e.jsxs("div",{className:`relative ${t}`,children:[e.jsxs(P,{variant:"ghost",size:"icon",className:"relative",onClick:p,"aria-label":"Notifications",children:[e.jsx(ne,{className:"h-5 w-5"}),h>0&&e.jsx(Te,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0",children:h})]}),e.jsx(Le,{children:r&&e.jsxs(Me.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notifications"})}),e.jsx("form",{onSubmit:x=>{x.preventDefault(),D.post(route("notifications.markAllRead"),{},{preserveScroll:!0})},children:e.jsx(P,{type:"submit",variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"Mark all as read"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-gray-200",children:(s?u:u.slice(0,3)).map(x=>e.jsx("div",{className:`p-3 hover:bg-accent/50 transition-colors cursor-pointer ${x.read_at?"":"bg-accent/20"}`,onClick:()=>b(x),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${N(x.data.type)}`,children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-medium",children:x.data.title}),e.jsx("span",{className:"text-xs text-muted-foreground",children:_e(x.created_at).fromNow()}),e.jsx("div",{className:" text-sm",children:x.read_at?e.jsx("div",{children:"Read"}):e.jsx("div",{children:"Unread"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x.data.message})]})]})},x.id))})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-accent/10",children:e.jsx(P,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",onClick:()=>l(x=>!x),children:s?"Show less":"View all notifications"})})]})}),e.jsx(ke,{isOpen:n,onClose:()=>{m(!1),i(null)},notification:d})]})},ie=t=>{let o;const r=new Set,a=(m,u)=>{const f=typeof m=="function"?m(o):m;if(!Object.is(f,o)){const h=o;o=u??(typeof f!="object"||f===null)?f:Object.assign({},o,f),r.forEach(p=>p(o,h))}},s=()=>o,i={setState:a,getState:s,getInitialState:()=>n,subscribe:m=>(r.add(m),()=>r.delete(m))},n=o=t(a,s,i);return i},xt=t=>t?ie(t):ie,bt=t=>t;function vt(t,o=bt){const r=se.useSyncExternalStore(t.subscribe,()=>o(t.getState()),()=>o(t.getInitialState()));return se.useDebugValue(r),r}const ce=t=>{const o=xt(t),r=a=>vt(o,a);return Object.assign(r,o),r},gt=t=>t?ce(t):ce,wt=({activePage:t,userRole:o="Pharmacist"})=>{const{sidebarstate:r,setSidebarstate:a}=oe(),l=[{title:"Dashboard",icon:e.jsx(J,{className:"h-5 w-5"}),route:"pharmacist.dashboard",path:"/pharmacist/dashboard",id:"dashboard",roles:["Pharmacist"]},{title:"Inventory",icon:e.jsx(Ue,{className:"h-5 w-5"}),route:"pharmacist.inventory.index",path:"/pharmacist/inventory",id:"inventory",roles:["Pharmacist"]},{title:"Reports",icon:e.jsx(Ie,{className:"h-5 w-5"}),route:"pharmacist.reports",path:"/pharmacist/reports",id:"reports",roles:["Pharmacist"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),route:"pharmacist.settings*",path:"/pharmacist/settings",id:"settings",roles:["Pharmacist"]}].filter(n=>n.roles.includes(o)),d=w().props.auth.user,i=w().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(K,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),l.map(n=>e.jsx("li",{children:e.jsxs(F,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:o[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[d.firstname," ",d.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>D.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},oe=gt(t=>({sidebarstate:!1,setSidebarstate:o=>t({sidebarstate:o})}));function tr({header:t,children:o,tools:r}){const a=w().props.auth.role,{auth:s}=w().props,[l,d]=c.useState(s);c.useEffect(()=>{d(s)},[s]);const{flash:i}=w().props;return c.useEffect(()=>{i&&(i.toast?window.show_toast(i.title,i.message,i.icon):alert_toast(i.title,i.message,i.icon))},[i]),e.jsxs("div",{className:"flex h-screen bg-background text-gray-900",children:[e.jsx(De,{channelName:"notification",eventName:"notification-event",onEvent:n=>{D.reload({only:["auth"],preserveScroll:!0})}}),a.id==7?e.jsx(Fe,{}):a.id==6?e.jsx(wt,{}):e.jsx(ft,{}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"sticky top-0 z-10 border-b p-4 flex justify-between items-center shadow-sm bg-white border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-4",children:t&&e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})}),e.jsxs("div",{className:"flex items-center gap-4",children:[r,e.jsx(pt,{datas:l}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Pe,{children:[e.jsx(Ae,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin",alt:"Admin"}),e.jsx(Re,{children:"AD"})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[w().props.auth.user?.firstname," ",w().props.auth.user?.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:w().props.auth.role?.roletype})]})]})]})]}),e.jsx("main",{className:"p-6 bg-accent/20",children:o})]}),e.jsx(He,{})]})}export{tr as A,Ve as H,ht as S};
