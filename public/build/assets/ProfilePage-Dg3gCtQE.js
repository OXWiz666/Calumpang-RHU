import{q as G,r as o,P as J,j as e,b as K}from"./app-TqJCLKmV.js";import{C as A,b as F,c as B,d as P,a as T,e as Q}from"./card-oDmUplSa.js";import{T as X,a as Z,b as R,c as U}from"./tabs-BbfMLHq9.js";import{B as n}from"./index-3nePiwcf.js";import{L as l,I as d}from"./index--_tKuAQo.js";import{T as ee}from"./textarea-HzmPMlr8.js";import{A as se,a as te,b as ae}from"./avatar-CYQuGQws.js";import{L as re}from"./LandingLayout-V3hQoOhl.js";import{c as ie}from"./createLucideIcon-BjDXxsGB.js";import{C as ne}from"./calendar-FHnRg7Uz.js";import{S as le,L as de}from"./settings-aF4lJI01.js";import{B as oe}from"./bell-BUhXvBWq.js";import{S as ce}from"./shield-CO9ciaRt.js";import{C as me}from"./check-CzLf27nY.js";import{C as xe}from"./circle-alert-BWT99vPx.js";import"./index-DvRcV7A0.js";import"./index-CC2Qmbff.js";import"./pusher-DgdbwL8J.js";import"./moment-C5S46NFB.js";import"./separator-CRsspM3H.js";import"./map-pin-CzkLysft.js";import"./chevron-up-CPxgmgmQ.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ue=ie("User",he),ze=({errors:g})=>{var k,C,L,S;const{auth:E,recentAppointments:I}=G().props,s=E.user,[x,W]=o.useState("personal"),[a,p]=o.useState(!1),[pe,v]=o.useState(!1),[je,h]=o.useState(!1),[q,f]=o.useState(!1),[z,y]=o.useState(null),w=o.useRef(null);o.useEffect(()=>{},[s]);const N=I||[],{data:r,setData:D,post:M,processing:b,recentlySuccessful:O}=J({firstname:s.firstname,middlename:s.middlename,lastname:s.lastname,suffix:s.suffix,email:s.email,avatar:s.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=juan",phone:s.contactno,address:s.address,medicalInfo:"No known allergies. Last check-up: March 2023",birthdate:s.birth,emergencyContact:(C=(k=s.emercont)==null?void 0:k[0])==null?void 0:C.contactno,bloodtype:s.bloodtype,allergies:"None",medications:"None",gender:s.gender}),i=t=>{const{id:c,value:m}=t.target;D(u=>({...u,[c]:m}))},H=t=>{t.preventDefault(),v(!0),M(route("patient.profile.update"),{onFinish:()=>{_()}})},_=()=>{v(!1),h(!0),p(!1),h(!1)},j=t=>{W(t),p(!1)},$=()=>{w.current.click()},V=t=>{const c=t.target.files[0];if(c){const m=URL.createObjectURL(c);y(m);const u=new FormData;u.append("avatar",c),K.post(route("patient.avatar.upload"),u,{forceFormData:!0,onSuccess:()=>{URL.revokeObjectURL(m),h(!0),setTimeout(()=>h(!1),3e3)},onError:()=>{f(!0),setTimeout(()=>f(!1),3e3),URL.revokeObjectURL(m),y(null)}})}},Y=t=>{switch(t){case 1:return e.jsxs("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("span",{children:"Scheduled"})]});case 2:return e.jsxs("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Completed"})]});case 3:return e.jsxs("div",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),e.jsx("span",{children:"Cancelled"})]});case 4:return e.jsxs("div",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),e.jsx("span",{children:"Declined"})]});case 5:return e.jsxs("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Confirmed"})]});default:return e.jsxs("div",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:"Pending"})]})}};return e.jsx(re,{className:"p-5",children:e.jsx("div",{className:"container m-5 mx-auto py-12 px-4 min-h-screen",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"w-full md:w-1/4",children:e.jsxs(A,{className:"bg-white sticky top-4",children:[e.jsx(F,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs(se,{className:"h-24 w-24 mb-4 border-4 border-primary/10",children:[e.jsx(te,{src:z||(s.avatar?`/storage/avatars/${s.avatar}`:r.avatar),alt:`${s.firstname} ${s.lastname}`}),e.jsxs(ae,{className:"bg-primary/10 text-primary text-xl font-bold",children:[(L=s.firstname)==null?void 0:L.charAt(0),(S=s.lastname)==null?void 0:S.charAt(0)]})]}),e.jsx("button",{onClick:$,className:"absolute bottom-4 right-0 bg-primary text-white rounded-full p-1.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",title:"Upload avatar",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),e.jsx("input",{type:"file",ref:w,className:"hidden",accept:"image/*",onChange:V})]}),e.jsxs(B,{className:"text-xl",children:[s.firstname," ",s.lastname]}),e.jsx(P,{className:"text-center",children:s.email})]})}),e.jsx(T,{children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(n,{variant:x==="personal"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:()=>j("personal"),children:[e.jsx(ue,{className:"mr-2 h-5 w-5"}),"Personal Information"]}),e.jsxs(n,{variant:x==="appointments"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:()=>j("appointments"),children:[e.jsx(ne,{className:"mr-2 h-5 w-5"}),"Appointment History"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",size:"lg",children:[e.jsx(le,{className:"mr-2 h-5 w-5"}),"Account Settings"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",size:"lg",children:[e.jsx(oe,{className:"mr-2 h-5 w-5"}),"Notifications"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",size:"lg",children:[e.jsx(ce,{className:"mr-2 h-5 w-5"}),"Privacy & Security"]})]})}),e.jsx(Q,{children:e.jsxs(n,{variant:"outline",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50",children:[e.jsx(de,{className:"mr-2 h-5 w-5"}),"Sign Out"]})})]})}),e.jsx("div",{className:"w-full md:w-3/4",children:e.jsxs(A,{className:"bg-white",children:[e.jsxs(F,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Profile Settings"}),e.jsx(P,{children:"Manage your personal information and account settings"})]}),x!=="appointments"&&e.jsx(n,{variant:a?"outline":"default",onClick:()=>p(!a),children:a?"Cancel":"Edit Profile"})]}),O&&e.jsxs("div",{className:"mt-2 p-2 bg-green-50 text-green-700 rounded-md flex items-center",children:[e.jsx(me,{className:"h-5 w-5 mr-2"}),"Profile updated successfully!"]}),q&&e.jsxs("div",{className:"mt-2 p-2 bg-red-50 text-red-700 rounded-md flex items-center",children:[e.jsx(xe,{className:"h-5 w-5 mr-2"}),"Failed to update profile. Please try again."]})]}),e.jsx(T,{children:e.jsxs(X,{value:x,onValueChange:j,children:[e.jsx("div",{className:"row"}),e.jsxs(Z,{className:"mb-4 grid grid-cols-3 gap-1",children:[e.jsx(R,{value:"personal",className:"text-xs sm:text-sm ",children:"Personal Information"}),e.jsx(R,{value:"appointments",className:"text-xs sm:text-sm ",children:"Appointment History"})]}),Object.keys(g).length>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("ul",{className:"text-sm text-red-600",children:Object.entries(g).map(([t,c])=>e.jsx("li",{children:c},t))})})]})}),e.jsx(U,{value:"personal",className:"space-y-4",children:e.jsxs("form",{onSubmit:H,children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"First Name"}),e.jsx(d,{id:"firstname",value:r.firstname,onChange:i,disabled:!a,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"middlename",children:"Middle Name"}),e.jsx(d,{id:"middlename",value:r.middlename,onChange:i,disabled:!a,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastname",children:"Last Name"}),e.jsx(d,{id:"lastname",value:r.lastname,onChange:i,disabled:!a,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 mt-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"suffix",children:"Suffix"}),e.jsx(d,{id:"suffix",type:"text",value:r.suffix,onChange:i,disabled:!a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bloodtype",children:"Blood Type"}),e.jsx(d,{id:"bloodtype",type:"text",value:r.bloodtype,onChange:i,disabled:!a})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",value:r.email,onChange:i,disabled:!a,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone Number"}),e.jsx(d,{id:"phone",value:r.phone,onChange:i,disabled:!a,required:!0})]}),e.jsxs("div",{className:" space-y-2",children:[e.jsx(l,{htmlFor:"birthdate",children:"Date of Birth"}),e.jsx(d,{id:"birthdate",type:"date",value:r.birthdate,onChange:i,disabled:!a,required:!0})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.jsxs("div",{className:" space-y-2",children:[e.jsx(l,{htmlFor:"birthdate",children:"Gender"}),e.jsx(d,{id:"gender",type:"text",value:r.gender,disabled:!a,onChange:i,required:!0})]})})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(l,{htmlFor:"address",children:"Address"}),e.jsx(ee,{id:"address",value:r.address,onChange:i,disabled:!a})]}),a&&e.jsx(n,{type:"submit",className:"mt-4",disabled:b,children:b?"Saving...":"Save Changes"})]})}),e.jsx(U,{value:"appointments",className:"space-y-4",children:N.length>0?e.jsxs("div",{className:"rounded-md border",children:[e.jsxs("div",{className:"p-4 bg-muted/50 flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium",children:"Recent Appointments"}),e.jsxs(n,{size:"sm",variant:"outline",className:"px-3 py-1 text-sm shadow-sm flex items-center justify-center",onClick:()=>window.location.href="/patient/appointments/history",children:[e.jsx("span",{children:"View All"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"ml-1",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]}),e.jsx("div",{className:"divide-y",children:N.map(t=>e.jsxs("div",{className:"p-4 hover:bg-muted/20 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center",children:[t.purpose,e.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["#",t.id]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.doctor})]}),Y(t.status_code)]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsxs("span",{children:[t.date," ","at"," ",t.time]})]})]},t.id))})]}):e.jsxs("div",{className:"text-center p-8 border rounded-md bg-muted/10",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4 text-muted-foreground",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("h3",{className:"font-medium mb-1",children:"No Appointments Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"You haven't scheduled any appointments yet."}),e.jsx(n,{onClick:()=>window.location.href="/appointments",className:"px-4 py-1 text-sm shadow-md flex items-center justify-center",children:e.jsx("span",{children:"Schedule an Appointment"})})]})})]})})]})})]})})})};export{ze as default};
