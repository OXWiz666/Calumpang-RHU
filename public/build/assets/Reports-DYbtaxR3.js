import{j as e,a as cs,b as X,r as ds}from"./app-Ci6FsPEI.js";import{r as n}from"./vendor-DkBadjUr.js";import{C as m,a as b,b as w,e as os,c as x}from"./card-aZhT47Dl.js";import{T as ms,a as xs,b as L,c as V}from"./tabs-Bse0qkPJ.js";import{B as D}from"./button-CNgURIMK.js";import{S as q,a as H,b as z,c as G,d as a}from"./select-Bs3uVyOJ.js";import{B as k}from"./badge-B0i2gCu5.js";import{D as re,f as me,a as xe,b as he,c as pe,e as ue,d as je}from"./dialog-NMjAdLkI.js";import{I as W}from"./input-CCqrrlXQ.js";import{L as f}from"./label-Bsu9V-2p.js";import{u as ie,c as ne}from"./index-BpVWxWkG.js";import{c as Me,P as K,b as Te,a as fe,h as hs}from"./react-icons.esm-Cg1Z9ZGK.js";import{u as Pe}from"./index-DqxisvwK.js";import{u as _e}from"./index-CuaviD7G.js";import{P as ps}from"./index-PUx0SOs8.js";import"./textarea-CmmM-UAe.js";import{A as us,H as js}from"./AdminLayout-DvrTmQBr.js";import{s as T}from"./toast-CjJqwmQl.js";import{m as A}from"./proxy-bGmOedB6.js";import{C as le}from"./calendar-D9APQM2e.js";import{P as ge}from"./plus-MavOGQlj.js";import{F as Se}from"./file-text-YZXa1D2L.js";import{c as gs}from"./createLucideIcon-BKWaAi2G.js";import{S as fs}from"./settings-D_MeB5oN.js";import{E as ys}from"./eye-mxYijkrE.js";import{D as vs}from"./download-BH8XyxCx.js";import{U as Ns}from"./users-D4PhO1-D.js";import{S as bs}from"./stethoscope-QcN9KdKi.js";import{T as ke}from"./trending-up-BFbz08q-.js";import{C as ws}from"./chart-column-yMaSKbSU.js";import{T as Cs}from"./trending-down-DADUT3dQ.js";import{C as Re}from"./clock-D6yUBuGv.js";import{C as Ss}from"./circle-alert-D8zT41fC.js";import{C as ks}from"./circle-x-Cf2XhiVO.js";import{C as De}from"./circle-check-big-BQVCuGNJ.js";import{f as P}from"./format-Dp3w_Y3x.js";import"./pusher-DVtoYAOu.js";import"./index-D4ivUix3.js";import"./index-B6i_t9H1.js";import"./index-BYyo8n0W.js";import"./tslib.es6-M_FJ09fS.js";import"./index-D0_reY7q.js";import"./index-DbZPFhJ9.js";import"./index-MVKj6Ku2.js";import"./avatar-CDwiAaCj.js";import"./separator-XmNd4rCi.js";import"./moment-C5S46NFB.js";import"./calendar-C_O0gbX6.js";import"./isBefore-COsor6RJ.js";import"./isSameMonth-BOwz-_mK.js";import"./TextInput-ZPi1BB0P.js";import"./x-b8JahagL.js";import"./house-CSq-WFst.js";import"./pusher-AxtNKRPu.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./pill-DIGxtF-3.js";import"./bell-HhCf5F9O.js";import"./index-BAO1aZYw.js";import"./autoprefixer-uFe7yxdA.js";import"./unit-CopbpOEH.js";import"./Toaster-DfG7JimY.js";import"./toast-CfLCVPii.js";import"./layers-OK8ayVTK.js";import"./refresh-cw-D3hZ7e_O.js";import"./save-CAdd64LS.js";import"./square-pen-Bb1JtfBr.js";import"./trash-2-DJ5zXW8D.js";import"./archive-BwGVl8jP.js";import"./info-BVLwYIm5.js";import"./triangle-alert-BslwqqvL.js";import"./circle-check-F3PuHnLX.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ds=gs("FileSpreadsheet",Rs);var ce="Checkbox",[Ms]=Me(ce),[Ts,ye]=Ms(ce);function Ps(c){const{__scopeCheckbox:r,checked:i,children:o,defaultChecked:d,disabled:l,form:p,name:N,onCheckedChange:y,required:u,value:v="on",internal_do_not_use_render:C}=c,[j,_]=Te({prop:i,defaultProp:d??!1,onChange:y,caller:ce}),[R,E]=n.useState(null),[I,g]=n.useState(null),S=n.useRef(!1),F=R?!!p||!!R.closest("form"):!0,$={checked:j,disabled:l,setChecked:_,control:R,setControl:E,name:N,form:p,value:v,hasConsumerStoppedPropagationRef:S,required:u,defaultChecked:Y(d)?!1:d,isFormControl:F,bubbleInput:I,setBubbleInput:g};return e.jsx(Ts,{scope:r,...$,children:_s(C)?C($):o})}var Ee="CheckboxTrigger",Fe=n.forwardRef(({__scopeCheckbox:c,onKeyDown:r,onClick:i,...o},d)=>{const{control:l,value:p,disabled:N,checked:y,required:u,setControl:v,setChecked:C,hasConsumerStoppedPropagationRef:j,isFormControl:_,bubbleInput:R}=ye(Ee,c),E=ie(d,v),I=n.useRef(y);return n.useEffect(()=>{const g=l?.form;if(g){const S=()=>C(I.current);return g.addEventListener("reset",S),()=>g.removeEventListener("reset",S)}},[l,C]),e.jsx(K.button,{type:"button",role:"checkbox","aria-checked":Y(y)?"mixed":y,"aria-required":u,"data-state":qe(y),"data-disabled":N?"":void 0,disabled:N,value:p,...o,ref:E,onKeyDown:fe(r,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:fe(i,g=>{C(S=>Y(S)?!0:!S),R&&_&&(j.current=g.isPropagationStopped(),j.current||g.stopPropagation())})})});Fe.displayName=Ee;var ve=n.forwardRef((c,r)=>{const{__scopeCheckbox:i,name:o,checked:d,defaultChecked:l,required:p,disabled:N,value:y,onCheckedChange:u,form:v,...C}=c;return e.jsx(Ps,{__scopeCheckbox:i,checked:d,defaultChecked:l,disabled:N,required:p,onCheckedChange:u,name:o,form:v,value:y,internal_do_not_use_render:({isFormControl:j})=>e.jsxs(e.Fragment,{children:[e.jsx(Fe,{...C,ref:r,__scopeCheckbox:i}),j&&e.jsx(Be,{__scopeCheckbox:i})]})})});ve.displayName=ce;var Ae="CheckboxIndicator",Ie=n.forwardRef((c,r)=>{const{__scopeCheckbox:i,forceMount:o,...d}=c,l=ye(Ae,i);return e.jsx(ps,{present:o||Y(l.checked)||l.checked===!0,children:e.jsx(K.span,{"data-state":qe(l.checked),"data-disabled":l.disabled?"":void 0,...d,ref:r,style:{pointerEvents:"none",...c.style}})})});Ie.displayName=Ae;var Oe="CheckboxBubbleInput",Be=n.forwardRef(({__scopeCheckbox:c,...r},i)=>{const{control:o,hasConsumerStoppedPropagationRef:d,checked:l,defaultChecked:p,required:N,disabled:y,name:u,value:v,form:C,bubbleInput:j,setBubbleInput:_}=ye(Oe,c),R=ie(i,_),E=Pe(l),I=_e(o);n.useEffect(()=>{const S=j;if(!S)return;const F=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(F,"checked").set,Z=!d.current;if(E!==l&&B){const J=new Event("click",{bubbles:Z});S.indeterminate=Y(l),B.call(S,Y(l)?!1:l),S.dispatchEvent(J)}},[j,E,l,d]);const g=n.useRef(Y(l)?!1:l);return e.jsx(K.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??g.current,required:N,disabled:y,name:u,value:v,form:C,...r,tabIndex:-1,ref:R,style:{...r.style,...I,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Be.displayName=Oe;function _s(c){return typeof c=="function"}function Y(c){return c==="indeterminate"}function qe(c){return Y(c)?"indeterminate":c?"checked":"unchecked"}const He=n.forwardRef(({className:c,...r},i)=>e.jsx(ve,{ref:i,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",c),...r,children:e.jsx(Ie,{className:ne("flex items-center justify-center text-current"),children:e.jsx(hs,{className:"h-4 w-4"})})}));He.displayName=ve.displayName;var de="Switch",[Es]=Me(de),[Fs,As]=Es(de),ze=n.forwardRef((c,r)=>{const{__scopeSwitch:i,name:o,checked:d,defaultChecked:l,required:p,disabled:N,value:y="on",onCheckedChange:u,form:v,...C}=c,[j,_]=n.useState(null),R=ie(r,F=>_(F)),E=n.useRef(!1),I=j?v||!!j.closest("form"):!0,[g,S]=Te({prop:d,defaultProp:l??!1,onChange:u,caller:de});return e.jsxs(Fs,{scope:i,checked:g,disabled:N,children:[e.jsx(K.button,{type:"button",role:"switch","aria-checked":g,"aria-required":p,"data-state":We(g),"data-disabled":N?"":void 0,disabled:N,value:y,...C,ref:R,onClick:fe(c.onClick,F=>{S($=>!$),I&&(E.current=F.isPropagationStopped(),E.current||F.stopPropagation())})}),I&&e.jsx(Ve,{control:j,bubbles:!E.current,name:o,value:y,checked:g,required:p,disabled:N,form:v,style:{transform:"translateX(-100%)"}})]})});ze.displayName=de;var Ge="SwitchThumb",Le=n.forwardRef((c,r)=>{const{__scopeSwitch:i,...o}=c,d=As(Ge,i);return e.jsx(K.span,{"data-state":We(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:r})});Le.displayName=Ge;var Is="SwitchBubbleInput",Ve=n.forwardRef(({__scopeSwitch:c,control:r,checked:i,bubbles:o=!0,...d},l)=>{const p=n.useRef(null),N=ie(p,l),y=Pe(i),u=_e(r);return n.useEffect(()=>{const v=p.current;if(!v)return;const C=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(C,"checked").set;if(y!==i&&_){const R=new Event("click",{bubbles:o});_.call(v,i),v.dispatchEvent(R)}},[y,i,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:N,style:{...d.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ve.displayName=Is;function We(c){return c?"checked":"unchecked"}var Ye=ze,Os=Le;const $e=n.forwardRef(({className:c,...r},i)=>e.jsx(Ye,{className:ne("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",c),...r,ref:i,children:e.jsx(Os,{className:ne("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));$e.displayName=Ye.displayName;const ta=()=>{const{dateRange:c,patientData:r,appointmentData:i,serviceData:o,programData:d,staffData:l,medicalData:p}=cs().props,[N,y]=n.useState("thisMonth"),[u,v]=n.useState({start:c?.start||P(new Date,"yyyy-MM-01"),end:c?.end||P(new Date,"yyyy-MM-dd")}),[C,j]=n.useState(!1),[_,R]=n.useState(!1),[E,I]=n.useState([]),[g,S]=n.useState(null),[F,$]=n.useState("pdf"),[B,Z]=n.useState("overview"),[J,Ne]=n.useState([]),[Ue,Xe]=n.useState([]),[ee,Qe]=n.useState({}),[se,te]=n.useState(!1),[be,Q]=n.useState(!1),[we,Ke]=n.useState([]),[M,Ze]=n.useState({name:"",description:"",reportType:"pdf",reportCategory:"overview",customFields:[],filters:{},frequency:"daily",time:"09:00",dayOfWeek:"monday",dayOfMonth:1,emailRecipients:"",isActive:!0});n.useEffect(()=>{(async()=>{try{const t=await X.get(route("admin.reports.templates"));I(t.data.templates)}catch(t){console.error("Error loading report templates:",t)}})(),ae()},[]),n.useEffect(()=>{Xe({overview:["patients","appointments","programs","services","staff","medical"],patients:["firstname","lastname","gender","birth","address","contactno","email"],appointments:["date","time","status","service.servicename","user.firstname","user.lastname","notes"],programs:["program_name","description","date","start_time","end_time","location","slots"],services:["servicename","description","subservices","appointment_count"],staff:["firstname","lastname","role.rolename","status","email","contactno"],medical:["patient.firstname","patient.lastname","doctor.firstname","doctor.lastname","diagnosis","treatment"],custom:["patient_registrations","appointment_completions","service_usage","staff_performance"]}[B]||[])},[B]);const Je=s=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",es=s=>({pending:e.jsx(Re,{className:"h-4 w-4"}),confirmed:e.jsx(De,{className:"h-4 w-4"}),completed:e.jsx(De,{className:"h-4 w-4"}),cancelled:e.jsx(ks,{className:"h-4 w-4"}),"no-show":e.jsx(Ss,{className:"h-4 w-4"})})[s]||e.jsx(Re,{className:"h-4 w-4"}),ss=s=>{y(s);const t=new Date;let h,U;switch(s){case"today":h=U=P(t,"yyyy-MM-dd");break;case"thisWeek":h=P(new Date(t.setDate(t.getDate()-t.getDay())),"yyyy-MM-dd"),U=P(new Date(t.setDate(t.getDate()-t.getDay()+6)),"yyyy-MM-dd");break;case"thisMonth":h=P(new Date(t.getFullYear(),t.getMonth(),1),"yyyy-MM-dd"),U=P(new Date(t.getFullYear(),t.getMonth()+1,0),"yyyy-MM-dd");break;case"lastMonth":h=P(new Date(t.getFullYear(),t.getMonth()-1,1),"yyyy-MM-dd"),U=P(new Date(t.getFullYear(),t.getMonth(),0),"yyyy-MM-dd");break;case"thisYear":h=P(new Date(t.getFullYear(),0,1),"yyyy-MM-dd"),U=P(new Date(t.getFullYear(),11,31),"yyyy-MM-dd");break;default:return}v({start:h,end:U}),ds.get(route("admin.reports"),{start_date:h,end_date:U})},Ce=async s=>{try{const t=await X.post(route("admin.reports.generate"),{report_type:s,report_category:"overview",date_range:u,custom_fields:[],filters:{}});if(t.data.success){T("Success!",`${s.toUpperCase()} report generated successfully`,"success","create");const h=document.createElement("a");h.href=t.data.download_url||"#",h.download=`admin_report_${s}_${new Date().toISOString().split("T")[0]}.${s==="pdf"?"pdf":"xlsx"}`,document.body.appendChild(h),h.click(),document.body.removeChild(h)}else T("Error",t.data.message||"Failed to generate report","error")}catch(t){console.error("Error generating report:",t),T("Error","Failed to generate report. Please try again.","error")}},ts=async()=>{te(!0);try{const s=await X.post(route("admin.reports.generate"),{report_type:F,report_category:B,date_range:u,custom_fields:J,filters:ee});s.data.success?(T("Success!",s.data.message,"success","create"),j(!1),console.log("Report generated:",s.data)):T("Error",s.data.message||"Failed to generate report","error")}catch(s){console.error("Error generating report:",s),T("Error",s.response?.data?.message||"Failed to generate report","error")}finally{te(!1)}},as=s=>{S(s),Z(s.category),Ne(s.fields)},rs=s=>{Ne(t=>t.includes(s)?t.filter(h=>h!==s):[...t,s])},oe=(s,t)=>{Qe(h=>({...h,[s]:t}))},ls=async()=>{try{te(!0);const s=await X.post(route("admin.reports.schedule"),{...M,dateRange:u});s.data.success?(T("Success!","Report scheduled successfully!","success","create"),Q(!1),ae()):T("Error",s.data.message||"Failed to schedule report","error")}catch(s){console.error("Error scheduling report:",s),T("Error",s.response?.data?.message||"Failed to schedule report","error")}finally{te(!1)}},ae=async()=>{try{const s=await X.get(route("admin.reports.scheduled"));Ke(s.data.scheduledReports||[])}catch(s){console.error("Error loading scheduled reports:",s)}},O=(s,t)=>{Ze(h=>({...h,[s]:t}))},ns=async(s,t)=>{try{(await X.post(route("admin.reports.toggle-schedule"),{scheduleId:s,isActive:t})).data.success&&(T("Success!",`Report schedule ${t?"activated":"deactivated"} successfully!`,"success","update"),ae())}catch(h){console.error("Error toggling schedule:",h),T("Error","Failed to update schedule","error")}},is=async s=>{try{(await X.delete(route("admin.reports.delete-schedule",{id:s}))).data.success&&(T("Success!","Scheduled report deleted successfully!","success","delete"),ae())}catch(t){console.error("Error deleting schedule:",t),T("Error","Failed to delete schedule","error")}};return e.jsx(us,{children:e.jsxs("div",{className:"p-6 bg-background min-h-screen",children:[e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and data analysis for RHU Calumpang"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Period: ",P(new Date(u.start),"MMM dd, yyyy")," - ",P(new Date(u.end),"MMM dd, yyyy")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{open:be,onOpenChange:Q,children:e.jsx(me,{asChild:!0,children:e.jsxs(D,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"Schedule Report"]})})}),e.jsxs(re,{open:C,onOpenChange:j,children:[e.jsx(me,{asChild:!0,children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Generate Report"]})}),e.jsxs(xe,{className:"max-w-2xl",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Generate Report"}),e.jsx(ue,{children:"Create a custom report with your selected data and filters."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Report Format"}),e.jsxs(q,{value:F,onValueChange:$,children:[e.jsx(H,{children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(a,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"PDF Document"]})}),e.jsx(a,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Excel Spreadsheet"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Report Category"}),e.jsxs(q,{value:B,onValueChange:Z,children:[e.jsx(H,{children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(a,{value:"overview",children:"Overview Report"}),e.jsx(a,{value:"patients",children:"Patient Report"}),e.jsx(a,{value:"appointments",children:"Appointment Report"}),e.jsx(a,{value:"programs",children:"Program Report"}),e.jsx(a,{value:"services",children:"Service Report"}),e.jsx(a,{value:"staff",children:"Staff Report"}),e.jsx(a,{value:"medical",children:"Medical Report"}),e.jsx(a,{value:"custom",children:"Custom Report"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Start Date"}),e.jsx(W,{type:"date",value:u.start,onChange:s=>v(t=>({...t,start:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"End Date"}),e.jsx(W,{type:"date",value:u.end,onChange:s=>v(t=>({...t,end:s.target.value}))})]})]}),B!=="overview"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Select Fields to Include"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto border rounded-md p-2",children:Ue.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{id:s,checked:J.includes(s),onCheckedChange:()=>rs(s)}),e.jsx(f,{htmlFor:s,className:"text-sm",children:s.replace(/_/g," ").replace(/\./g," - ")})]},s))})]}),B==="patients"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Gender"}),e.jsxs(q,{value:ee.gender||"",onValueChange:s=>oe("gender",s),children:[e.jsx(H,{children:e.jsx(z,{placeholder:"All genders"})}),e.jsxs(G,{children:[e.jsx(a,{value:"",children:"All"}),e.jsx(a,{value:"Male",children:"Male"}),e.jsx(a,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Age Range"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(W,{type:"number",placeholder:"Min",value:ee.age_min||"",onChange:s=>oe("age_min",s.target.value)}),e.jsx(W,{type:"number",placeholder:"Max",value:ee.age_max||"",onChange:s=>oe("age_max",s.target.value)})]})]})]})]})]}),e.jsxs(je,{children:[e.jsx(D,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(D,{onClick:ts,disabled:se,children:se?"Generating...":"Generate Report"})]})]})]}),e.jsxs(re,{open:_,onOpenChange:R,children:[e.jsx(me,{asChild:!0,children:e.jsxs(D,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),"Templates"]})}),e.jsxs(xe,{className:"max-w-4xl",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Report Templates"}),e.jsx(ue,{children:"Choose from predefined report templates or create your own custom report."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(s=>e.jsxs(m,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsxs(b,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(w,{className:"text-lg",children:s.name}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>{as(s),R(!1),j(!0)},children:e.jsx(ys,{className:"h-4 w-4"})})]}),e.jsx(os,{children:s.description})]}),e.jsx(x,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.fields.slice(0,3).map(t=>e.jsx(k,{variant:"secondary",className:"text-xs",children:t.replace(/_/g," ")},t)),s.fields.length>3&&e.jsxs(k,{variant:"secondary",className:"text-xs",children:["+",s.fields.length-3," more"]})]})})]},s.id))}),e.jsx(je,{children:e.jsx(D,{variant:"outline",onClick:()=>R(!1),children:"Close"})})]})]}),e.jsx(re,{open:be,onOpenChange:Q,children:e.jsxs(xe,{className:"max-w-3xl",children:[e.jsxs(he,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Schedule Report"]}),e.jsx(ue,{children:"Set up automatic report generation with custom frequency and email delivery."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"scheduleName",children:"Report Name"}),e.jsx(W,{id:"scheduleName",value:M.name,onChange:s=>O("name",s.target.value),placeholder:"e.g., Weekly Patient Report"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"scheduleDescription",children:"Description"}),e.jsx(W,{id:"scheduleDescription",value:M.description,onChange:s=>O("description",s.target.value),placeholder:"Brief description of the report"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Report Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Report Format"}),e.jsxs(q,{value:M.reportType,onValueChange:s=>O("reportType",s),children:[e.jsx(H,{children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(a,{value:"pdf",children:"PDF Document"}),e.jsx(a,{value:"excel",children:"Excel Spreadsheet"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Report Category"}),e.jsxs(q,{value:M.reportCategory,onValueChange:s=>O("reportCategory",s),children:[e.jsx(H,{children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(a,{value:"overview",children:"Overview"}),e.jsx(a,{value:"patients",children:"Patients"}),e.jsx(a,{value:"appointments",children:"Appointments"}),e.jsx(a,{value:"programs",children:"Health Programs"}),e.jsx(a,{value:"services",children:"Services"}),e.jsx(a,{value:"staff",children:"Staff"}),e.jsx(a,{value:"medical",children:"Medical Records"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Schedule Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Frequency"}),e.jsxs(q,{value:M.frequency,onValueChange:s=>O("frequency",s),children:[e.jsx(H,{children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(a,{value:"daily",children:"Daily"}),e.jsx(a,{value:"weekly",children:"Weekly"}),e.jsx(a,{value:"monthly",children:"Monthly"}),e.jsx(a,{value:"quarterly",children:"Quarterly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Time"}),e.jsx(W,{type:"time",value:M.time,onChange:s=>O("time",s.target.value)})]})]}),M.frequency==="weekly"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Day of Week"}),e.jsxs(q,{value:M.dayOfWeek,onValueChange:s=>O("dayOfWeek",s),children:[e.jsx(H,{children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(a,{value:"monday",children:"Monday"}),e.jsx(a,{value:"tuesday",children:"Tuesday"}),e.jsx(a,{value:"wednesday",children:"Wednesday"}),e.jsx(a,{value:"thursday",children:"Thursday"}),e.jsx(a,{value:"friday",children:"Friday"}),e.jsx(a,{value:"saturday",children:"Saturday"}),e.jsx(a,{value:"sunday",children:"Sunday"})]})]})]}),M.frequency==="monthly"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Day of Month"}),e.jsxs(q,{value:M.dayOfMonth.toString(),onValueChange:s=>O("dayOfMonth",parseInt(s)),children:[e.jsx(H,{children:e.jsx(z,{})}),e.jsx(G,{children:Array.from({length:28},(s,t)=>t+1).map(s=>e.jsx(a,{value:s.toString(),children:s},s))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Email Configuration"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"emailRecipients",children:"Email Recipients"}),e.jsx(W,{id:"emailRecipients",value:M.emailRecipients,onChange:s=>O("emailRecipients",s.target.value),placeholder:"admin@example.com, manager@example.com"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Separate multiple emails with commas"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{id:"isActive",checked:M.isActive,onCheckedChange:s=>O("isActive",s)}),e.jsx(f,{htmlFor:"isActive",children:"Active Schedule"})]})]}),e.jsxs(je,{children:[e.jsx(D,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),e.jsx(D,{onClick:ls,disabled:se,children:se?"Scheduling...":"Schedule Report"})]})]})}),e.jsxs(D,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ce("pdf"),children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{children:"Quick PDF"})]}),e.jsxs(D,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ce("excel"),children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:"Quick Excel"})]}),e.jsxs(q,{value:N,onValueChange:ss,children:[e.jsx(H,{className:"w-[180px]",children:e.jsx(z,{placeholder:"Select period"})}),e.jsxs(G,{children:[e.jsx(a,{value:"today",children:"Today"}),e.jsx(a,{value:"thisWeek",children:"This Week"}),e.jsx(a,{value:"thisMonth",children:"This Month"}),e.jsx(a,{value:"lastMonth",children:"Last Month"}),e.jsx(a,{value:"thisYear",children:"This Year"})]})]})]})]}),e.jsxs(ms,{defaultValue:"overview",className:"w-full",children:[e.jsxs(xs,{className:"mb-6",children:[e.jsx(L,{value:"overview",children:"Overview"}),e.jsx(L,{value:"patients",children:"Patients"}),e.jsx(L,{value:"appointments",children:"Appointments"}),e.jsx(L,{value:"programs",children:"Health Programs"}),e.jsx(L,{value:"services",children:"Services"}),e.jsx(L,{value:"staff",children:"Staff"}),e.jsx(L,{value:"medical",children:"Medical Records"}),e.jsx(L,{value:"scheduled",children:"Scheduled Reports"})]}),e.jsxs(V,{value:"overview",className:"space-y-6",children:[e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(m,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Patients"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r?.total||0}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[r?.newInPeriod||0," new in period"]})]}),e.jsx(Ns,{className:"h-12 w-12 text-blue-500"})]})})}),e.jsx(m,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Appointments"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:i?.total||0}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[i?.completionRate||0,"% completion rate"]})]}),e.jsx(le,{className:"h-12 w-12 text-green-500"})]})})}),e.jsx(m,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Health Programs"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:d?.activePrograms||0}),e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[d?.totalRegistrations||0," enrollments"]})]}),e.jsx(js,{className:"h-12 w-12 text-purple-500"})]})})}),e.jsx(m,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Active Services"}),e.jsx("p",{className:"text-3xl font-bold text-orange-900",children:o?.activeServices||0}),e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[o?.activeSubServices||0," sub-services"]})]}),e.jsx(bs,{className:"h-12 w-12 text-orange-500"})]})})})]}),e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(m,{children:[e.jsx(b,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Patient Registration Trends"]})}),e.jsx(x,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ws,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Monthly Registration Trend"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r?.monthlyTrend?`${Object.keys(r.monthlyTrend).length} months of data`:"No trend data available"}),r?.growthRate&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[r.growthRate>=0?e.jsx(ke,{className:"h-4 w-4 text-green-500"}):e.jsx(Cs,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{className:`text-sm font-medium ${r.growthRate>=0?"text-green-600":"text-red-600"}`,children:[r.growthRate>=0?"+":"",r.growthRate,"% growth"]})]})]})})})]})}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(m,{children:[e.jsx(b,{className:"pb-3",children:e.jsx(w,{className:"text-lg",children:"Patient Demographics"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Male"}),e.jsx(k,{variant:"secondary",children:r?.demographics?.male||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Female"}),e.jsx(k,{variant:"secondary",children:r?.demographics?.female||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Other"}),e.jsx(k,{variant:"secondary",children:r?.demographics?.other||0})]})]})})]}),e.jsxs(m,{children:[e.jsx(b,{className:"pb-3",children:e.jsx(w,{className:"text-lg",children:"Appointment Status"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:i?.statusDistribution?Object.entries(i.statusDistribution).map(([s,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[es(s),e.jsx("span",{className:"text-sm text-gray-600 capitalize",children:s})]}),e.jsx(k,{className:Je(s),children:t})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No appointment data"})})})]}),e.jsxs(m,{children:[e.jsx(b,{className:"pb-3",children:e.jsx(w,{className:"text-lg",children:"Staff Overview"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Doctors"}),e.jsx(k,{variant:"secondary",children:l?.staffCounts?.doctors||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pharmacists"}),e.jsx(k,{variant:"secondary",children:l?.staffCounts?.pharmacists||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Admins"}),e.jsx(k,{variant:"secondary",children:l?.staffCounts?.admins||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active Staff"}),e.jsx(k,{className:"bg-green-100 text-green-800",children:l?.activeStaff||0})]})]})})]})]})]}),e.jsx(V,{value:"patients",className:"space-y-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Patient Demographics"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Patients"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:r?.total||0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r?.demographics?.male||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Male"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-pink-600",children:r?.demographics?.female||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Female"})]})]})]})})]}),e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Age Distribution"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:r?.ageGroups?Object.entries(r.ageGroups).map(([s,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(k,{variant:"outline",children:t})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No age data available"})})})]})]})}),e.jsx(V,{value:"appointments",className:"space-y-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Appointment Overview"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Appointments"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:i?.total||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Completed"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:i?.completed||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Completion Rate"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[i?.completionRate||0,"%"]})]})]})})]}),e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Service Distribution"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:i?.serviceDistribution?Object.entries(i.serviceDistribution).map(([s,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(k,{variant:"outline",children:t})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No service data available"})})})]})]})}),e.jsx(V,{value:"programs",className:"space-y-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Program Overview"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Programs"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:d?.totalPrograms||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Programs"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:d?.activePrograms||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Enrollments"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:d?.totalRegistrations||0})]})]})})]}),e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Enrollment by Program"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:d?.enrollmentTrend?Object.entries(d.enrollmentTrend).map(([s,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(k,{variant:"outline",children:t})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No enrollment data available"})})})]})]})}),e.jsx(V,{value:"services",className:"space-y-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Service Overview"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Services"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:o?.totalServices||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Services"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:o?.activeServices||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Sub-services"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:o?.totalSubServices||0})]})]})})]}),e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Popular Services"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:o?.popularServices?.length>0?o.popularServices.map((s,t)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.servicename}),e.jsx(k,{variant:"outline",children:s.count})]},t)):e.jsx("p",{className:"text-sm text-gray-500",children:"No service usage data available"})})})]})]})}),e.jsx(V,{value:"staff",className:"space-y-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Staff Overview"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Staff"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:(l?.staffCounts?.doctors||0)+(l?.staffCounts?.pharmacists||0)+(l?.staffCounts?.admins||0)})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:l?.staffCounts?.doctors||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Doctors"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:l?.staffCounts?.pharmacists||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Pharmacists"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-purple-600",children:l?.staffCounts?.admins||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Admins"})]})]})]})})]}),e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Staff Status"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Staff"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:l?.activeStaff||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Inactive Staff"}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:l?.inactiveStaff||0})]})]})})]})]})}),e.jsx(V,{value:"medical",className:"space-y-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Medical Records Overview"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Records"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:p?.totalRecords||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Records This Period"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:p?.recordsInPeriod||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Prescriptions"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:p?.totalPrescriptions||0})]})]})})]}),e.jsxs(m,{children:[e.jsx(b,{children:e.jsx(w,{children:"Common Diagnoses"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:p?.commonDiagnoses?Object.entries(p.commonDiagnoses).slice(0,5).map(([s,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(k,{variant:"outline",children:t})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No diagnosis data available"})})})]})]})}),e.jsx(V,{value:"scheduled",className:"space-y-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scheduled Reports"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your automated report generation schedules"})]}),e.jsxs(D,{onClick:()=>Q(!0),className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Schedule New Report"]})]}),e.jsx("div",{className:"grid gap-4",children:we.length>0?we.map(s=>e.jsx(m,{className:"hover:shadow-md transition-shadow",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx(k,{className:s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:s.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.reportType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Category:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.reportCategory})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Frequency:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.frequency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Time:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.time})]})]}),s.emailRecipients&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Recipients:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s.emailRecipients})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>ns(s.id,!s.isActive),className:s.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700",children:s.isActive?"Deactivate":"Activate"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>is(s.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]})})},s.id)):e.jsx(m,{children:e.jsxs(x,{className:"p-12 text-center",children:[e.jsx(le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Scheduled Reports"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't scheduled any reports yet. Create your first scheduled report to get started."}),e.jsxs(D,{onClick:()=>Q(!0),className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Schedule Your First Report"]})]})})})]})})]})]})})};export{ta as default};
