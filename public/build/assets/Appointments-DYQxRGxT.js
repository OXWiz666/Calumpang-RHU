import{u as ke,a as Ce,j as e,r as H,b as se}from"./app-4lbu88kA.js";import{A as Se}from"./AdminLayout-B5jylQ92.js";import{r as p}from"./vendor-DkBadjUr.js";import"./moment-C5S46NFB.js";import{B as M}from"./button-BXpDG3fF.js";import{C as y,a as P,c as k}from"./card-luqOxrG8.js";import{I as Ae}from"./input-N5zOrGrX.js";import{A as K,a as q,b as Y}from"./avatar-BYPIvY84.js";import{B as v}from"./badge-yHzilfWW.js";import{S as I,a as T,b as F,c as $,d as o}from"./select-C-0693IG.js";import{C as Le}from"./CustomModal-ByXC6Za7.js";import{S as Xe,T as Ze,a as es,b as De,c as C,d as ss,e as S}from"./table2-BkHFJDM0.js";import{P as te}from"./PrimaryButton-ByQLUZAl.js";import{I as A}from"./InputLabel-DIpbNtrv.js";import{I as V}from"./InputError-BRw4PoU1.js";import{T as G}from"./textarea-CpaS5p9M.js";import{F as ts,z as J}from"./index-WHihrx3k.js";import{t as L,a as rs}from"./toast-DVcbSrQT.js";import{A as as,a as ns,b as is,c as ls,d as os,e as ds,f as cs,g as ms}from"./alert-dialog-B354MU26.js";import{m as xs}from"./proxy-Dc_Gbux2.js";import{S as hs}from"./search-Cye_TdpF.js";import{F as ps}from"./filter-BAwJ6QQu.js";import{E as us}from"./eye-mxYijkrE.js";import{T as gs}from"./trash-2-DJ5zXW8D.js";import{c as js}from"./createLucideIcon-BKWaAi2G.js";import{C as fs}from"./chevron-left-B36-TXNE.js";import{C as bs}from"./chevron-right-B3qqnx4D.js";import{S as _e}from"./stethoscope-QcN9KdKi.js";import{U as re}from"./user-3RJR1iCA.js";import{F as Ns}from"./file-text-YZXa1D2L.js";import{C as vs}from"./circle-check-big-BQVCuGNJ.js";import"./pusher-DVtoYAOu.js";import"./index-BzPzP57-.js";import"./separator-DqF1LXiM.js";import"./react-icons.esm-CCKgqiWC.js";import"./index-MO574hLd.js";import"./index-DO3t3vkD.js";import"./dialog-vlGViv4z.js";import"./index-KF1t5bS2.js";import"./tslib.es6-M_FJ09fS.js";import"./label-xH30sM7L.js";import"./calendar-CoN2zrIs.js";import"./index-Dyxvh50g.js";import"./index-BHGKAdXF.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput-BSQIaTF_.js";import"./x-b8JahagL.js";import"./settings-D_MeB5oN.js";import"./house-CSq-WFst.js";import"./calendar-D9APQM2e.js";import"./users-D4PhO1-D.js";import"./pill-DIGxtF-3.js";import"./pusher-RZ9y-pSV.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./index-CldvPdt6.js";import"./autoprefixer-Bkxp4-ve.js";import"./unit-CopbpOEH.js";import"./Toaster-D0zRMICv.js";import"./toast-C3xy5K6A.js";import"./index-DyRdtInp.js";import"./index-BWRETVzy.js";import"./use-toast-Dm0PN6fH.js";import"./layers-OK8ayVTK.js";import"./chart-column-yMaSKbSU.js";import"./index-DqxisvwK.js";import"./refresh-cw-D3hZ7e_O.js";import"./save-CAdd64LS.js";import"./square-pen-Bb1JtfBr.js";import"./download-BH8XyxCx.js";import"./archive-BwGVl8jP.js";import"./info-BVLwYIm5.js";import"./triangle-alert-BslwqqvL.js";import"./circle-x-Cf2XhiVO.js";import"./circle-check-F3PuHnLX.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],ys=js("CircleArrowUp",ws);function Xt({appointments_:D,activeServices:B}){const[h,Me]=p.useState(D.data||[]),[u,ae]=p.useState(""),[j,ne]=p.useState("all"),[W,ie]=p.useState("all"),[f,le]=p.useState("all"),[m,ks]=p.useState({key:"date",direction:"ascending"}),[Q,Pe]=p.useState(!1),oe=()=>{if(h.length>0){console.log("Sample appointment data:",h[0]),console.log("Appointment status type:",typeof h[0]?.status),console.log("Appointment status value:",h[0]?.status);const t=[...new Set(h.map(a=>a.status).filter(Boolean))];console.log("All unique status values in appointments:",t)}B&&B.length>0&&console.log("Active services available:",B),console.log("Simple test - appointments with status 1:",h.filter(t=>t.status===1).length),console.log('Simple test - appointments with status "1":',h.filter(t=>t.status==="1").length),console.log('Simple test - appointments with status "scheduled":',h.filter(t=>t.status==="scheduled").length);let s=h.filter(t=>{const a=!u||t.firstname?.toLowerCase().includes(u.toLowerCase())||t.lastname?.toLowerCase().includes(u.toLowerCase())||t.reference_number?.toLowerCase().includes(u.toLowerCase())||t.email?.toLowerCase().includes(u.toLowerCase())||t.phone?.includes(u),r=j==="all"||(()=>{if(!t.status)return!1;const d={scheduled:1,confirmed:5,completed:2,cancelled:3,declined:4,archived:6},c=t.status,R=j.toLowerCase().trim();if(typeof c=="number"||!isNaN(c)){const ve=parseInt(c),we=d[R],ye=we===ve;return j!=="all"&&console.log(`Status filter: ${R} (${we}), Appointment status: ${ve}, Matches: ${ye}`),ye}const N=String(t.status).toLowerCase().trim(),Qe=j.toLowerCase().trim();return N===Qe})(),l=W==="all"||(()=>{if(!t.service?.servicename)return!1;const d=String(t.service.servicename).toLowerCase().trim(),c=W.toLowerCase().trim();return W!=="all"&&console.log(`Purpose filter: ${c}, Appointment purpose: ${d}, Matches: ${d===c}`),d===c})(),g=f==="all"||(()=>{if(!t.date)return!1;const d=new Date(t.date),c=new Date;if(f==="morning"||f==="afternoon"||f==="evening"){const N=new Date(t.date+" "+(t.time||"00:00:00")).getHours();switch(f){case"morning":return N>=6&&N<12;case"afternoon":return N>=12&&N<18;case"evening":return N>=18&&N<24;default:return!0}}switch(f){case"today":return d.toDateString()===c.toDateString();case"week":return c-d<=7*24*60*60*1e3;case"month":return c-d<=30*24*60*60*1e3;case"year":return d.getFullYear()===c.getFullYear();case"upcoming":return d>c;case"past":return d<c;default:return!0}})();return a&&r&&l&&g});return s.sort((t,a)=>{let r=t[m.key],l=a[m.key];if(m.key.includes(".")){const g=m.key.split(".");r=g.reduce((d,c)=>d?.[c],t),l=g.reduce((d,c)=>d?.[c],a)}return m.key==="id"?(r=parseInt(r)||0,l=parseInt(l)||0):(m.key==="date"||m.key==="created_at")&&(r=new Date(r),l=new Date(l)),r<l?m.direction==="ascending"?-1:1:r>l?m.direction==="ascending"?1:-1:0}),s},Ie=()=>{ae(""),ne("all"),ie("all"),le("all")},z=s=>{if(!s)return"Not specified";try{const t=new Date(s);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},X=s=>{if(!s)return"Not specified";try{let t=s;s.includes(" ")&&(t=s.split(" ")[1]||s.split(" ")[0]);const[a,r]=t.split(":"),l=parseInt(a,10),g=parseInt(r,10);if(isNaN(l)||isNaN(g))return s;const d=l>=12?"PM":"AM",c=l===0?12:l>12?l-12:l,R=g.toString().padStart(2,"0");return`${c}:${R} ${d}`}catch(t){return console.error("Error formatting time:",t),s}},Te=s=>{if(!s)return"Not specified";try{const t=new Date(s);return isNaN(t.getTime())?"Invalid date":t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"Invalid time"}},de=s=>{if(!s)return"UNKNOWN";try{const t=new Date(s);return isNaN(t.getTime())?"UNKNOWN":t.toISOString().slice(0,10).replace(/-/g,"")}catch{return"UNKNOWN"}};[...(h||[]).filter(s=>{const t=s.firstname?.toLowerCase().includes(u.toLowerCase())||s.lastname?.toLowerCase().includes(u.toLowerCase())||s.middlename?.toLowerCase().includes(u.toLowerCase())||s.email?.toLowerCase().includes(u.toLowerCase())||s.phone?.toLowerCase().includes(u.toLowerCase())||s.reference_number?.toLowerCase().includes(u.toLowerCase()),a=j==="all"||s.status===j;return t&&a})].sort((s,t)=>{let a=s[m.key],r=t[m.key];if(m.key.includes(".")){const l=m.key.split(".");a=l.reduce((g,d)=>g?.[d],s),r=l.reduce((g,d)=>g?.[d],t)}if(a==null)return m.direction==="ascending"?-1:1;if(r==null)return m.direction==="ascending"?1:-1;if(m.key==="id"&&(a=parseInt(a)||0,r=parseInt(r)||0),typeof a=="string"&&typeof r=="string"){const l=a.toLowerCase().localeCompare(r.toLowerCase());return m.direction==="ascending"?l:-l}return a<r?m.direction==="ascending"?-1:1:a>r?m.direction==="ascending"?1:-1:0});const ce=()=>e.jsx(e.Fragment,{}),Fe=s=>{if(!s)return null;switch(s){case 1:return e.jsx(v,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Scheduled"});case 2:return e.jsx(v,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Completed"});case 3:return e.jsx(v,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Cancelled"});case 4:return e.jsx(v,{className:"bg-orange-100 text-orange-800 hover:bg-orange-200",children:"Declined"});case 5:return e.jsx(v,{className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-200",children:"Confirmed"});case 6:return e.jsx(v,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Archived"});default:return e.jsx(v,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Unknown"})}},[$e,me]=p.useState(!1),[Ve,Be]=p.useState(!1),[i,Z]=p.useState(null),[We,xe]=p.useState(""),[he,pe]=p.useState(null),[E,ue]=p.useState([]),[n,ze]=p.useState({}),{data:w,setData:ge,processing:je,recentlySuccessful:Ss,errors:Ue,post:Oe}=ke({status:null}),{data:x,setData:_,processing:fe,errors:U,post:As}=ke({diagnosis:"",symptoms:"",treatment_plan:"",notes:"",pertinent_findings:""}),Re=(s,t)=>{fetch(`/auth/appointment/get/${t}`).then(a=>a.json()).then(a=>{ze(a),ge("status",a.status)}),me(!0)},be=s=>{me(!1)},ee=()=>{Be(!1),Z(null),xe(""),pe(null),ue([]),_({diagnosis:"",symptoms:"",treatment_plan:"",notes:""})},He=s=>{xe(s);const t=h.find(r=>r.id===parseInt(s));pe(t);const a=h.filter(r=>r.firstname===t.firstname&&r.lastname===t.lastname&&r.status===5);ue(a),Z(null)},Ee=s=>{const t=E.find(a=>a.id===parseInt(s));Z(t)},Ne=()=>{const s=[],t=new Set;return h.forEach(a=>{if(a.status===5){const r=`${a.firstname}_${a.lastname}`;t.has(r)||(t.add(r),s.push(a))}}),s},Ke=s=>{if(s.preventDefault(),console.log("=== DIAGNOSIS FORM SUBMISSION STARTED ==="),console.log("Form submission started"),console.log("Selected Appointment:",i),console.log("Diagnosis Data:",x),!i){L("Appointment Selection Required","Please select a patient and their appointment.");return}if(!i.id){L("Invalid Appointment","The selected appointment does not have a valid ID.");return}if(!x.diagnosis.trim()){L("Diagnosis Required","Please enter a diagnosis.");return}if(!x.symptoms.trim()){L("Symptoms Required","Please describe the symptoms.");return}console.log("Submitting diagnosis for appointment:",i.id);const t=route("admin.appointments.diagnose");console.log("Route found:",t),console.log("Form data being sent:",{appointment_id:i.id,diagnosis:x.diagnosis,symptoms:x.symptoms,treatment_plan:x.treatment_plan,notes:x.notes,pertinent_findings:x.pertinent_findings}),console.log("Selected appointment object:",i),console.log("Selected appointment ID:",i?.id),se.post(t,{appointment_id:i.id,diagnosis:x.diagnosis,symptoms:x.symptoms,treatment_plan:x.treatment_plan,notes:x.notes,pertinent_findings:x.pertinent_findings}).then(a=>{console.log("Diagnosis submission successful:",a.data),rs("Diagnosis Added Successfully","The diagnosis has been recorded for this appointment."),ee(),H.reload({only:["appointments_"]})}).catch(a=>{if(console.error("Diagnosis submission failed:",a.response?.data||a.message),a.response?.data?.errors){const r=a.response.data.errors,l=[];r.appointment_id&&l.push(`Appointment: ${Array.isArray(r.appointment_id)?r.appointment_id[0]:r.appointment_id}`),r.diagnosis&&l.push(`Diagnosis: ${Array.isArray(r.diagnosis)?r.diagnosis[0]:r.diagnosis}`),r.symptoms&&l.push(`Symptoms: ${Array.isArray(r.symptoms)?r.symptoms[0]:r.symptoms}`),r.treatment_plan&&l.push(`Treatment Plan: ${Array.isArray(r.treatment_plan)?r.treatment_plan[0]:r.treatment_plan}`),r.notes&&l.push(`Notes: ${Array.isArray(r.notes)?r.notes[0]:r.notes}`),l.length>0?L("Diagnosis Submission Failed",l.join(`
`)):L("Diagnosis Submission Failed","An error occurred while submitting the diagnosis. Please check your inputs and try again.")}else L("Diagnosis Submission Failed","An unexpected error occurred. Please try again.")})},{inertia:Ls}=Ce(),[b,O]=p.useState({isOpen:!1,type:null,appointmentId:null}),qe=async s=>{try{const t=await se.post("/auth/appointments/archive",{appointment_id:s});J.success(t.data?.message||"Appointment archived successfully"),H.reload({only:["appointments_"]})}catch(t){console.error("Error archiving appointment:",t),J.error(t.response?.data?.message||"Failed to archive appointment")}finally{O({isOpen:!1,type:null,appointmentId:null})}},Ye=async s=>{try{const t=await se.post("/auth/appointments/unarchive",{appointment_id:s});J.success(t.data?.message||"Appointment restored successfully"),H.reload({only:["appointments_"]})}catch(t){console.error("Error restoring appointment:",t),J.error(t.response?.data?.message||"Failed to restore appointment")}finally{O({isOpen:!1,type:null,appointmentId:null})}};p.useEffect(()=>{Me(D.data)},[D]);const Ge=s=>{s.preventDefault(),Oe(route("admin.appointment.status.update",{appointment:n.id}),{onSuccess:()=>{be(),alert_toast("Success!","Status updated successfully!","success"),H.reload({only:["appointments_"]})}})},{links:Je}=Ce().props.appointments_;return!h||h.length===0?e.jsx(Se,{header:"Appointments",tools:ce(),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Appointments"})}),e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No appointments found."})})]})}):e.jsxs(Se,{header:"Appointments",tools:ce(),children:[e.jsx(ts,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#363636",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}}),e.jsxs(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"All Appointments"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and track all appointment records"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Ae,{type:"text",placeholder:"Search by name, reference, email, or phone...",value:u,onChange:s=>ae(s.target.value),className:"pl-10 w-full md:w-[300px] bg-gray-50 border-gray-200 focus:border-primary"})]}),e.jsxs(M,{variant:"outline",onClick:()=>Pe(!Q),className:"flex items-center gap-2",children:[e.jsx(ps,{className:"h-4 w-4"}),Q?"Hide Filters":"Show Filters"]}),(u||j!=="all"||W!=="all"||f!=="all")&&e.jsx(M,{variant:"outline",onClick:Ie,className:"text-red-600 hover:text-red-700",children:"Clear Filters"})]})]}),Q&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Status"}),e.jsxs(I,{value:j,onValueChange:ne,children:[e.jsx(T,{children:e.jsx(F,{placeholder:"All Statuses"})}),e.jsxs($,{children:[e.jsx(o,{value:"all",children:"All Statuses"}),e.jsx(o,{value:"scheduled",children:"Scheduled"}),e.jsx(o,{value:"confirmed",children:"Confirmed"}),e.jsx(o,{value:"completed",children:"Completed"}),e.jsx(o,{value:"cancelled",children:"Cancelled"}),e.jsx(o,{value:"declined",children:"Declined"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Purpose"}),e.jsxs(I,{value:W,onValueChange:ie,children:[e.jsx(T,{children:e.jsx(F,{placeholder:"All Purposes"})}),e.jsxs($,{children:[e.jsx(o,{value:"all",children:"All Purposes"}),B&&B.map(s=>e.jsx(o,{value:s.servicename.toLowerCase(),children:s.servicename},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Date & Time"}),e.jsxs(I,{value:f,onValueChange:le,children:[e.jsx(T,{children:e.jsx(F,{placeholder:"All Dates"})}),e.jsxs($,{children:[e.jsx(o,{value:"all",children:"All Dates"}),e.jsx(o,{value:"today",children:"Today"}),e.jsx(o,{value:"week",children:"This Week"}),e.jsx(o,{value:"month",children:"This Month"}),e.jsx(o,{value:"year",children:"This Year"}),e.jsx(o,{value:"upcoming",children:"Upcoming"}),e.jsx(o,{value:"past",children:"Past"}),e.jsx(o,{value:"morning",children:"Morning (6AM-12PM)"}),e.jsx(o,{value:"afternoon",children:"Afternoon (12PM-6PM)"}),e.jsx(o,{value:"evening",children:"Evening (6PM-12AM)"})]})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",oe().length," of ",h.length," appointments"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Xe,{data:oe(),defaultSort:{key:"firstname",direction:"asc"},children:({sortedData:s})=>e.jsxs(Ze,{children:[e.jsx(es,{children:e.jsxs(De,{children:[e.jsx(C,{sortKey:"id",sortable:!0,children:"Appointment ID"}),e.jsx(C,{sortKey:"user.firstname",sortable:!0,children:"Patient"}),e.jsx(C,{sortKey:"date",sortable:!0,children:"Date & Time"}),e.jsx(C,{sortKey:"created_at",sortable:!0,children:"Created Date & Time"}),e.jsx(C,{sortKey:"service.servicename",sortable:!0,children:"Purpose"}),e.jsx(C,{sortKey:"status",sortable:!0,children:"Status"}),e.jsx(C,{children:"Actions"})]})}),e.jsxs(ss,{children:[s.length<=0&&e.jsx("div",{className:" m-5",children:"No Records Available."}),s.map((t,a)=>e.jsxs(De,{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}),e.jsxs("div",{className:"font-semibold text-gray-800",children:["#",t.id]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(K,{children:[e.jsx(q,{src:t.profile_picture||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.firstname}`,alt:t.firstname||"Patient"}),e.jsx(Y,{children:t.firstname?.split(" ")?.map(r=>r[0])?.join("")||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:`${t.firstname||""} ${t.middlename||""} ${t.lastname||""}`.trim()}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Patient ID: ",t.patient?.patient_id||`PAT_${t.firstname?.substring(0,3).toUpperCase()}_${t.lastname?.substring(0,3).toUpperCase()}_${de(t.created_at)}`]}),e.jsx("div",{className:"text-xs text-blue-600",children:"Patient"})]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"font-semibold text-gray-800",children:z(t.date)})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:X(t.time)})]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"font-semibold text-gray-800",children:z(t.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[e.jsx("div",{className:"p-1 bg-orange-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:Te(t.created_at)})]})]})}),e.jsx(S,{children:t.service?.servicename}),e.jsx(S,{children:Fe(t.status)}),e.jsx(S,{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{onClick:r=>{Re(r,t.id)},className:"inline-flex items-center p-2 rounded-full hover:bg-gray-100",title:"View Details",children:e.jsx(us,{className:"h-4 w-4"})}),t.status!==6?e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>O({isOpen:!0,type:"archive",appointmentId:t.id}),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors duration-200",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Archive"]}):e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>O({isOpen:!0,type:"unarchive",appointmentId:t.id}),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 transition-colors duration-200",children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),"Restore"]})]})})]},a))]})]})})})}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",e.jsx("span",{className:"font-medium",children:D.from})," to"," ",e.jsx("span",{className:"font-medium",children:D.to})," of"," ",e.jsx("span",{className:"font-medium",children:D.total})," Results"]}),e.jsx("div",{className:"flex gap-2",children:Je.map((s,t)=>e.jsx(M,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url||s.active,onClick:()=>s.url&&H.get(s.url),className:"min-w-[40px] h-[36px]",children:s.label.includes("Previous")?e.jsx(fs,{className:"h-4 w-4"}):s.label.includes("Next")?e.jsx(bs,{className:"h-4 w-4"}):s.label},t))})]})]}),e.jsxs(Le,{isOpen:$e,hasCancel:!0,onClose:be,maxWidth:"7xl",canceltext:"Close",savetext:"",className:"max-h-[95vh] overflow-y-auto w-full",children:[e.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 rounded-t-lg -m-6 mb-4 p-5 text-white",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Appointment Details"}),e.jsx("p",{className:"text-blue-100 mt-0.5 text-xs lg:text-sm",children:"Comprehensive appointment information and management"})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-blue-100 text-xs font-medium mb-0.5",children:"Status"}),e.jsx(v,{className:`${w.status==1?"bg-blue-500 text-white border-blue-400":w.status==5?"bg-green-500 text-white border-green-400":w.status==4?"bg-red-500 text-white border-red-400":"bg-gray-500 text-white border-gray-400"} text-xs font-semibold px-3 py-1 whitespace-nowrap`,children:w.status==1?"Scheduled":w.status==5?"Confirmed":w.status==4?"Declined":"Unknown"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-4",children:[e.jsx("div",{className:"xl:col-span-3",children:e.jsxs(y,{className:"h-full shadow-lg border-0 bg-gradient-to-br from-white to-blue-50/30",children:[e.jsx(P,{className:"pb-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Patient Information"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Personal details and contact information"})]})]})}),e.jsxs(k,{className:"p-3 space-y-3",children:[n?.profile_picture&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs(K,{className:"w-20 h-20 border-4 border-blue-200 shadow-lg",children:[e.jsx(q,{src:n.profile_picture,alt:n.firstname||"Patient"}),e.jsx(Y,{children:n.firstname?.split(" ")?.map(s=>s[0])?.join("")||"N/A"})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]})}),e.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 shadow-sm",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-blue-800",children:"Appointment Patient"}),e.jsx("p",{className:"text-[10px] text-blue-600",children:"Verified record"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"sm:col-span-2 lg:col-span-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("p",{className:"text-xs font-semibold text-blue-700",children:"Full Name"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:n?`${n.firstname||""} ${n.middlename||""} ${n.lastname||""}`.trim():"No patient data"})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-purple-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Patient ID"})]}),e.jsx("p",{className:"text-xs font-mono bg-gray-100 px-2 py-1 rounded text-gray-800",children:n?n.patient?.patient_id||`PAT_${n.firstname?.substring(0,3).toUpperCase()||"UNK"}_${n.lastname?.substring(0,3).toUpperCase()||"UNK"}_${de(n.created_at)}`:"No patient data"})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-green-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Email Address"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.email||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-orange-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Phone Number"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.phone||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-pink-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Date of Birth"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.date_of_birth?new Date(n.date_of_birth).toLocaleDateString():e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-indigo-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Age"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.date_of_birth?(()=>{const s=new Date(n.date_of_birth),t=new Date;let a=t.getFullYear()-s.getFullYear();const r=t.getMonth()-s.getMonth();return(r<0||r===0&&t.getDate()<s.getDate())&&a--,a})():e.jsx("span",{className:"text-gray-400 italic",children:"Not available"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-cyan-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Gender"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.gender||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-teal-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Registration Date"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.created_at?z(n.created_at):"Not available"})]})]})]})]})}),e.jsx("div",{className:"xl:col-span-2",children:e.jsxs(y,{className:"h-full shadow-lg border-0 bg-gradient-to-br from-white to-green-50/30",children:[e.jsx(P,{className:"pb-3 bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Appointment Details"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Service and scheduling information"})]})]})}),e.jsxs(k,{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-green-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-green-700",children:"Service"})]}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:n?.service?.servicename||e.jsx("span",{className:"text-gray-400 italic",children:"Not specified"})})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-blue-700",children:"Appointment Date & Time"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-blue-600 font-medium",children:"Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:n?.date?z(n.date):"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-blue-600 font-medium",children:"Time"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:n?.time?X(n.time):e.jsx("span",{className:"text-gray-400 italic",children:"Not specified"})})]})]})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-purple-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Sub-service"})]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:n?.subservice?.subservicename||e.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-orange-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Reference Number"})]}),e.jsx("p",{className:"text-xs font-mono bg-gray-100 px-2 py-1 rounded text-gray-800",children:n?.reference_number||e.jsx("span",{className:"text-gray-400 italic",children:"Not generated"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-red-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2M9 4a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Priority Number"})]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:n?.priority_number||e.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]})]})]})})]}),n?.notes&&e.jsxs(y,{className:"mt-4 shadow-lg border-0 bg-gradient-to-br from-white to-yellow-50/30",children:[e.jsx(P,{className:"pb-3 bg-gradient-to-r from-yellow-50 to-amber-50 border-b border-yellow-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Additional Notes"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Important information and comments"})]})]})}),e.jsx(k,{className:"p-3",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-lg p-3 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"p-1.5 bg-yellow-500 rounded-md mt-0.5",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:n?.notes})})]})})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Update Status:"})]}),e.jsxs(I,{value:w.status,onValueChange:s=>{ge("status",s)},children:[e.jsx(T,{className:"w-full sm:w-[180px] bg-white border-2 border-gray-200 focus:border-blue-500 rounded-lg",children:e.jsx(F,{placeholder:"Select status"})}),e.jsxs($,{children:[e.jsx(o,{value:1,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Scheduled"})]})}),e.jsx(o,{value:5,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Confirmed"})]})}),e.jsx(o,{value:4,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Declined"})]})})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(te,{disabled:je,onClick:Ge,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 rounded-lg font-semibold shadow-lg text-sm",children:je?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3.5 w-3.5 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Save Changes"]})})})]}),e.jsx(V,{message:Ue.status,className:"mt-3 text-red-600 font-medium"})]})]}),e.jsx(as,{open:b.isOpen,onOpenChange:s=>O({isOpen:s,type:null,appointmentId:null}),children:e.jsxs(ns,{className:"max-w-[400px]",children:[e.jsxs(is,{children:[e.jsx(ls,{className:"text-lg font-semibold",children:b.type==="archive"?"Archive Appointment":"Restore Appointment"}),e.jsx(os,{className:"text-gray-600",children:b.type==="archive"?"Are you sure you want to archive this appointment? This will remove it from the active list.":"Are you sure you want to restore this appointment? This will return it to the active list."})]}),e.jsxs(ds,{children:[e.jsx(cs,{className:"border-gray-200 hover:bg-gray-50",children:"Cancel"}),e.jsx(ms,{onClick:()=>{b.type==="archive"?qe(b.appointmentId):Ye(b.appointmentId)},className:`${b.type==="archive"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,children:b.type==="archive"?"Archive":"Restore"})]})]})}),e.jsxs(Le,{isOpen:Ve,hasCancel:!0,onClose:ee,maxWidth:"4xl",canceltext:"Cancel",savetext:"",className:"max-h-[95vh] overflow-y-auto w-full",children:[e.jsx("div",{className:"relative bg-gradient-to-r from-green-600 via-green-700 to-emerald-700 rounded-t-lg -m-6 mb-4 p-5 text-white",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm flex-shrink-0",children:e.jsx(_e,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Create Diagnosis"}),e.jsx("p",{className:"text-green-100 mt-0.5 text-xs lg:text-sm",children:"Record diagnosis and treatment plan for patient"})]})]}),i?e.jsxs("div",{className:"flex items-center gap-3 bg-white/10 rounded-lg p-3 backdrop-blur-sm min-w-0 flex-shrink-0",children:[e.jsxs(K,{className:"w-10 h-10 flex-shrink-0",children:[e.jsx(q,{src:i.profile_picture||`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.firstname}`,alt:i.firstname||"Patient"}),e.jsx(Y,{className:"text-sm font-semibold",children:i.firstname?.charAt(0)||"N"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-green-100 text-xs font-medium mb-1",children:"Selected Patient"}),e.jsx("p",{className:"text-sm font-semibold text-white truncate",title:`${i.firstname||""} ${i.lastname||""}`.trim(),children:`${i.firstname||""} ${i.lastname||""}`.trim()}),e.jsxs("p",{className:"text-xs text-green-200 truncate",children:["ID: PAT_",i.firstname?.substring(0,3).toUpperCase(),"_",i.lastname?.substring(0,3).toUpperCase(),"_",i.created_at?.slice(0,10).replace(/-/g,"")]})]})]}):e.jsxs("div",{className:"flex items-center gap-3 bg-white/10 rounded-lg p-3 backdrop-blur-sm min-w-0 flex-shrink-0",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-green-100 text-xs font-medium mb-1",children:"No Patient Selected"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"Please select a patient below"})]})]})]})}),e.jsxs("form",{onSubmit:Ke,className:"space-y-6",children:[e.jsxs(y,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-blue-50/30",children:[e.jsx(P,{className:"pb-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Patient Selection"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Choose the patient and their appointment for diagnosis"})]})]})}),e.jsxs(k,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"patient_selection",className:"text-sm font-semibold text-gray-700 block",children:"Select Patient *"}),e.jsxs(I,{value:We,onValueChange:He,children:[e.jsx(T,{className:"mt-1 w-full",children:e.jsx(F,{placeholder:"Choose a patient"})}),e.jsx($,{children:Ne().length>0?Ne().map(s=>e.jsx(o,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{className:"w-6 h-6",children:[e.jsx(q,{src:s.profile_picture||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.firstname}`,alt:s.firstname||"Patient"}),e.jsx(Y,{className:"text-xs",children:s.firstname?.charAt(0)||"N"})]}),e.jsx("div",{className:"font-medium text-sm",children:`${s.firstname||""} ${s.lastname||""}`.trim()})]})},s.id)):e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:"No Confirmed Patients Available"}),e.jsx("div",{className:"text-xs",children:"Only patients with confirmed appointments can receive diagnoses"})]})})]})]}),he&&E.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"appointment_selection",className:"text-sm font-semibold text-gray-700 block",children:"Select Appointment *"}),e.jsxs(I,{value:i?.id?.toString()||"",onValueChange:Ee,children:[e.jsx(T,{className:"mt-1 w-full",children:e.jsx(F,{placeholder:"Choose an appointment"})}),e.jsx($,{children:E.map(s=>e.jsx(o,{value:s.id.toString(),children:e.jsx("div",{className:"font-medium text-sm",children:s.service?.servicename||"General Consultation"})},s.id))})]})]}),he&&E.length===0&&e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-yellow-600 text-xs",children:"!"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"No Confirmed Appointments"}),e.jsx("div",{className:"text-xs text-yellow-600",children:"This patient has no confirmed appointments. Only confirmed appointments can receive diagnoses."})]})]})})]})]}),i&&e.jsx(y,{className:"shadow-lg border-0 bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200",children:e.jsx(k,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-green-800 text-base mb-2",children:`${i.firstname||""} ${i.lastname||""}`.trim()}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"ID:"})," PAT_",i.firstname?.substring(0,3).toUpperCase(),"_",i.lastname?.substring(0,3).toUpperCase(),"_",i.created_at?.slice(0,10).replace(/-/g,"")]}),e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"Service:"})," ",i.service?.servicename||"General Consultation"]}),i.subservice?.subservicename&&e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"Subservice:"})," ",i.subservice.subservicename]}),e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",z(i.date)," at ",X(i.time)]})]})]})]})})}),e.jsxs(y,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-green-50/30",children:[e.jsx(P,{className:"pb-3 bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg",children:e.jsx(Ns,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Diagnosis Information"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Primary diagnosis and symptoms"})]})]})}),e.jsxs(k,{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx(A,{htmlFor:"diagnosis",className:"text-sm font-semibold text-gray-700",children:"Primary Diagnosis *"}),e.jsx(Ae,{id:"diagnosis",type:"text",value:x.diagnosis,onChange:s=>_("diagnosis",s.target.value),placeholder:"Enter the primary diagnosis",className:"mt-1",required:!0}),e.jsx(V,{message:U.diagnosis,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"symptoms",className:"text-sm font-semibold text-gray-700",children:"Symptoms *"}),e.jsx(G,{id:"symptoms",value:x.symptoms,onChange:s=>_("symptoms",s.target.value),placeholder:"Describe the patient's symptoms",className:"mt-1",rows:3,required:!0}),e.jsx(V,{message:U.symptoms,className:"mt-1"})]})]})]}),e.jsxs(y,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-blue-50/30",children:[e.jsx(P,{className:"pb-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:e.jsx(vs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Treatment Plan"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Recommended treatment and follow-up"})]})]})}),e.jsxs(k,{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx(A,{htmlFor:"treatment_plan",className:"text-sm font-semibold text-gray-700",children:"Treatment Plan"}),e.jsx(G,{id:"treatment_plan",value:x.treatment_plan,onChange:s=>_("treatment_plan",s.target.value),placeholder:"Describe the recommended treatment plan",className:"mt-1",rows:3}),e.jsx(V,{message:U.treatment_plan,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"notes",className:"text-sm font-semibold text-gray-700",children:"Assessment"}),e.jsx(G,{id:"notes",value:x.notes,onChange:s=>_("notes",s.target.value),placeholder:"Any additional notes or recommendations",className:"mt-1",rows:2}),e.jsx(V,{message:U.notes,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"pertinent_findings",className:"text-sm font-semibold text-gray-700",children:"Pertinent Findings"}),e.jsx(G,{id:"pertinent_findings",value:x.pertinent_findings,onChange:s=>_("pertinent_findings",s.target.value),placeholder:"Enter pertinent findings from examination",className:"mt-1",rows:3}),e.jsx(V,{message:U.pertinent_findings,className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(M,{type:"button",variant:"outline",onClick:ee,className:"px-6 py-2",children:"Cancel"}),e.jsx(te,{type:"submit",disabled:fe,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:fe?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Diagnosis..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Create Diagnosis"]})})]})]})]})]})}export{Xt as default};
