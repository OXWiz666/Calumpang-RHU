import{q as ie,j as e}from"./app-cg6HAvqA.js";import{r as x}from"./vendor-C8lGyBmx.js";import{B as z}from"./button-BM2SOfBg.js";import{A as ne}from"./AdminLayout-CT6WVsFq.js";import{I as oe}from"./input-CfcHX5xD.js";import{A as ce,a as de,b as me}from"./avatar-BjGcSKX0.js";import{S as he,T as xe,a as ge,b as U,c as p,d as ue,e as w}from"./table2-CCwBXMpa.js";import{S as F,a as D,b as A,c as P,d as o}from"./select-BJ6G5wpj.js";import{m as _e}from"./proxy-DO_1VohJ.js";import{S as je}from"./search-D_bSKCng.js";import{F as pe}from"./filter-BXNLVpbS.js";import"./pusher-88Z950oj.js";import"./index-Bo12s4d6.js";import"./card-CAsB6JK_.js";import"./separator-_7odgRIl.js";import"./react-icons.esm-B6zOjG8a.js";import"./index-B0rSCQ1-.js";import"./moment-C5S46NFB.js";import"./dialog-Dls-FYEY.js";import"./index-It-miY68.js";import"./tslib.es6-M_FJ09fS.js";import"./label-BfwxwPK7.js";import"./calendar-t4Qy08AK.js";import"./index-Dl8iqCFB.js";import"./format-Dp3w_Y3x.js";import"./isBefore-COsor6RJ.js";import"./isSameMonth-BOwz-_mK.js";import"./TextInput-hHmpEqv2.js";import"./createLucideIcon-CxhiR5tx.js";import"./x-CQxRaeid.js";import"./settings-bbzsXnod.js";import"./house-DZDIdKGo.js";import"./calendar-CgxTkju3.js";import"./users-D1YlIFlF.js";import"./badge-CZeo7hYd.js";import"./pusher-DJfSGEuW.js";import"./printer-3BHp4X0X.js";import"./file-text-8zq9B_j3.js";import"./package-D--cHD_H.js";import"./circle-check-big-DhFJ8pYG.js";import"./pill-DF_nrwcI.js";import"./bell--UfrBpRY.js";import"./index-C8DfFUJX.js";import"./autoprefixer-CsU2Grbi.js";import"./unit-BQ-CQZ3l.js";import"./Toaster-CZiSglIL.js";import"./toast-DiC2ZxzD.js";import"./index-BDNcGVgT.js";import"./index-D43seCg5.js";import"./layers-CdV3_yyW.js";import"./chart-column-CpJljP0K.js";import"./index-CpYaqqOj.js";function ws({patients_:J}){const{auth:y}=ie().props;console.log("Auth object:",y),y?.user?.role==="doctor"||y?.user?.role==="Doctor"||y?.user?.type==="doctor"||y?.user?.type;const[i,we]=x.useState(J),[g,T]=x.useState(""),[f,W]=x.useState("all"),[h,R]=x.useState("male");useEffect(()=>{console.log("Gender filter changed to:",h)},[h]);const[k,I]=x.useState("all"),[C,O]=x.useState("all"),[v,fe]=x.useState({key:"firstname",direction:"ascending"}),[$,Q]=x.useState(!1),[M,Y]=x.useState({isOpen:!1,patient:null}),[u,G]=x.useState({isOpen:!1,patient:null,notes:""}),E=()=>{if(i.length>0){const s=[...new Set(i.map(a=>a.gender).filter(Boolean))],l=[...new Set(i.map(a=>a.status).filter(Boolean))];console.log("Available gender values in data:",s),console.log("Available status values in data:",l),console.log("Sample patient data:",i[0]),console.log("Patient status type:",typeof i[0]?.status),console.log("Patient gender type:",typeof i[0]?.gender),console.log("Current filters:",{genderFilter:h,statusFilter:f,ageRangeFilter:k,dateRangeFilter:C}),console.log("First 5 patients gender values:",i.slice(0,5).map(a=>({name:`${a.firstname} ${a.lastname}`,gender:a.gender,genderType:typeof a.gender})))}let t=0,n=0,V=0,L=0,K=0,H=i.filter(s=>{const l=!g||s.firstname?.toLowerCase().includes(g.toLowerCase())||s.lastname?.toLowerCase().includes(g.toLowerCase())||s.id?.toLowerCase().includes(g.toLowerCase())||s.contactno?.includes(g)||s.email?.toLowerCase().includes(g.toLowerCase());l&&t++;const a=f==="all"||(()=>{if(!s.status)return!1;const r={active:["active","1",1],inactive:["inactive","0",0],pregnant:["pregnant","2",2]},c=String(s.status).toLowerCase().trim(),d=f.toLowerCase().trim(),m=r[d]||[d],q=m.includes(c)||m.includes(s.status);return f!=="all"&&console.log(`Status filter: ${d}, Patient status: ${s.status} (${c}), Matches: ${q}`),q})();a&&n++;const _=h==="all"||(()=>{if(!s.gender)return console.log("Patient has no gender:",s.firstname,s.lastname),!1;const r=String(s.gender).toLowerCase().trim(),c=h.toLowerCase().trim();if(console.log(`Gender comparison - Filter: "${c}", Patient: "${r}" (${s.gender}), Patient: ${s.firstname} ${s.lastname}`),c==="male"){const m=r==="male"||r==="m"||r==="masculine"||r==="1"||s.gender===1;return console.log(`Male filter check - Patient: ${s.firstname}, Gender: "${r}" (${s.gender}), Matches: ${m}`),m}else if(c==="female"){const m=r==="female"||r==="f"||r==="feminine"||r==="2"||s.gender===2;return console.log(`Female filter check - Patient: ${s.firstname}, Gender: "${r}" (${s.gender}), Matches: ${m}`),m}const d=r===c;return console.log(`Exact match check - Filter: "${c}", Patient: "${r}", Matches: ${d}`),d})();_&&V++;const N=k==="all"||(()=>{if(!s.date_of_birth)return!1;const r=new Date,c=new Date(s.date_of_birth);let d=r.getFullYear()-c.getFullYear();const m=r.getMonth()-c.getMonth();switch((m<0||m===0&&r.getDate()<c.getDate())&&d--,k){case"0-17":return d>=0&&d<=17;case"18-30":return d>=18&&d<=30;case"31-50":return d>=31&&d<=50;case"51-65":return d>=51&&d<=65;case"65+":return d>65;default:return!0}})();N&&L++;const j=C==="all"||(()=>{if(!s.registration_date)return!1;const r=new Date(s.registration_date),c=new Date;switch(C){case"today":return r.toDateString()===c.toDateString();case"week":return c-r<=7*24*60*60*1e3;case"month":return c-r<=30*24*60*60*1e3;case"year":return r.getFullYear()===c.getFullYear();default:return!0}})();j&&K++;const b=l&&a&&_&&N&&j;return h!=="all"&&i.indexOf(s)<3&&console.log(`Patient ${s.firstname} ${s.lastname}:`,{matchesSearch:l,matchesStatus:a,matchesGender:_,matchesAgeRange:N,matchesDateRange:j,finalMatch:b,gender:s.gender,status:s.status}),b});console.log("Filter match counts:",{totalPatients:i.length,searchMatches:t,statusMatches:n,genderMatches:V,ageMatches:L,dateMatches:K,finalFiltered:H.length}),i.length>0&&console.log("First 3 patients full data:",i.slice(0,3).map(s=>({name:`${s.firstname} ${s.lastname}`,gender:s.gender,status:s.status,date_of_birth:s.date_of_birth,registration_date:s.registration_date}))),console.log('Simple test - patients with gender "Male":',i.filter(s=>s.gender==="Male").length),console.log('Simple test - patients with gender "male":',i.filter(s=>s.gender==="male").length),console.log('Simple test - patients with gender containing "ale":',i.filter(s=>s.gender&&s.gender.includes("ale")).length),console.log('Simple test - patients with status "active":',i.filter(s=>s.status==="active").length),console.log("Simple test - patients with status 1:",i.filter(s=>s.status===1).length),console.log('Simple test - patients with status "1":',i.filter(s=>s.status==="1").length),console.log("Current genderFilter value:",h),console.log("Test filtering with current genderFilter:",i.filter(s=>{if(!s.gender)return!1;const l=String(s.gender).toLowerCase().trim(),a=h.toLowerCase().trim();return l===a||a==="male"&&(l==="male"||l==="1"||s.gender===1)||a==="female"&&(l==="female"||l==="2"||s.gender===2)}).length),console.log('Test with hardcoded "male" filter:',i.filter(s=>{if(!s.gender)return!1;const l=String(s.gender).toLowerCase().trim();return l==="male"||l==="1"||s.gender===1}).length);const le="male";return console.log("Forced gender filter test:",i.filter(s=>{if(!s.gender)return!1;const l=String(s.gender).toLowerCase().trim(),a=le.toLowerCase().trim();return l===a||a==="male"&&(l==="male"||l==="1"||s.gender===1)||a==="female"&&(l==="female"||l==="2"||s.gender===2)}).length),H.sort((s,l)=>{let a=s[v.key],_=l[v.key];if(v.key.includes(".")){const N=v.key.split(".");a=N.reduce((j,b)=>j?.[b],s),_=N.reduce((j,b)=>j?.[b],l)}return a<_?v.direction==="ascending"?-1:1:a>_?v.direction==="ascending"?1:-1:0}),H},X=()=>{T(""),W("all"),R("all"),I("all"),O("all")},Z=t=>{Y({isOpen:!0,patient:t})},B=()=>{Y({...M,isOpen:!1})},ee=t=>{G({isOpen:!0,patient:t,notes:t.diagnosis_notes||""})},S=()=>{G({...u,isOpen:!1})},se=t=>{G({...u,notes:t})},te=()=>{u.patient&&console.log("Saving diagnosis notes:",u.notes),S()},ae=()=>{if(!M.isOpen||!M.patient)return null;const t=M.patient;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:B}),e.jsxs("div",{className:"relative rounded-lg shadow-xl w-full max-w-4xl mx-4 overflow-auto max-h-[90vh] transform transition-all bg-white",children:[e.jsxs("div",{className:"sticky top-0 border-b px-6 py-4 flex justify-between items-center z-10 bg-gray-100 border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"font-semibold",children:"Medical Record:"})," ",e.jsxs("span",{className:"ml-2",children:[t.firstname," ",t.lastname]})]}),e.jsx("button",{onClick:B,className:"text-white hover:text-gray-200 rounded-full p-1 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"border rounded-lg overflow-hidden shadow-sm bg-white border-gray-200",children:[e.jsxs("div",{className:"border-b p-5 border-gray-200 bg-gray-50",children:[e.jsxs("h4",{className:"font-bold text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"1. Patient Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Name:"}),e.jsxs("span",{className:"text-white",children:[t.firstname," ",t.lastname]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Address:"}),e.jsx("span",{className:"text-white",children:t.address||"Purok ___, Brgy. Calumpang, GenSan"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Contact No.:"}),e.jsx("span",{className:"text-white",children:t.contactno||"___________"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Age:"}),e.jsx("span",{className:"text-white",children:t.age||"___"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Sex:"}),e.jsx("span",{className:"text-white",children:t.gender||"M / F"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"PhilHealth No.:"}),e.jsx("span",{className:"text-white",children:t.philhealth_no||"___________"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Created At:"}),e.jsx("span",{className:"text-white",children:t.created_at?new Date(t.created_at).toLocaleString():"Not available"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"4Ps Member:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"4ps-yes",className:"h-4 w-4",checked:t.is_4ps}),e.jsx("label",{htmlFor:"4ps-yes",className:"text-sm text-white",children:"Yes"}),e.jsx("input",{type:"checkbox",id:"4ps-no",className:"h-4 w-4 ml-2",checked:!t.is_4ps}),e.jsx("label",{htmlFor:"4ps-no",className:"text-sm text-white",children:"No"})]})]})]})]})]}),e.jsxs("div",{className:"border-b p-5 border-gray-200 bg-white",children:[e.jsxs("h4",{className:"font-bold text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2m0 0V5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"2. Vital Signs & Initial Assessment"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Date:"}),e.jsx("span",{className:"text-white",children:t.last_visit_date||"__/__/____"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-16 text-white",children:"BP:"}),e.jsxs("span",{className:"text-white",children:[t.bp||"___/__"," mmHg"]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-16 text-white",children:"Temp:"}),e.jsxs("span",{className:"text-white",children:[t.temp||"__"," Â°C"]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-16 text-white",children:"Pulse:"}),e.jsxs("span",{className:"text-white",children:[t.pulse||"___"," bpm"]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-16 text-white",children:"RR:"}),e.jsxs("span",{className:"text-white",children:[t.rr||"___"," breaths/min"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-24 text-white",children:"Height:"}),e.jsxs("span",{className:"text-white",children:[t.height||"___"," cm"]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-24 text-white",children:"Weight:"}),e.jsxs("span",{className:"text-white",children:[t.weight||"___"," kg"]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-24 text-white",children:"BMI:"}),e.jsx("span",{className:"text-white",children:t.bmi||"___"})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Chief Complaint:"}),e.jsx("span",{className:"text-white",children:t.chief_complaint||"___________________"})]})]})]}),e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 p-5 bg-gray-50 dark:bg-gray-800",children:[e.jsxs("h4",{className:"font-bold text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2m0 0V5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"3. Medical History"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Past Illnesses:"}),e.jsx("span",{className:"text-white",children:t.past_illnesses||"___________________"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Family History:"}),e.jsx("span",{className:"text-white",children:t.family_history||"___________________"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Allergies:"}),e.jsx("span",{className:"text-white",children:t.allergies||"___________________"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Current Medications:"}),e.jsx("span",{className:"text-white",children:t.current_medications||"___________________"})]})]})]}),e.jsxs("div",{className:"p-5 border-b bg-white border-gray-200",children:[e.jsxs("h4",{className:"font-bold text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"4. Consultation Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Diagnosis/Findings:"}),e.jsx("span",{className:"text-white",children:t.diagnosis||"___________________"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Treatment Given:"}),e.jsx("span",{className:"text-white",children:t.treatment||"___________________"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Medications Prescribed:"}),e.jsx("span",{className:"text-white",children:t.medications_prescribed||"___________________"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Referral Needed?"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"referral-yes",className:"h-4 w-4",checked:t.referral_needed}),e.jsxs("label",{htmlFor:"referral-yes",className:"text-sm text-white",children:["Yes (Specify: ",t.referral_details||"_______",")"]}),e.jsx("input",{type:"checkbox",id:"referral-no",className:"h-4 w-4 ml-2",checked:!t.referral_needed}),e.jsx("label",{htmlFor:"referral-no",className:"text-sm text-white",children:"No"})]})]})]})]}),e.jsxs("div",{className:"border-b p-5 border-gray-200 bg-white",children:[e.jsxs("h4",{className:"font-bold text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"5. Maternal & Child Health"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"prenatal",className:"h-4 w-4",checked:t.prenatal_checkup}),e.jsxs("label",{htmlFor:"prenatal",className:"ml-2 text-white",children:["Prenatal Checkup - LMP: ",t.lmp||"_________"," AOG: ",t.aog||"____"," weeks"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"postnatal",className:"h-4 w-4",checked:t.postnatal_checkup}),e.jsxs("label",{htmlFor:"postnatal",className:"ml-2 text-white",children:["Postnatal Checkup - Date of Delivery: ",t.delivery_date||"___________"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"immunization",className:"h-4 w-4",checked:t.child_immunization}),e.jsxs("label",{htmlFor:"immunization",className:"ml-2 text-white",children:["Child Immunization - Vaccine Given: ",t.vaccine_given||"___________"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"nutritional",className:"h-4 w-4",checked:t.nutritional_status}),e.jsx("label",{htmlFor:"nutritional",className:"ml-2 text-white",children:"Nutritional Status - "}),e.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[e.jsx("input",{type:"checkbox",id:"normal",className:"h-4 w-4",checked:t.nutritional_status==="Normal"}),e.jsx("label",{htmlFor:"normal",className:"text-sm text-white",children:"Normal"}),e.jsx("input",{type:"checkbox",id:"underweight",className:"h-4 w-4 ml-2",checked:t.nutritional_status==="Underweight"}),e.jsx("label",{htmlFor:"underweight",className:"text-sm text-white",children:"Underweight"}),e.jsx("input",{type:"checkbox",id:"overweight",className:"h-4 w-4 ml-2",checked:t.nutritional_status==="Overweight"}),e.jsx("label",{htmlFor:"overweight",className:"text-sm text-white",children:"Overweight"})]})]})]})]}),e.jsxs("div",{className:"p-5 bg-white",children:[e.jsxs("h4",{className:"font-bold text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"6. Follow-Up & Health Worker's Notes"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Next Visit Date:"}),e.jsx("span",{className:"text-white",children:t.next_visit_date||"__/__/____"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Health Advice Given:"}),e.jsx("span",{className:"text-white",children:t.health_advice||"___________________"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-medium w-32 text-white",children:"Attending Health Worker:"}),e.jsxs("span",{className:"text-white",children:[t.attending_health_worker||"___________________"," (Signature)"]})]})]})]})]})}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-100 dark:bg-gray-800 px-6 py-3 flex justify-between border-t border-gray-200 dark:border-gray-700 shadow-inner",children:[e.jsxs("button",{onClick:()=>ee(t),className:"bg-primary hover:bg-primary/90 text-white px-5 py-2 rounded-md text-sm font-medium shadow-md flex items-center justify-center w-32 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Diagnosis Notes"]}),e.jsxs("button",{onClick:B,className:"bg-gray-800 hover:bg-black text-white px-4 py-2 rounded-md text-sm font-medium shadow-sm flex items-center transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Close"]})]})]})]})},re=()=>{if(!u.isOpen||!u.patient)return null;const t=u.patient;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:S}),e.jsxs("div",{className:"relative rounded-lg shadow-xl w-full max-w-2xl mx-4 overflow-auto max-h-[90vh] transform transition-all bg-white",children:[e.jsxs("div",{className:"sticky top-0 bg-primary border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex justify-between items-center z-10",children:[e.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{className:"font-semibold",children:"Diagnosis Notes:"})," ",e.jsxs("span",{className:"ml-2",children:[t.firstname," ",t.lastname]})]}),e.jsx("button",{onClick:S,className:"text-white hover:text-gray-200 rounded-full p-1 hover:bg-gray-700 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"diagnosis-notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Doctor's Diagnosis Notes"}),e.jsx("textarea",{id:"diagnosis-notes",rows:10,className:"w-full rounded-md border px-4 py-2 focus:border-primary focus:ring-primary border-gray-300 bg-white text-gray-900",placeholder:"Enter detailed diagnosis notes here...",value:u.notes,onChange:n=>se(n.target.value)})]})})}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-100 dark:bg-gray-800 px-6 py-3 flex justify-end space-x-3 border-t border-gray-200 dark:border-gray-700 shadow-inner",children:[e.jsx("button",{onClick:S,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-md text-sm font-medium shadow-sm flex items-center transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:te,className:"bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md text-sm font-medium shadow-md flex items-center transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Notes"]})]})]})]})};return e.jsxs(ne,{header:"Patients",children:[e.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"rounded-lg shadow-sm p-6 bg-white",children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary",children:"All Patients"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(oe,{placeholder:"Search patients by name, ID, contact, or email...",value:g,onChange:t=>T(t.target.value),className:"pl-10 w-[300px]"})]}),e.jsxs(z,{variant:"outline",onClick:()=>Q(!$),className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),$?"Hide Filters":"Show Filters"]}),(g||f!=="all"||h!=="all"||k!=="all"||C!=="all")&&e.jsx(z,{variant:"outline",onClick:X,className:"text-red-600 hover:text-red-700",children:"Clear Filters"})]})]}),$&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Status"}),e.jsxs(F,{value:f,onValueChange:W,children:[e.jsx(D,{children:e.jsx(A,{placeholder:"All Statuses"})}),e.jsxs(P,{children:[e.jsx(o,{value:"all",children:"All Statuses"}),e.jsx(o,{value:"active",children:"Active"}),e.jsx(o,{value:"inactive",children:"Inactive"}),e.jsx(o,{value:"pregnant",children:"Pregnant"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Gender"}),e.jsxs(F,{value:h,onValueChange:t=>{console.log("Gender Select onValueChange called with:",t),R(t)},children:[e.jsx(D,{children:e.jsx(A,{placeholder:"All Genders"})}),e.jsxs(P,{children:[e.jsx(o,{value:"all",children:"All Genders"}),e.jsx(o,{value:"male",children:"Male"}),e.jsx(o,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Age Range"}),e.jsxs(F,{value:k,onValueChange:I,children:[e.jsx(D,{children:e.jsx(A,{placeholder:"All Ages"})}),e.jsxs(P,{children:[e.jsx(o,{value:"all",children:"All Ages"}),e.jsx(o,{value:"0-17",children:"0-17 years"}),e.jsx(o,{value:"18-30",children:"18-30 years"}),e.jsx(o,{value:"31-50",children:"31-50 years"}),e.jsx(o,{value:"51-65",children:"51-65 years"}),e.jsx(o,{value:"65+",children:"65+ years"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Registration Date"}),e.jsxs(F,{value:C,onValueChange:O,children:[e.jsx(D,{children:e.jsx(A,{placeholder:"All Dates"})}),e.jsxs(P,{children:[e.jsx(o,{value:"all",children:"All Dates"}),e.jsx(o,{value:"today",children:"Today"}),e.jsx(o,{value:"week",children:"This Week"}),e.jsx(o,{value:"month",children:"This Month"}),e.jsx(o,{value:"year",children:"This Year"})]})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",E().length," of ",i.length," patients"]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsx(he,{data:E(),defaultSort:{key:"firstname",direction:"asc"},children:({sortedData:t})=>e.jsxs(xe,{children:[e.jsx(ge,{children:e.jsxs(U,{children:[e.jsx(p,{sortKey:"user.firstname",sortable:!0,children:"Patient"}),e.jsx(p,{sortKey:"user.birth",sortable:!0,children:"Birth"}),e.jsx(p,{sortKey:"user.gender",sortable:!0,children:"Gender"}),e.jsx(p,{sortKey:"user.contactno",sortable:!0,children:"Contact Information"}),e.jsx(p,{children:"Last Visit"}),e.jsx(p,{sortKey:"created_at",sortable:!0,children:"Created At"}),e.jsx(p,{children:"Action"})]})}),e.jsx(ue,{children:t.map((n,V)=>e.jsxs(U,{children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ce,{children:[e.jsx(de,{src:n.profile_picture||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n.firstname}`,alt:n.firstname||"Patient"}),e.jsx(me,{children:`${n.firstname} ${n.lastname}`.split(" ").map(L=>L[0]).join("")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[n.firstname," ",n.lastname]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["P - ",n.id]})]})]})}),e.jsx(w,{children:n.birth??"Not Set"}),e.jsx(w,{children:n.gender}),e.jsx(w,{children:"09123"}),e.jsx(w,{children:"2023-5-3"}),e.jsx(w,{children:n.created_at?new Date(n.created_at).toLocaleString():"Not available"}),e.jsx(w,{children:e.jsx("div",{className:"flex space-x-2",children:e.jsxs(z,{variant:"outline",size:"sm",className:"w-24 text-sm px-4 py-1.5 shadow-sm flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 border border-gray-300 hover:border-gray-400 rounded-md transition-colors",onClick:()=>Z(n),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"VIEW"]})})})]}))})]})})})]})}),ae(),re()]})}export{ws as default};
