import{j as e,q as H,r as l,P as q,b as I}from"./app-Ba5qYgvy.js";import{C as z,a as A,b as T,c as O}from"./card-BMhwqOii.js";import{B as F}from"./button-cPeJY8wi.js";import{h as W}from"./moment-C5S46NFB.js";import"./separator-BqFDkvo6.js";import{C as U}from"./CustomModal-D28exBkG.js";import{C as J}from"./circle-check-CmhrfRNq.js";import{C as Y}from"./circle-alert-BMgBqGhv.js";import{C as G}from"./calendar-2yl4iFVL.js";import{C as K}from"./clock-BHXTegzc.js";import{M as Q}from"./map-pin-Del1TneC.js";import{U as X}from"./users-CNjImTwB.js";import{f as S}from"./format-BtYX0kVO.js";import"./index-DhUthHrA.js";import"./dialog-DgkSrtJr.js";import"./index-MJcPZHh9.js";import"./index-DXtrkMtD.js";import"./Combination-CKtHIfip.js";import"./react-icons.esm-Bip7RB5a.js";import"./input-DrB0u88z.js";import"./label-BbiRlExS.js";import"./select-DRYwnWif.js";import"./index-BU9W1smV.js";import"./index-BR-bg6ev.js";import"./index-Dg9mMLMB.js";import"./createLucideIcon-DLb0a15Q.js";function Z({errors:a}){return e.jsx(e.Fragment,{children:Object.keys(a).length>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("ul",{className:"text-sm text-red-600",children:Object.entries(a).map(([t,s])=>e.jsx("li",{children:s},t))})})]})})})}const Fe=({isOpen:a,onClose:t=()=>{},schedule:s})=>{var c,x,u,f,g,p,b,j,N,y,v,h,w,k,C,M,_;const{program:$,isLoggedin:ee,auth:r}=H().props,[re,L]=l.useState(!1),[n,P]=l.useState(null),[m,B]=l.useState(null),{setData:R,post:V,errors:D,processing:d}=q({program_id:s==null?void 0:s.id,user_id:(c=r==null?void 0:r.user)==null?void 0:c.id,first_name:(x=r==null?void 0:r.user)==null?void 0:x.firstname,middle_name:(u=r==null?void 0:r.user)==null?void 0:u.middlename,last_name:(f=r==null?void 0:r.user)==null?void 0:f.lastname,suffix:(g=r==null?void 0:r.user)==null?void 0:g.suffix,sex:(p=r==null?void 0:r.user)==null?void 0:p.firstname,age:(b=r==null?void 0:r.user)==null?void 0:b.gender,contact_number:(j=r==null?void 0:r.user)==null?void 0:j.contactno,email:(N=r==null?void 0:r.user)==null?void 0:N.email}),E=i=>{i.preventDefault(),L(!0),P(null),B(null),V(route("patient.seasonal.join",{schedule:s.id}),{onSuccess:o=>{t()},onError:o=>{console.log(o)},onFinish:o=>{I.reload({only:["flash"]})}})};return l.useEffect(()=>{R("program_id",s==null?void 0:s.id)},[s]),e.jsx(U,{isOpen:a,onClose:t,children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Program Registration"}),m&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 rounded-lg p-4 mb-6 flex items-start",children:[e.jsx(J,{className:"h-5 w-5 text-green-500 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Registration Successful"}),e.jsx("p",{className:"text-sm",children:m})]})]}),n&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 mb-6 flex items-start",children:[e.jsx(Y,{className:"h-5 w-5 text-red-500 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Registration Failed"}),e.jsx("p",{className:"text-sm",children:n})]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"bg-gray-900 text-white rounded-t-lg",children:e.jsxs(T,{className:"text-xl flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2m0 0V5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Register for Health Program"]})}),e.jsx(O,{className:"p-6",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"mb-8 p-5 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h4",{className:"font-semibold text-lg mb-2",children:(s==null?void 0:s.name)||"Health Program"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"h-4 w-4 mr-2 text-gray-700"}),e.jsx("span",{children:s!=null&&s.date?S(new Date(s.date),"MMMM d, yyyy"):"Date TBD"}),e.jsx("input",{type:"hidden",name:"date",value:s!=null&&s.date?S(new Date(s.date),"MMMM d, yyyy"):"Date TBD"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"h-4 w-4 mr-2 text-gray-700"}),e.jsx("span",{children:s==null?void 0:s.time.split(" - ").map(i=>W(i,"HH:mm:ss").format("hh:mm A")).join(" - ")}),e.jsx("input",{type:"hidden",name:"time",value:s==null?void 0:s.time})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 mr-2 text-gray-700"}),e.jsx("span",{children:(s==null?void 0:s.location)||"Location TBD"}),e.jsx("input",{type:"hidden",name:"location",value:(s==null?void 0:s.location)||"Location TBD"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"h-4 w-4 mr-2 text-gray-700"}),e.jsxs("span",{children:[(s==null?void 0:s.availableSlots)||0," ","slots available"]})]}),e.jsx("input",{type:"hidden",name:"program_name",value:(s==null?void 0:s.name)||"Health Program"})]})]}),e.jsx(Z,{errors:D}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{type:"text",id:"first_name",name:"first_name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:((y=r==null?void 0:r.user)==null?void 0:y.firstname)||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"middle_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx("input",{type:"text",id:"middle_name",name:"middle_name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:((v=r==null?void 0:r.user)==null?void 0:v.middlename)||"",disabled:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",id:"last_name",name:"last_name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:((h=r==null?void 0:r.user)==null?void 0:h.lastname)||"",required:!0,disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Suffix"}),e.jsx("input",{type:"text",id:"suffix",name:"suffix",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:((w=r==null?void 0:r.user)==null?void 0:w.suffix)||"",placeholder:"Jr., Sr., III, etc."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex"}),e.jsxs("select",{id:"sex",name:"sex",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:((k=r==null?void 0:r.user)==null?void 0:k.gender)||"Male",required:!0,disabled:!0,children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),e.jsx("input",{type:"number",id:"age",name:"age",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"0",defaultValue:((C=r==null?void 0:r.user)==null?void 0:C.age)||"",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),e.jsx("input",{type:"tel",id:"contact_number",name:"contact_number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:((M=r==null?void 0:r.user)==null?void 0:M.contactno)||"",disabled:!0,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:((_=r==null?void 0:r.user)==null?void 0:_.email)||"",required:!0,disabled:!0})]})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-blue-800",children:"Program Registration Information"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"By registering for this program, you confirm that the information provided is accurate. You agree to participate in the program on the scheduled date at the specified time."})]})]})}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:"terms",name:"terms",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:!0}),e.jsx("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:"I agree to the program terms and conditions"})]})]}),e.jsxs("div",{className:"mt-8 flex d-flex  text-center justify-end space-x-4",children:[e.jsx(F,{type:"button",variant:"outline",onClick:i=>{t()},children:"Cancel"}),r!=null&&r.user?e.jsx(F,{type:"submit",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register for Program"}):e.jsx("div",{children:"Please Login First!"})]})]})})]})]})})};export{Fe as default};
