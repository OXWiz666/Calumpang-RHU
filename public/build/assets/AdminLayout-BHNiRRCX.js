import{j as e,q as g,W as L,b as B,r as m,R as se}from"./app-Dv1l9kWC.js";import{c as b,u as E}from"./utils-CHBYMQHL.js";import{B as y}from"./button-QoOdmPDh.js";import"./card-DegBJ_i3.js";import{A as Ce,a as Re,b as Ee}from"./avatar-DO0CFQ7Z.js";import"./separator-BkFew5yv.js";import{P as k}from"./index-nZeaUIKu.js";import{P as V}from"./index-BuDhz_bL.js";import{c as Te,a as P,u as _e}from"./index-C9vQlTib.js";import{u as Le}from"./index-BqgYiBZ4.js";import{e as ke}from"./select-BJwc-KIN.js";import{c as A}from"./index-B9T5haDV.js";import{h as De}from"./moment-C5S46NFB.js";import"./dialog-Dhxj4tUC.js";import{I as Me}from"./input-DkLzmgxz.js";import"./label-BZVChWAa.js";import"./popover-D3fKYnZ9.js";import"./TextInput-NVKQ5UzY.js";import{c as D}from"./createLucideIcon-CM1OX3wL.js";import{X as q}from"./x-D3jR3T67.js";import{S as Z,L as G}from"./settings-BhQZgbr3.js";import{C as ie}from"./calendar-Dzh9fk7w.js";import{U as ce}from"./users-99RRO94a.js";import{B as Ie}from"./badge-C4vUuwf6.js";import{B as oe}from"./bell-C2MHeLLa.js";import{A as He,m as ze,P as Oe}from"./pusher-Aj037vmu.js";import"./autoprefixer-DLqmnUyt.js";import{M as de}from"./mail-lERVsJyD.js";import{S as We}from"./search-DHuFl9Pc.js";import{L as Ue}from"./layers-BvVBYUNy.js";import{C as Be}from"./chart-column-CrZrmNph.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],me=D("Boxes",Ve);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],Ye=D("HeartPulse",Xe);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ue=D("House",Fe);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],J=D("Menu",$e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Ze=D("UsersRound",qe),Ge=({activePage:r,userRole:s="Admin"})=>{const{sidebarstate:t,setSidebarstate:a}=re(),l=[{title:"Dashboard",icon:e.jsx(ue,{className:"h-5 w-5"}),route:"admin",path:"/admin",id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Patient Records",icon:e.jsx(ce,{className:"h-5 w-5"}),route:"patients.index",path:"/auth/patients",id:"patients",roles:["Admin","Doctor"]},{title:"Staff",icon:e.jsx(Ze,{className:"h-5 w-5"}),route:"admin.staff.*",request:"/admin/staff/",path:route("admin.staff.overview"),id:"patients",roles:["Admin","Doctor"]},{title:"Inventory",icon:e.jsx(me,{className:"h-5 w-5"}),route:"admin.inventory.index",path:route("admin.inventory.index"),id:"Inventory",roles:["Admin"]},{title:"Appointments",icon:e.jsx(ie,{className:"h-5 w-5"}),route:"admin.appointments",path:"/auth/appointments",id:"appointments",roles:["Admin","Doctor"]},{title:"Services",icon:e.jsx(Ue,{className:"h-5 w-5"}),route:"admin.services*",path:route("admin.services.overview"),id:"appointments",roles:["Admin","Doctor"]},{title:"Health Programs",icon:e.jsx(Ye,{className:"h-5 w-5"}),route:"admin.programs",path:"/admin/programs",id:"programs",roles:["Admin","Doctor"]},{title:"Reports",icon:e.jsx(Be,{className:"h-5 w-5"}),route:"admin.reports",path:"/admin/reports",id:"reports",roles:["Admin"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),route:"admin.settings*",path:route("admin.settings.index"),id:"settings",roles:["Admin"]}].filter(o=>o.roles.includes(s)),d=[{title:"Messages",icon:e.jsx(de,{className:"h-5 w-5"}),route:"admin.landing.messages",path:route("admin.landing.messages"),id:"messages"}],i=g().props.auth.user,c=g().props.auth.role;return e.jsxs("div",{className:b("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",t?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!t&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),t&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>a(!t),className:"ml-auto",children:t?e.jsx(J,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),l.map(o=>e.jsx("li",{children:e.jsxs(L,{href:o.path,className:b("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(o.route)&&o.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",t&&"justify-center px-0"),children:[o.icon,!t&&e.jsx("span",{className:"ml-3",children:o.title})]})},o.id)),e.jsx("div",{children:e.jsx("b",{children:"Landing Page"})}),d.map(o=>e.jsx("li",{children:e.jsxs(L,{href:o.path,className:b("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(o.route)&&o.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",t&&"justify-center px-0"),children:[o.icon,!t&&e.jsx("span",{className:"ml-3",children:o.title})]})},o.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:b("flex items-center",t&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:s[0]}),!t&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[i.firstname," ",i.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c.roletype})]})]}),e.jsxs(y,{variant:"ghost",className:b("w-full mt-4 text-muted-foreground hover:text-foreground",t&&"px-0"),onClick:o=>B.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!t&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})};function Je(r,s){return m.useReducer((t,a)=>s[t][a]??t,r)}var K="ScrollArea",[he,Gt]=Te(K),[Ke,w]=he(K),xe=m.forwardRef((r,s)=>{const{__scopeScrollArea:t,type:a="hover",dir:n,scrollHideDelay:l=600,...d}=r,[i,c]=m.useState(null),[o,u]=m.useState(null),[h,x]=m.useState(null),[f,v]=m.useState(null),[T,F]=m.useState(null),[N,M]=m.useState(0),[$,I]=m.useState(0),[H,_]=m.useState(!1),[z,O]=m.useState(!1),p=E(s,C=>c(C)),j=Le(n);return e.jsx(Ke,{scope:t,type:a,dir:j,scrollHideDelay:l,scrollArea:i,viewport:o,onViewportChange:u,content:h,onContentChange:x,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:H,onScrollbarXEnabledChange:_,scrollbarY:T,onScrollbarYChange:F,scrollbarYEnabled:z,onScrollbarYEnabledChange:O,onCornerWidthChange:M,onCornerHeightChange:I,children:e.jsx(k.div,{dir:j,...d,ref:p,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":$+"px",...r.style}})})});xe.displayName=K;var fe="ScrollAreaViewport",pe=m.forwardRef((r,s)=>{const{__scopeScrollArea:t,children:a,nonce:n,...l}=r,d=w(fe,t),i=m.useRef(null),c=E(s,i,d.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(k.div,{"data-radix-scroll-area-viewport":"",...l,ref:c,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});pe.displayName=fe;var S="ScrollAreaScrollbar",Q=m.forwardRef((r,s)=>{const{forceMount:t,...a}=r,n=w(S,r.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:d}=n,i=r.orientation==="horizontal";return m.useEffect(()=>(i?l(!0):d(!0),()=>{i?l(!1):d(!1)}),[i,l,d]),n.type==="hover"?e.jsx(Qe,{...a,ref:s,forceMount:t}):n.type==="scroll"?e.jsx(et,{...a,ref:s,forceMount:t}):n.type==="auto"?e.jsx(be,{...a,ref:s,forceMount:t}):n.type==="always"?e.jsx(ee,{...a,ref:s}):null});Q.displayName=S;var Qe=m.forwardRef((r,s)=>{const{forceMount:t,...a}=r,n=w(S,r.__scopeScrollArea),[l,d]=m.useState(!1);return m.useEffect(()=>{const i=n.scrollArea;let c=0;if(i){const o=()=>{window.clearTimeout(c),d(!0)},u=()=>{c=window.setTimeout(()=>d(!1),n.scrollHideDelay)};return i.addEventListener("pointerenter",o),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",o),i.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(V,{present:t||l,children:e.jsx(be,{"data-state":l?"visible":"hidden",...a,ref:s})})}),et=m.forwardRef((r,s)=>{const{forceMount:t,...a}=r,n=w(S,r.__scopeScrollArea),l=r.orientation==="horizontal",d=Y(()=>c("SCROLL_END"),100),[i,c]=Je("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(i==="idle"){const o=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(o)}},[i,n.scrollHideDelay,c]),m.useEffect(()=>{const o=n.viewport,u=l?"scrollLeft":"scrollTop";if(o){let h=o[u];const x=()=>{const f=o[u];h!==f&&(c("SCROLL"),d()),h=f};return o.addEventListener("scroll",x),()=>o.removeEventListener("scroll",x)}},[n.viewport,l,c,d]),e.jsx(V,{present:t||i!=="hidden",children:e.jsx(ee,{"data-state":i==="hidden"?"hidden":"visible",...a,ref:s,onPointerEnter:A(r.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:A(r.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),be=m.forwardRef((r,s)=>{const t=w(S,r.__scopeScrollArea),{forceMount:a,...n}=r,[l,d]=m.useState(!1),i=r.orientation==="horizontal",c=Y(()=>{if(t.viewport){const o=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;d(i?o:u)}},10);return R(t.viewport,c),R(t.content,c),e.jsx(V,{present:a||l,children:e.jsx(ee,{"data-state":l?"visible":"hidden",...n,ref:s})})}),ee=m.forwardRef((r,s)=>{const{orientation:t="vertical",...a}=r,n=w(S,r.__scopeScrollArea),l=m.useRef(null),d=m.useRef(0),[i,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),o=Se(i.viewport,i.content),u={...a,sizes:i,onSizesChange:c,hasThumb:o>0&&o<1,onThumbChange:x=>l.current=x,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:x=>d.current=x};function h(x,f){return at(x,d.current,i,f)}return t==="horizontal"?e.jsx(tt,{...u,ref:s,onThumbPositionChange:()=>{if(n.viewport&&l.current){const x=n.viewport.scrollLeft,f=ne(x,i,n.dir);l.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:x=>{n.viewport&&(n.viewport.scrollLeft=x)},onDragScroll:x=>{n.viewport&&(n.viewport.scrollLeft=h(x,n.dir))}}):t==="vertical"?e.jsx(rt,{...u,ref:s,onThumbPositionChange:()=>{if(n.viewport&&l.current){const x=n.viewport.scrollTop,f=ne(x,i);l.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:x=>{n.viewport&&(n.viewport.scrollTop=x)},onDragScroll:x=>{n.viewport&&(n.viewport.scrollTop=h(x))}}):null}),tt=m.forwardRef((r,s)=>{const{sizes:t,onSizesChange:a,...n}=r,l=w(S,r.__scopeScrollArea),[d,i]=m.useState(),c=m.useRef(null),o=E(s,c,l.onScrollbarXChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),e.jsx(ge,{"data-orientation":"horizontal",...n,ref:o,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":X(t)+"px",...r.style},onThumbPointerDown:u=>r.onThumbPointerDown(u.x),onDragScroll:u=>r.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(l.viewport){const x=l.viewport.scrollLeft+u.deltaX;r.onWheelScroll(x),Ne(x,h)&&u.preventDefault()}},onResize:()=>{c.current&&l.viewport&&d&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:U(d.paddingLeft),paddingEnd:U(d.paddingRight)}})}})}),rt=m.forwardRef((r,s)=>{const{sizes:t,onSizesChange:a,...n}=r,l=w(S,r.__scopeScrollArea),[d,i]=m.useState(),c=m.useRef(null),o=E(s,c,l.onScrollbarYChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),e.jsx(ge,{"data-orientation":"vertical",...n,ref:o,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":X(t)+"px",...r.style},onThumbPointerDown:u=>r.onThumbPointerDown(u.y),onDragScroll:u=>r.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(l.viewport){const x=l.viewport.scrollTop+u.deltaY;r.onWheelScroll(x),Ne(x,h)&&u.preventDefault()}},onResize:()=>{c.current&&l.viewport&&d&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:U(d.paddingTop),paddingEnd:U(d.paddingBottom)}})}})}),[st,ve]=he(S),ge=m.forwardRef((r,s)=>{const{__scopeScrollArea:t,sizes:a,hasThumb:n,onThumbChange:l,onThumbPointerUp:d,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:o,onWheelScroll:u,onResize:h,...x}=r,f=w(S,t),[v,T]=m.useState(null),F=E(s,p=>T(p)),N=m.useRef(null),M=m.useRef(""),$=f.viewport,I=a.content-a.viewport,H=P(u),_=P(c),z=Y(h,10);function O(p){if(N.current){const j=p.clientX-N.current.left,C=p.clientY-N.current.top;o({x:j,y:C})}}return m.useEffect(()=>{const p=j=>{const C=j.target;(v==null?void 0:v.contains(C))&&H(j,I)};return document.addEventListener("wheel",p,{passive:!1}),()=>document.removeEventListener("wheel",p,{passive:!1})},[$,v,I,H]),m.useEffect(_,[a,_]),R(v,z),R(f.content,z),e.jsx(st,{scope:t,scrollbar:v,hasThumb:n,onThumbChange:P(l),onThumbPointerUp:P(d),onThumbPositionChange:_,onThumbPointerDown:P(i),children:e.jsx(k.div,{...x,ref:F,style:{position:"absolute",...x.style},onPointerDown:A(r.onPointerDown,p=>{p.button===0&&(p.target.setPointerCapture(p.pointerId),N.current=v.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),O(p))}),onPointerMove:A(r.onPointerMove,O),onPointerUp:A(r.onPointerUp,p=>{const j=p.target;j.hasPointerCapture(p.pointerId)&&j.releasePointerCapture(p.pointerId),document.body.style.webkitUserSelect=M.current,f.viewport&&(f.viewport.style.scrollBehavior=""),N.current=null})})})}),W="ScrollAreaThumb",we=m.forwardRef((r,s)=>{const{forceMount:t,...a}=r,n=ve(W,r.__scopeScrollArea);return e.jsx(V,{present:t||n.hasThumb,children:e.jsx(ot,{ref:s,...a})})}),ot=m.forwardRef((r,s)=>{const{__scopeScrollArea:t,style:a,...n}=r,l=w(W,t),d=ve(W,t),{onThumbPositionChange:i}=d,c=E(s,h=>d.onThumbChange(h)),o=m.useRef(void 0),u=Y(()=>{o.current&&(o.current(),o.current=void 0)},100);return m.useEffect(()=>{const h=l.viewport;if(h){const x=()=>{if(u(),!o.current){const f=lt(h,i);o.current=f,i()}};return i(),h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[l.viewport,u,i]),e.jsx(k.div,{"data-state":d.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:A(r.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,T=h.clientY-f.top;d.onThumbPointerDown({x:v,y:T})}),onPointerUp:A(r.onPointerUp,d.onThumbPointerUp)})});we.displayName=W;var te="ScrollAreaCorner",je=m.forwardRef((r,s)=>{const t=w(te,r.__scopeScrollArea),a=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&a?e.jsx(nt,{...r,ref:s}):null});je.displayName=te;var nt=m.forwardRef((r,s)=>{const{__scopeScrollArea:t,...a}=r,n=w(te,t),[l,d]=m.useState(0),[i,c]=m.useState(0),o=!!(l&&i);return R(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),R(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),d(u)}),o?e.jsx(k.div,{...a,ref:s,style:{width:l,height:i,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function U(r){return r?parseInt(r,10):0}function Se(r,s){const t=r/s;return isNaN(t)?0:t}function X(r){const s=Se(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=(r.scrollbar.size-t)*s;return Math.max(a,18)}function at(r,s,t,a="ltr"){const n=X(t),l=n/2,d=s||l,i=n-d,c=t.scrollbar.paddingStart+d,o=t.scrollbar.size-t.scrollbar.paddingEnd-i,u=t.content-t.viewport,h=a==="ltr"?[0,u]:[u*-1,0];return ye([c,o],h)(r)}function ne(r,s,t="ltr"){const a=X(s),n=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,l=s.scrollbar.size-n,d=s.content-s.viewport,i=l-a,c=t==="ltr"?[0,d]:[d*-1,0],o=ke(r,c);return ye([0,d],[0,i])(o)}function ye(r,s){return t=>{if(r[0]===r[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(r[1]-r[0]);return s[0]+a*(t-r[0])}}function Ne(r,s){return r>0&&r<s}var lt=(r,s=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},a=0;return function n(){const l={left:r.scrollLeft,top:r.scrollTop},d=t.left!==l.left,i=t.top!==l.top;(d||i)&&s(),t=l,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function Y(r,s){const t=P(r),a=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),m.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(t,s)},[t,s])}function R(r,s){const t=P(s);_e(()=>{let a=0;if(r){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(t)});return n.observe(r),()=>{window.cancelAnimationFrame(a),n.unobserve(r)}}},[r,t])}var Pe=xe,it=pe,ct=je;const dt=m.forwardRef(({className:r,children:s,...t},a)=>e.jsxs(Pe,{ref:a,className:b("relative overflow-hidden",r),...t,children:[e.jsx(it,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(Ae,{}),e.jsx(ct,{})]}));dt.displayName=Pe.displayName;const Ae=m.forwardRef(({className:r,orientation:s="vertical",...t},a)=>e.jsx(Q,{ref:a,orientation:s,className:b("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...t,children:e.jsx(we,{className:"relative flex-1 rounded-full bg-border"})}));Ae.displayName=Q.displayName;const mt=({activePage:r,userRole:s="Admin"})=>{const{sidebarstate:t,setSidebarstate:a}=re(),l=[{title:"Dashboard",icon:e.jsx(ue,{className:"h-5 w-5"}),route:"doctor.home",path:"/doctor",id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Appointments",icon:e.jsx(ie,{className:"h-5 w-5"}),route:"admin.appointments",path:"/auth/appointments",id:"appointments",roles:["Admin","Doctor"]},{title:"Patient Records",icon:e.jsx(ce,{className:"h-5 w-5"}),route:"admin.patients",path:"/auth/patients",id:"patients",roles:["Admin","Doctor"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),path:"/settings",id:"settings",roles:["Admin"]}].filter(c=>c.roles.includes(s)),d=g().props.auth.user,i=g().props.auth.role;return e.jsxs("div",{className:b("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",t?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!t&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),t&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>a(!t),className:"ml-auto",children:t?e.jsx(J,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsx("ul",{className:"space-y-1 px-2",children:l.map(c=>e.jsx("li",{children:e.jsxs(L,{href:c.path,className:b("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(c.route)&&c.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",t&&"justify-center px-0"),children:[c.icon,!t&&e.jsx("span",{className:"ml-3",children:c.title})]})},c.id))})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:b("flex items-center",t&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:s[0]}),!t&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[d.firstname," ",d.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.roletype})]})]}),e.jsxs(y,{variant:"ghost",className:b("w-full mt-4 text-muted-foreground hover:text-foreground",t&&"px-0"),onClick:c=>B.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!t&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},ut=({className:r="",datas:s})=>{const[t,a]=m.useState(!1),[n,l]=m.useState(s.notifications);let d=n.filter(o=>!o.read_at).length;m.useEffect(()=>{l(s.notifications),d=n.filter(o=>!o.read_at).length},[s]);const i=()=>{if(a(!t),!t){const o=n.map(u=>({...u,read:!0}));l(o)}},c=o=>{switch(o){case"inventory":return"text-amber-500 bg-amber-100";case"new_appointment":return"text-blue-500 bg-blue-100";case"new_patient":return"text-green-500 bg-green-100";case"program":return"text-purple-500 bg-purple-100";default:return"text-gray-500 bg-gray-100"}};return e.jsxs("div",{className:`relative ${r}`,children:[e.jsxs(y,{variant:"ghost",size:"icon",className:"relative",onClick:i,"aria-label":"Notifications",children:[e.jsx(oe,{className:"h-5 w-5"}),d>0&&e.jsx(Ie,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0",children:d})]}),e.jsx(He,{children:t&&e.jsxs(ze.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notifications"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.length," total"]})]}),e.jsx(y,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"Mark all as read"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:n.slice(0,3).map(o=>e.jsx("div",{className:`p-3 hover:bg-accent/50 transition-colors ${o.read_at?"":"bg-accent/20"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${c(o.data.type)}`,children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-medium",children:o.data.title}),e.jsx("span",{className:"text-xs text-muted-foreground",children:De(o.created_at).fromNow()}),e.jsx("div",{className:" text-sm",children:o.read_at?e.jsx("div",{children:"Read"}):e.jsx("div",{children:"Unread"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.data.message})]})]})},o.id))}):e.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No notifications"})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-accent/10",children:e.jsx(y,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"View all notifications"})})]})})]})},ae=r=>{let s;const t=new Set,a=(o,u)=>{const h=typeof o=="function"?o(s):o;if(!Object.is(h,s)){const x=s;s=u??(typeof h!="object"||h===null)?h:Object.assign({},s,h),t.forEach(f=>f(s,x))}},n=()=>s,i={setState:a,getState:n,getInitialState:()=>c,subscribe:o=>(t.add(o),()=>t.delete(o))},c=s=r(a,n,i);return i},ht=r=>r?ae(r):ae,xt=r=>r;function ft(r,s=xt){const t=se.useSyncExternalStore(r.subscribe,()=>s(r.getState()),()=>s(r.getInitialState()));return se.useDebugValue(t),t}const le=r=>{const s=ht(r),t=a=>ft(s,a);return Object.assign(t,s),t},pt=r=>r?le(r):le,bt=({activePage:r,userRole:s="Admin"})=>{const{sidebarstate:t,setSidebarstate:a}=re(),l=[{title:"Inventory",icon:e.jsx(me,{className:"h-5 w-5"}),route:"admin.inventory.index",path:route("admin.inventory.index"),id:"Inventory",roles:["Admin"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),route:"admin.settings*",path:route("admin.settings.index"),id:"settings",roles:["Admin"]}].filter(o=>o.roles.includes(s)),d=[{title:"Messages",icon:e.jsx(de,{className:"h-5 w-5"}),route:"admin.landing.messages",path:route("admin.landing.messages"),id:"messages"}],i=g().props.auth.user,c=g().props.auth.role;return e.jsxs("div",{className:b("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",t?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!t&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),t&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>a(!t),className:"ml-auto",children:t?e.jsx(J,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),l.map(o=>e.jsx("li",{children:e.jsxs(L,{href:o.path,className:b("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(o.route)&&o.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",t&&"justify-center px-0"),children:[o.icon,!t&&e.jsx("span",{className:"ml-3",children:o.title})]})},o.id)),e.jsx("div",{children:e.jsx("b",{children:"Landing Page"})}),d.map(o=>e.jsx("li",{children:e.jsxs(L,{href:o.path,className:b("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(o.route)&&o.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",t&&"justify-center px-0"),children:[o.icon,!t&&e.jsx("span",{className:"ml-3",children:o.title})]})},o.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:b("flex items-center",t&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:s[0]}),!t&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[i.firstname," ",i.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c.roletype})]})]}),e.jsxs(y,{variant:"ghost",className:b("w-full mt-4 text-muted-foreground hover:text-foreground",t&&"px-0"),onClick:o=>B.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!t&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},re=pt(r=>({sidebarstate:!1,setSidebarstate:s=>r({sidebarstate:s})}));function Jt({header:r,children:s,tools:t}){var c,o,u;const a=g().props.auth.role,{auth:n}=g().props,[l,d]=m.useState(n);m.useEffect(()=>{d(n)},[n]);const{flash:i}=g().props;return m.useEffect(()=>{i&&alert_toast(i.title,i.message,i.icon)},[i]),e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsx(Oe,{channelName:"notification",eventName:"notification-event",onEvent:h=>{B.reload({only:["auth"],preserveScroll:!0})}}),a.id==7?e.jsx(Ge,{}):a.id==6?e.jsx(bt,{}):e.jsx(mt,{}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"sticky top-0 z-10 border-b bg-white p-4 flex justify-between items-center shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[r&&e.jsx("h1",{className:"text-2xl font-bold",children:r}),e.jsxs("div",{className:"relative max-w-md hidden md:block",children:[e.jsx(We,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(Me,{type:"search",placeholder:"Search...",className:"pl-8 w-[300px] bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[t,e.jsx(ut,{datas:l}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ce,{children:[e.jsx(Re,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin",alt:"Admin"}),e.jsx(Ee,{children:"AD"})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("p",{className:"text-sm font-medium",children:[(c=g().props.auth.user)==null?void 0:c.firstname," ",(o=g().props.auth.user)==null?void 0:o.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(u=g().props.auth.role)==null?void 0:u.roletype})]})]})]})]}),e.jsx("main",{className:"p-6 bg-accent/20",children:s})]})]})}export{Jt as A,dt as S};
