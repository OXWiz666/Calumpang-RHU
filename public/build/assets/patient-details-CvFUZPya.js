import{j as e}from"./app-CZwS2G5Y.js";import{r as h}from"./vendor-DkBadjUr.js";import{B as g}from"./button-BesobgtA.js";import{C as o,a as c,b as n,c as m}from"./card-CRUoSCLq.js";import{B as u}from"./badge-ChpTVm3n.js";import{T as D,a as _,b as j,c as f}from"./tabs-BBZjaemG.js";import C from"./edit-patient-form-CD1dbu17.js";import M from"./MedicalHistory-pTpJdCdE.js";import{A as S}from"./arrow-left-DcYYnBRL.js";import{S as A}from"./square-pen-Bb1JtfBr.js";import{P as N}from"./phone-BScbSfjU.js";import{M as L}from"./mail-BoTx8fKY.js";import{M as P}from"./map-pin-Dkn0BYKY.js";import{H as F}from"./heart-CDAohmX9.js";import{C as p}from"./calendar-D9APQM2e.js";import"./pusher-DVtoYAOu.js";import"./index-B3OEEYC6.js";import"./react-icons.esm-Bo4nchVy.js";import"./index-57f1xlVM.js";import"./index-BL_R5CeI.js";import"./index-VaCZcEHj.js";import"./tslib.es6-M_FJ09fS.js";import"./index-DWou3t1m.js";import"./index-Bgkzuaxa.js";import"./input-BuSGIsg0.js";import"./label-IliVNXtj.js";import"./textarea-B339UmIC.js";import"./select-Cxat1dCU.js";import"./index-hcl4Lfqn.js";import"./index-Dg-CcdeN.js";import"./index-DqxisvwK.js";import"./index-C0yHodGM.js";import"./dialog-Tf1FOk7X.js";import"./proxy-C0TaRtDf.js";import"./save-CAdd64LS.js";import"./createLucideIcon-BKWaAi2G.js";import"./index-WHihrx3k.js";import"./add-medical-record-form-BCot2t4a.js";import"./moment-C5S46NFB.js";import"./radio-group-CjJ9NTOv.js";import"./checkbox-Cgw8XE_g.js";import"./PrintErrors-xY6uSavo.js";import"./plus-MavOGQlj.js";import"./file-text-YZXa1D2L.js";import"./stethoscope-QcN9KdKi.js";import"./user-3RJR1iCA.js";function Me({patient:s,onBack:b,onUpdate:v,doctors:y}){const[w,d]=h.useState(!1),[E,B]=h.useState(null),k=t=>{if(!t)return"Unknown";const r=new Date,a=new Date(t);let l=r.getFullYear()-a.getFullYear();const x=r.getMonth()-a.getMonth();return(x<0||x===0&&r.getDate()<a.getDate())&&l--,l},i=s?.id?.startsWith("PAT_");return e.jsxs("div",{className:"space-y-4 h-full overflow-hidden",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(g,{variant:"outline",onClick:b,className:"shadow-sm border-gray-300",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Back to List"]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white text-2xl font-bold shadow-lg overflow-hidden",children:s.profile_picture?e.jsx("img",{src:s.profile_picture,alt:`${s.firstname} ${s.lastname}`,className:"w-full h-full object-cover rounded-xl"}):s.firstname?.charAt(0)?.toUpperCase()||"P"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[s.firstname," ",s.middlename," ",s.lastname]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Patient ID:"}),e.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded text-gray-800",children:s.id})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Age:"}),e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[i?s.date_of_birth?(()=>{const t=new Date(s.date_of_birth),r=new Date;let a=r.getFullYear()-t.getFullYear();const l=r.getMonth()-t.getMonth();return(l<0||l===0&&r.getDate()<t.getDate())&&a--,a})():"Unknown":k(s.birth)," Years Old"]})]}),e.jsx(u,{variant:s.status==="active"?"default":"secondary",className:"px-3 py-1",children:s.status})]})]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(g,{variant:"outline",onClick:()=>d(!0),className:"shadow-sm border-gray-300",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Edit Patient"]})})]})}),e.jsxs(D,{defaultValue:"overview",className:"space-y-4 h-full",children:[e.jsxs(_,{children:[e.jsx(j,{value:"overview",children:"Overview"}),e.jsx(j,{value:"medical-history",children:"Medical History"})]}),e.jsx(f,{value:"overview",className:"space-y-6 overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(o,{className:"shadow-lg border-0 bg-white hover:shadow-xl transition-shadow duration-300",children:[e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-t-lg",children:e.jsxs(n,{className:"flex items-center gap-2 text-white",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Personal Information"]})}),e.jsxs(m,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("label",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Full Name"}),e.jsxs("p",{className:"text-lg font-bold text-blue-900 mt-1",children:[s.firstname," ",s.middlename," ",s.lastname]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Gender"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:(s.gender||s.sex)=="M"||(s.gender||s.sex)=="Male"?"Male":(s.gender||s.sex)=="F"||(s.gender||s.sex)=="Female"?"Female":s.gender||s.sex||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(u,{className:"bg-green-100 text-green-800 border-green-200",children:"Active"})})]})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Date of Birth"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.date_of_birth?new Date(s.date_of_birth).toLocaleDateString():"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Age"}),e.jsxs("p",{className:"text-lg font-bold text-blue-600 mt-1",children:[s.date_of_birth?(()=>{const t=new Date(s.date_of_birth),r=new Date;let a=r.getFullYear()-t.getFullYear();const l=r.getMonth()-t.getMonth();return(l<0||l===0&&r.getDate()<t.getDate())&&a--,a})():"N/A"," Years Old"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Civil Status"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.civil_status||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Nationality"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.nationality||"Not provided"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Religion"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.religion||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Country"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.country||"Not provided"})]})]})]})]})]}),e.jsxs(o,{className:"shadow-lg border-0 bg-white hover:shadow-xl transition-shadow duration-300",children:[e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-t-lg",children:e.jsxs(n,{className:"flex items-center gap-2 text-white",children:[e.jsx(N,{className:"w-5 h-5"}),"Contact Information"]})}),e.jsxs(m,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Phone Number"}),e.jsx("p",{className:"text-lg font-bold text-blue-900 mt-1",children:s.contactno||s.phone||"Not Set"})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Email Address"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.email||"Not Set"})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(P,{className:"w-5 h-5 text-gray-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Address"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 mt-1",children:i?e.jsxs("div",{className:"space-y-1",children:[s.street&&e.jsx("p",{className:"text-left",children:s.street}),s.barangay&&e.jsx("p",{className:"text-left",children:s.barangay}),s.city&&e.jsx("p",{className:"text-left",children:s.city}),s.province&&e.jsx("p",{className:"text-left",children:s.province}),s.region&&e.jsx("p",{className:"text-left",children:s.region}),s.zip_code&&e.jsx("p",{className:"text-left",children:s.zip_code}),s.country&&e.jsx("p",{className:"text-left",children:s.country}),!s.street&&!s.barangay&&!s.city&&!s.province&&!s.region&&!s.zip_code&&!s.country&&e.jsx("p",{className:"text-gray-500 italic text-left",children:"No address provided"})]}):e.jsx("p",{className:"text-left",children:s.address??"Not Set"})})]})]})}),s.bloodtype&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Blood Type"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-red-600"}),s.bloodtype]})]})]})]}),e.jsxs(o,{className:"shadow-lg border-0 bg-white hover:shadow-xl transition-shadow duration-300",children:[e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-t-lg",children:e.jsxs(n,{className:"flex items-center gap-2 text-white",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Medical & Status"]})}),e.jsxs(m,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-full",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Patient Status"}),e.jsx("p",{className:"text-lg font-bold text-blue-900 mt-1",children:"Active & Available"})]})]})}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Registration Date"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.registration_date?new Date(s.registration_date).toLocaleDateString():"Not Set"})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Last Appointment"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.last_visit_date?new Date(s.last_visit_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No appointments recorded"})]})]})})]})]})]})]})}),e.jsx(f,{value:"medical-history",className:"space-y-4 overflow-y-auto",children:e.jsx(M,{patient:s,doctors:y,onAddRecord:()=>{}})})]}),e.jsx(C,{patient:s,isOpen:w,onSubmit:t=>{v(t),d(!1)},onCancel:()=>d(!1)})]})}export{Me as default};
