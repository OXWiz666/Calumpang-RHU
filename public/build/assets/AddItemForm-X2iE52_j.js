import{r as a,j as e,P as A}from"./app-Dv1l9kWC.js";import{D as H,b as L,c as M,d as V,f as O}from"./dialog-Dhxj4tUC.js";import{B as D}from"./button-QoOdmPDh.js";import{I as S}from"./input-DkLzmgxz.js";import{L as b}from"./label-BZVChWAa.js";import"./textarea-CHAZdFHk.js";import{S as z,a as U,b as Q,c as W,d as X}from"./select-BJwc-KIN.js";import{a as $,c as G}from"./index-B9T5haDV.js";import{u as J,c as E}from"./utils-CHBYMQHL.js";import{c as K}from"./index-C9vQlTib.js";import{u as Y}from"./index-CvCXpfpM.js";import{a as Z}from"./Combination-fJ1si5Ps.js";import{P as I}from"./index-nZeaUIKu.js";import{P as ee}from"./PrintErrors-BqSMtRk9.js";import"./index-BuDhz_bL.js";import"./react-icons.esm-DAXyCvzT.js";import"./index-BqgYiBZ4.js";import"./index-CjMUfMTQ.js";var k="Switch",[te,ke]=K(k),[ae,se]=te(k),R=a.forwardRef((t,r)=>{const{__scopeSwitch:s,name:o,checked:c,defaultChecked:f,required:m,disabled:l,value:u="on",onCheckedChange:g,form:v,...x}=t,[p,C]=a.useState(null),P=J(r,h=>C(h)),y=a.useRef(!1),n=p?v||!!p.closest("form"):!0,[d=!1,N]=$({prop:c,defaultProp:f,onChange:g});return e.jsxs(ae,{scope:s,checked:d,disabled:l,children:[e.jsx(I.button,{type:"button",role:"switch","aria-checked":d,"aria-required":m,"data-state":F(d),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:P,onClick:G(t.onClick,h=>{N(w=>!w),n&&(y.current=h.isPropagationStopped(),y.current||h.stopPropagation())})}),n&&e.jsx(re,{control:p,bubbles:!y.current,name:o,value:u,checked:d,required:m,disabled:l,form:v,style:{transform:"translateX(-100%)"}})]})});R.displayName=k;var T="SwitchThumb",_=a.forwardRef((t,r)=>{const{__scopeSwitch:s,...o}=t,c=se(T,s);return e.jsx(I.span,{"data-state":F(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:r})});_.displayName=T;var re=t=>{const{control:r,checked:s,bubbles:o=!0,...c}=t,f=a.useRef(null),m=Y(s),l=Z(r);return a.useEffect(()=>{const u=f.current,g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(m!==s&&x){const p=new Event("click",{bubbles:o});x.call(u,s),u.dispatchEvent(p)}},[m,s,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...c,tabIndex:-1,ref:f,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F(t){return t?"checked":"unchecked"}var q=R,ie=_;const oe=a.forwardRef(({className:t,...r},s)=>e.jsx(q,{className:E("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:e.jsx(ie,{className:E("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));oe.displayName=q.displayName;const Ce=({open:t,onClose:r,onSave:s,categories_:o})=>{const[c,f]=a.useState(!1),[m,l]=a.useState(""),[u,g]=a.useState(""),[v,x]=a.useState(""),[p,C]=a.useState(""),[P,y]=a.useState(""),{data:n,setData:d,post:N,processing:h,errors:w}=A({itemname:"",categoryid:"",unit_type:"",quantity:0,expirydate:new Date}),j=i=>{d(i.target.name,i.target.value)},B=i=>{i.preventDefault(),N(route("admin.inventory.item.add"),{onSuccess:()=>{r()},onFinish:()=>{}})};return e.jsx(H,{open:t,onOpenChange:r,children:e.jsxs(L,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[e.jsx(M,{children:e.jsx(V,{className:"text-xl font-semibold",children:"Add New Inventory Item"})}),e.jsxs("form",{onSubmit:B,className:"space-y-4 pt-4",children:[e.jsx(ee,{errors:w}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",className:"font-medium",children:"Item Name *"}),e.jsx(S,{name:"itemname",value:n.itemname,onChange:j,placeholder:"Enter item name",className:"focus-visible:ring-primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"font-medium",children:"Category *"}),e.jsxs(z,{value:String(n.categoryid),onValueChange:i=>d("categoryid",i),children:[e.jsx(U,{className:"focus-visible:ring-primary",children:e.jsx(Q,{placeholder:"Select category"})}),e.jsx(W,{children:o.map(i=>e.jsx(X,{value:String(i.id),children:i.name},i.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"unit",className:"font-medium",children:"Unit Type *"}),e.jsx(S,{name:"unit_type",value:n.unit_type,onChange:j,placeholder:"e.g., box, vial, piece",className:"focus-visible:ring-primary"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"quantity",className:"font-medium",children:"Initial Quantity *"}),e.jsx(S,{name:"quantity",type:"number",min:"0",value:n.quantity,onChange:j,className:"focus-visible:ring-primary"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"expirationDate",className:"font-medium",children:"Expiration Date"}),e.jsx(S,{id:"expirationDate",type:"date",name:"expirydate",value:n.expirydate,onChange:j,className:"focus-visible:ring-primary"})]}),e.jsxs(O,{className:"pt-4",children:[e.jsx(D,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(D,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:h,children:"Add Item"})]})]})]})})};export{Ce as default};
