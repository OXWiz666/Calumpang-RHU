import{q as u,r as m,j as t,b as c}from"./app-DuLxrX2Z.js";import{B as l}from"./button-PbZdagMz.js";import"./input-B1EwyuQs.js";import"./label-vEQQ_cy_.js";import"./textarea-mU1a4_U4.js";import"./popover-B9_ayl12.js";import"./select-Bd5zNBQr.js";import"./moment-C5S46NFB.js";import{c as y,d as x,e as f}from"./card-BZ5fTebW.js";import"./alert-Gf1nBjyW.js";import"./separator-0hKhmWkA.js";import"./avatar-Dq7lpNs7.js";import{F as b}from"./file-text-wRkG_Os1.js";import{C as N}from"./clipboard-CJlaqw6Q.js";import{c as j}from"./createLucideIcon-DUtIsnS9.js";import"./utils-Dj6f_zdA.js";import"./index-DRcehWuf.js";import"./react-icons.esm-BGFUALzJ.js";import"./format-BtYX0kVO.js";import"./isBefore-CNJkrGzj.js";import"./isSameMonth-CLqEvLGB.js";import"./index-CfnhcZ4y.js";import"./index-Cl4K-4si.js";import"./Combination-8mhf9Lqp.js";import"./index-B9iz2qru.js";import"./index-Cf0J13Fd.js";import"./index-DyGeZTdz.js";import"./index-dJ3Dmghy.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],w=j("Hash",g);function Z({activeTab:s}){const{user:o}=u().props.auth,[p,r]=m.useState(""),[d,a]=m.useState(!1);m.useEffect(()=>{o&&s==="History"?((async()=>{try{const e=await(await fetch("/patient/get-latest-appointment")).json();e&&e.priorityNumber?r(e.priorityNumber):r("1")}catch(i){console.error("Error fetching priority number:",i),r("1")}})(),a(!0)):a(!1)},[o,s]);const h=()=>{a(!0),o&&(async()=>{try{const e=await(await fetch("/patient/get-latest-appointment")).json();e&&e.priorityNumber?r(e.priorityNumber):r("1")}catch(i){console.error("Error fetching priority number:",i),r("1")}})()};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full md:w-1/4",children:t.jsxs(y,{className:"bg-white sticky top-4",children:[t.jsx(x,{className:"pb-4"}),t.jsx(f,{children:t.jsxs("div",{className:"",children:[t.jsxs(l,{variant:s==="appointment"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:n=>c.visit("/appointments"),children:[t.jsx(b,{className:"mr-2 h-5 w-5"}),"Schedule Appointment"]}),o&&t.jsxs(t.Fragment,{children:[t.jsxs(l,{variant:s==="History"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:n=>{h(),c.visit("/patient/appointments/history")},children:[t.jsx(N,{className:"mr-2 h-5 w-5"}),"My Appointments"]}),d&&t.jsx("div",{className:"mt-4 mx-2",children:t.jsxs("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 rounded-lg overflow-hidden shadow-lg border border-blue-400",children:[t.jsx("div",{className:"px-4 py-3 bg-blue-900/30 backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(w,{className:"h-4 w-4 text-white mr-2"}),t.jsx("h3",{className:"text-sm font-medium text-white tracking-wide uppercase",children:"Priority Number"})]})}),t.jsx("div",{className:"px-4 py-5 flex flex-col items-center justify-center bg-blue-800/10 backdrop-blur-sm",children:t.jsx("div",{className:"text-3xl font-bold text-white text-center tracking-wider",children:p})})]})})]})]})})]})})})}export{Z as default};
