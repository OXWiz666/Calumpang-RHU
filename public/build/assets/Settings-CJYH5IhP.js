import{a as R,u as P,j as s,H as $,r as q}from"./app-DbEHk-Y1.js";import{r as m}from"./vendor-DkBadjUr.js";import{A as z}from"./AdminLayout-Dn1LAAmD.js";import{C,a as S,b as _,c as F}from"./card-CuNX9n6Z.js";import{B as E}from"./button-hTaAscVM.js";import{I as t}from"./input-BfkVQ9Hy.js";import{L as i}from"./label-z6rUNhXe.js";import{S as D}from"./separator-KL7v4q6k.js";import{n as c}from"./index-WHihrx3k.js";import{m as d}from"./proxy-BRuk2j5t.js";import{S as G}from"./settings-D_MeB5oN.js";import{U as w}from"./user-3RJR1iCA.js";import{L as g,E as y}from"./lock-BT1TqXx7.js";import{E as N}from"./eye-mxYijkrE.js";import"./pusher-DVtoYAOu.js";import"./index-C-BhOzML.js";import"./avatar-C9EXpg1l.js";import"./react-icons.esm-DCEEl_mi.js";import"./index-B7VWkaSA.js";import"./index-CeA5MDTz.js";import"./select-DwW4yNtx.js";import"./index-16Tu26i9.js";import"./index-B2NWmDAr.js";import"./tslib.es6-M_FJ09fS.js";import"./index-BZVXTTf6.js";import"./index-CUQ3XI0U.js";import"./index-DqxisvwK.js";import"./index-C1y68Ddx.js";import"./moment-C5S46NFB.js";import"./dialog-CHHHHR8_.js";import"./calendar-DCrMp8Ot.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput-Dos6RRW0.js";import"./createLucideIcon-BKWaAi2G.js";import"./x-b8JahagL.js";import"./house-CSq-WFst.js";import"./calendar-D9APQM2e.js";import"./users-D4PhO1-D.js";import"./file-text-YZXa1D2L.js";import"./pill-DIGxtF-3.js";import"./badge-BjEm-iAn.js";import"./pusher-BR51OpoQ.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./circle-check-big-BQVCuGNJ.js";import"./index-SmYPfogB.js";import"./autoprefixer-BHVjDhrs.js";import"./unit-CopbpOEH.js";import"./Toaster-BjJdaHbU.js";import"./toast-DwOpO9i-.js";import"./use-toast-Dm0PN6fH.js";import"./layers-OK8ayVTK.js";import"./chart-column-yMaSKbSU.js";function Ks(){const{auth:o}=R().props,[p,U]=m.useState(!1),[x,k]=m.useState(!1),[h,L]=m.useState(!1),[u,A]=m.useState("profile"),{data:n,setData:l,post:H,processing:v,errors:a}=P({firstname:o.user?.firstname||"",middlename:o.user?.middlename||"",lastname:o.user?.lastname||"",email:o.user?.email||"",contactno:o.user?.contactno||""}),{data:j,setData:f,post:T,processing:b,errors:r,reset:B}=P({current_password:"",password:"",password_confirmation:""}),I=e=>{e.preventDefault(),H(route("pharmacist.settings.profile"),{onSuccess:()=>{c.success("Profile updated successfully!"),q.reload({only:["auth"]})},onError:()=>{c.error("Failed to update profile.")}})},M=e=>{e.preventDefault(),T(route("pharmacist.settings.password"),{onSuccess:()=>{c.success("Password updated successfully!"),B()},onError:()=>{c.error("Failed to update password. Please check your current password.")}})},O=[{id:"profile",label:"Profile",icon:s.jsx(w,{className:"h-4 w-4"})},{id:"security",label:"Security",icon:s.jsx(g,{className:"h-4 w-4"})}];return s.jsxs(z,{header:"Settings",children:[s.jsx($,{title:"Pharmacist Settings"}),s.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[s.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-100",children:s.jsx(G,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]})]}),s.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:O.map(e=>s.jsxs("button",{onClick:()=>A(e.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${u===e.id?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.icon,e.label]},e.id))}),u==="profile"&&s.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(C,{children:[s.jsx(S,{children:s.jsxs(_,{className:"flex items-center gap-2",children:[s.jsx(w,{className:"h-5 w-5"}),"Profile Settings"]})}),s.jsx(F,{children:s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"firstname",children:"First Name"}),s.jsx(t,{id:"firstname",value:n.firstname,onChange:e=>l("firstname",e.target.value),className:a.firstname?"border-red-500":""}),a.firstname&&s.jsx("p",{className:"text-sm text-red-500",children:a.firstname})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"middlename",children:"Middle Name"}),s.jsx(t,{id:"middlename",value:n.middlename,onChange:e=>l("middlename",e.target.value),className:a.middlename?"border-red-500":""}),a.middlename&&s.jsx("p",{className:"text-sm text-red-500",children:a.middlename})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"lastname",children:"Last Name"}),s.jsx(t,{id:"lastname",value:n.lastname,onChange:e=>l("lastname",e.target.value),className:a.lastname?"border-red-500":""}),a.lastname&&s.jsx("p",{className:"text-sm text-red-500",children:a.lastname})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"email",children:"Email"}),s.jsx(t,{id:"email",type:"email",value:n.email,onChange:e=>l("email",e.target.value),className:a.email?"border-red-500":""}),a.email&&s.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"contactno",children:"Contact Number"}),s.jsx(t,{id:"contactno",value:n.contactno,onChange:e=>l("contactno",e.target.value),className:a.contactno?"border-red-500":""}),a.contactno&&s.jsx("p",{className:"text-sm text-red-500",children:a.contactno})]})]}),s.jsx(D,{}),s.jsx("div",{className:"flex justify-end",children:s.jsx(E,{type:"submit",disabled:v,className:"bg-green-600 hover:bg-green-700",children:v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(w,{className:"h-4 w-4 mr-2"}),"Update Profile"]})})})]})})]})}),u==="security"&&s.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(C,{children:[s.jsx(S,{children:s.jsxs(_,{className:"flex items-center gap-2",children:[s.jsx(g,{className:"h-5 w-5"}),"Security Settings"]})}),s.jsx(F,{children:s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"current_password",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(t,{id:"current_password",type:p?"text":"password",value:j.current_password,onChange:e=>f("current_password",e.target.value),className:r.current_password?"border-red-500":""}),s.jsx("button",{type:"button",onClick:()=>U(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:p?s.jsx(y,{className:"h-4 w-4"}):s.jsx(N,{className:"h-4 w-4"})})]}),r.current_password&&s.jsx("p",{className:"text-sm text-red-500",children:r.current_password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(t,{id:"password",type:x?"text":"password",value:j.password,onChange:e=>f("password",e.target.value),className:r.password?"border-red-500":""}),s.jsx("button",{type:"button",onClick:()=>k(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x?s.jsx(y,{className:"h-4 w-4"}):s.jsx(N,{className:"h-4 w-4"})})]}),r.password&&s.jsx("p",{className:"text-sm text-red-500",children:r.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"password_confirmation",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(t,{id:"password_confirmation",type:h?"text":"password",value:j.password_confirmation,onChange:e=>f("password_confirmation",e.target.value),className:r.password_confirmation?"border-red-500":""}),s.jsx("button",{type:"button",onClick:()=>L(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?s.jsx(y,{className:"h-4 w-4"}):s.jsx(N,{className:"h-4 w-4"})})]}),r.password_confirmation&&s.jsx("p",{className:"text-sm text-red-500",children:r.password_confirmation})]})]}),s.jsx(D,{}),s.jsx("div",{className:"flex justify-end",children:s.jsx(E,{type:"submit",disabled:b,className:"bg-green-600 hover:bg-green-700",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(g,{className:"h-4 w-4 mr-2"}),"Update Password"]})})})]})})]})})]})]})}export{Ks as default};
