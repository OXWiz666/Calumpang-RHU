import{r as x,j as e}from"./app-Dtv8WGQI.js";import{C as p,a as u,b as h,c as j,d as g}from"./card-CRB27q5W.js";import{B as n}from"./badge-CdijfYil.js";import{B as d}from"./button-CGq_pqDg.js";import{T as N}from"./triangle-alert-DlhcyagR.js";import{C as f}from"./clock-BZLKAFxc.js";import{C as b}from"./chevron-up-kF1WhQBt.js";import{C as v}from"./chevron-down-KefaMxRY.js";import{f as o}from"./format-BtYX0kVO.js";import"./createLucideIcon-CiuPoFck.js";const L=({item:s,onUpdateClick:c})=>{const[r,i]=x.useState(!1),a=s.quantity<=s.reorderThreshold,t=s.expirationDate&&new Date(s.expirationDate).getTime()-new Date().getTime()<30*24*60*60*1e3,l=m=>{switch(m){case"Medicine":return"bg-blue-100 text-blue-800";case"Vaccine":return"bg-green-100 text-green-800";case"Supply":return"bg-purple-100 text-purple-800";case"Equipment":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(p,{className:`mb-4 ${a?"border-red-300":t?"border-amber-300":"border-gray-200"}`,children:[e.jsx(u,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-lg font-medium",children:s.name}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(n,{className:l(s.category),children:s.category}),a&&e.jsxs(n,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(N,{className:"h-3 w-3"}),"Low Stock"]}),t&&s.expirationDate&&e.jsxs(n,{variant:"outline",className:"bg-amber-100 text-amber-800 flex items-center gap-1",children:[e.jsx(f,{className:"h-3 w-3"}),"Expiring Soon"]})]})]}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>i(!r),className:"h-8 w-8 p-0",children:r?e.jsx(b,{className:"h-4 w-4"}):e.jsx(v,{className:"h-4 w-4"})})]})}),e.jsxs(j,{className:"pb-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),e.jsxs("p",{className:`font-medium ${a?"text-red-600":""}`,children:[s.quantity," ",s.unit,"s"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Reorder At"}),e.jsxs("p",{className:"font-medium",children:[s.reorderThreshold," ",s.unit,"s"]})]})]}),r&&e.jsx("div",{className:"mt-4 border-t pt-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.expirationDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiration Date"}),e.jsx("p",{className:`font-medium ${t?"text-amber-600":""}`,children:o(new Date(s.expirationDate),"MMM dd, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:o(new Date(s.lastUpdated),"MMM dd, yyyy")})]}),s.isVaccine&&e.jsxs(e.Fragment,{children:[s.batchNumber&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Batch Number"}),e.jsx("p",{className:"font-medium",children:s.batchNumber})]}),s.lotNumber&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Lot Number"}),e.jsx("p",{className:"font-medium",children:s.lotNumber})]}),s.location&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Storage Location"}),e.jsx("p",{className:"font-medium",children:s.location})]})]})]})})]}),r&&e.jsx(g,{className:"pt-0",children:e.jsx(d,{variant:"outline",size:"sm",className:"w-full hover:bg-secondary/80 transition-colors font-medium",onClick:()=>c(s),children:"Update Stock"})})]})};export{L as default};
