import{j as e}from"./app-Jdp7iNzl.js";import{r as p}from"./vendor-DkBadjUr.js";import{E as b}from"./eye-mxYijkrE.js";import{D as w}from"./download-BH8XyxCx.js";import{F as o}from"./file-text-YZXa1D2L.js";import{U as h}from"./users-D4PhO1-D.js";import{C as j}from"./circle-check-big-BQVCuGNJ.js";import{C as g}from"./circle-alert-D8zT41fC.js";import{C as v}from"./chart-column-yMaSKbSU.js";import{C as y}from"./chart-pie-D6yKCg1t.js";import{T as N}from"./trending-up-BFbz08q-.js";import{P as f}from"./package-L7rgkkVO.js";import{C}from"./calendar-D9APQM2e.js";import{A as D}from"./activity-C-sjEU5t.js";import{C as k}from"./clock-D6yUBuGv.js";import"./pusher-DVtoYAOu.js";import"./createLucideIcon-BKWaAi2G.js";const K=({reportConfig:a,data:t,analytics:r})=>{const[c,s]=p.useState("table"),[i,n]=p.useState(!1),x=l=>{switch(l){case"patients":return e.jsx(h,{className:"h-5 w-5 text-blue-500"});case"appointments":return e.jsx(C,{className:"h-5 w-5 text-green-500"});case"inventory":return e.jsx(f,{className:"h-5 w-5 text-purple-500"});case"staff":return e.jsx(h,{className:"h-5 w-5 text-orange-500"});default:return e.jsx(o,{className:"h-5 w-5 text-gray-500"})}},d=l=>{switch(l.type){case"bar":return e.jsx(S,{data:t,fields:l.fields});case"pie":return e.jsx(T,{data:t,fields:l.fields});case"line":return e.jsx(V,{data:t,fields:l.fields});case"table":return e.jsx(u,{data:t,fields:a.fields});default:return e.jsx("div",{className:"text-gray-500",children:"Unsupported visualization type"})}};return e.jsxs("div",{className:`${i?"fixed inset-0 z-50 bg-white":"min-h-screen bg-gray-50"}`,children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[x(a.category),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n(!i),className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:e.jsx(b,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(w,{className:"h-4 w-4"}),"Download"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(o,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Records"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_records})]})]})}),r.new_patients&&e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(h,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"New Patients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.new_patients})]})]})}),r.completed_appointments&&e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(j,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.completed_appointments})]})]})}),r.low_stock_items&&e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(g,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.low_stock_items})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>s("table"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="table"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(o,{className:"h-4 w-4 inline mr-2"}),"Data Table"]}),a.visualizations.map((l,m)=>e.jsxs("button",{onClick:()=>s(`viz-${m}`),className:`py-4 px-1 border-b-2 font-medium text-sm ${c===`viz-${m}`?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.type==="bar"&&e.jsx(v,{className:"h-4 w-4 inline mr-2"}),l.type==="pie"&&e.jsx(y,{className:"h-4 w-4 inline mr-2"}),l.type==="line"&&e.jsx(N,{className:"h-4 w-4 inline mr-2"}),l.title]},l.id))]})}),e.jsx("div",{className:"p-6",children:c==="table"?e.jsx(u,{data:t,fields:a.fields}):a.visualizations.map((l,m)=>c===`viz-${m}`&&e.jsx("div",{children:d(l)},l.id))})]}),e.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["Generated on ",new Date().toLocaleString()," â€¢ ",a.category.charAt(0).toUpperCase()+a.category.slice(1)," Report"]})})]})]})},u=({data:a,fields:t})=>{const r=(s,i)=>{if(s==null)return"N/A";switch(i.type){case"number":return new Intl.NumberFormat().format(s);case"date":return new Date(s).toLocaleDateString();case"email":return s;default:return String(s)}},c=s=>{switch(s?.toLowerCase()){case"active":case"completed":return e.jsx(j,{className:"h-4 w-4 text-green-500"});case"pending":return e.jsx(k,{className:"h-4 w-4 text-yellow-500"});case"inactive":case"cancelled":return e.jsx(g,{className:"h-4 w-4 text-red-500"});default:return e.jsx(D,{className:"h-4 w-4 text-gray-500"})}};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:t.map(s=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.name},s.id))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((s,i)=>e.jsx("tr",{className:i%2===0?"bg-white":"bg-gray-50",children:t.map(n=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center gap-2",children:[n.type==="select"&&c(s[n.id]),r(s[n.id],n)]})},n.id))},i))})]})})},S=({data:a,fields:t})=>{const r=a.slice(0,10);return e.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:r.map((c,s)=>{const i=c[t[0]?.id]||0,n=Math.max(...r.map(d=>d[t[0]?.id]||0)),x=n>0?i/n*100:0;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"bg-blue-500 w-full rounded-t",style:{height:`${x}%`}}),e.jsx("div",{className:"text-xs text-gray-600 mt-2 truncate w-full text-center",children:String(c[t[0]?.id]||"").substring(0,10)})]},s)})})},T=({data:a,fields:t})=>{const r=a.slice(0,5),c=r.reduce((s,i)=>s+(i[t[0]?.id]||0),0);return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Total ",t[0]?.name||"Value"]}),e.jsx("div",{className:"mt-4 space-y-1",children:r.map((s,i)=>{const n=s[t[0]?.id]||0,x=c>0?n/c*100:0,d=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500"];return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:`w-3 h-3 rounded ${d[i%d.length]}`}),e.jsx("span",{children:String(s[t[0]?.id]||"").substring(0,15)}),e.jsxs("span",{className:"text-gray-500",children:["(",x.toFixed(1),"%)"]})]},i)})})]})})},V=({data:a,fields:t})=>{const r=a.slice(0,10);return e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Line Chart Preview"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Data points: ",r.length]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Full line chart will be rendered in the actual report"})]})})};export{K as default};
