import{r as i,j as e,d as Me,q as ms,a as Q,b as xs}from"./app-CeIgF_ON.js";import{C as v,a as w,b as S,e as hs,c as y}from"./card-CI2m5mar.js";import{T as us,a as ps,b as L,c as W}from"./tabs-B6Ve_L21.js";import{B as M}from"./button-Fpuf3gK7.js";import{S as z,a as B,b as H,c as q,d as p}from"./select-BiMDzzj4.js";import{B as P}from"./badge-BoTmsD8x.js";import{D as re,f as de,a as me,b as xe,c as he,e as ue,d as pe}from"./dialog-DHsZe8a4.js";import{I as G}from"./input-BCfEL07B.js";import{L as C}from"./label-BoiibVKM.js";import{u as Ee}from"./index-C7P0hZ2t.js";import{P as fs}from"./index-B37RckyO.js";import{P as K,b as js}from"./index-BWgxzSOQ.js";import{c as ce}from"./utils-CtOKCYCe.js";import"./textarea-CHqauKob.js";import{A as gs,H as vs}from"./AdminLayout-BEvX0Mfa.js";import{s as O}from"./toast-Bu_EgVQh.js";import{m as F}from"./proxy-CJR3EsRI.js";import{C as ne}from"./calendar-CGzNZGPc.js";import{P as fe}from"./plus-CywIG7c5.js";import{F as Ce}from"./file-text-BWiDoVNK.js";import{c as ys}from"./createLucideIcon-YALEnXJP.js";import{S as bs}from"./settings-CTLmvXdY.js";import{E as Ns}from"./eye-CH-M-q2t.js";import{D as Cs}from"./download-DeuZq0VE.js";import{U as ws}from"./users-CiVbWQqA.js";import{S as Ss}from"./stethoscope-BFqR0J1y.js";import{T as we}from"./trending-up-DE7JzcSX.js";import{C as Rs}from"./chart-column-F8CwGpVk.js";import{T as ks}from"./trending-down-C9nsXwfL.js";import{C as Se}from"./clock-BsMKXmBT.js";import{C as Ds}from"./circle-alert-DuAkRI3M.js";import{C as Ps}from"./circle-x-BLiNGyoF.js";import{C as Re}from"./circle-check-big-C-dI_0Ou.js";import{f as _}from"./format-Dp3w_Y3x.js";import"./index-CnNFI4E1.js";import"./index-BWv6GYHR.js";import"./Combination-DCT0cEvm.js";import"./index-C4H9pt8C.js";import"./index-Djoo3jz_.js";import"./avatar-l4jmpcb5.js";import"./separator-Cw77xRaf.js";import"./moment-C5S46NFB.js";import"./popover-CcLZs61t.js";import"./isBefore-COsor6RJ.js";import"./isSameMonth-BOwz-_mK.js";import"./TextInput-ZW_WmtP_.js";import"./x-YzAcrD4r.js";import"./house-zQzEg_dg.js";import"./pusher-DCkN6nwv.js";import"./printer-DDOFDHRe.js";import"./package-DZ7aEd2S.js";import"./pill-aaemgw3j.js";import"./bell-B4Bny3sk.js";import"./index-DGjbBNAT.js";import"./autoprefixer-nNIV5xXV.js";import"./Toaster-fp6k2nVx.js";import"./toast-QJZS3IgN.js";import"./layers-7gvnJ6Vk.js";import"./refresh-cw-BvJK4sNr.js";import"./save-CPB1gdGV.js";import"./square-pen-B10XnNsm.js";import"./trash-2-t7iELOWw.js";import"./archive-DgJhf5RG.js";import"./info-Tb2EP4WD.js";import"./triangle-alert-Dbm5RxGW.js";import"./circle-check-DVbgZSp6.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Es=ys("FileSpreadsheet",Ms);function ke(t,c){if(typeof t=="function")return t(c);t!=null&&(t.current=c)}function Ts(...t){return c=>{let a=!1;const d=t.map(r=>{const n=ke(r,c);return!a&&typeof n=="function"&&(a=!0),n});if(a)return()=>{for(let r=0;r<d.length;r++){const n=d[r];typeof n=="function"?n():ke(t[r],null)}}}}function Te(...t){return i.useCallback(Ts(...t),t)}function _s(t,c=[]){let a=[];function d(n,m){const l=i.createContext(m),x=a.length;a=[...a,m];const f=u=>{const{scope:j,children:b,...g}=u,R=j?.[t]?.[x]||l,E=i.useMemo(()=>g,Object.values(g));return e.jsx(R.Provider,{value:E,children:b})};f.displayName=n+"Provider";function h(u,j){const b=j?.[t]?.[x]||l,g=i.useContext(b);if(g)return g;if(m!==void 0)return m;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[f,h]}const r=()=>{const n=a.map(m=>i.createContext(m));return function(l){const x=l?.[t]||n;return i.useMemo(()=>({[`__scope${t}`]:{...l,[t]:x}}),[l,x])}};return r.scopeName=t,[d,As(r,...c)]}function As(...t){const c=t[0];if(t.length===1)return c;const a=()=>{const d=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(n){const m=d.reduce((l,{useScope:x,scopeName:f})=>{const u=x(n)[`__scope${f}`];return{...l,...u}},{});return i.useMemo(()=>({[`__scope${c.scopeName}`]:m}),[m])}};return a.scopeName=c.scopeName,a}function De(t,c,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t?.(r),a===!1||!r.defaultPrevented)return c?.(r)}}var _e=globalThis?.document?i.useLayoutEffect:()=>{},Fs=Me[" useInsertionEffect ".trim().toString()]||_e;function Is({prop:t,defaultProp:c,onChange:a=()=>{},caller:d}){const[r,n,m]=Os({defaultProp:c,onChange:a}),l=t!==void 0,x=l?t:r;{const h=i.useRef(t!==void 0);i.useEffect(()=>{const u=h.current;u!==l&&console.warn(`${d} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,d])}const f=i.useCallback(h=>{if(l){const u=$s(h)?h(t):h;u!==t&&m.current?.(u)}else n(h)},[l,t,n,m]);return[x,f]}function Os({defaultProp:t,onChange:c}){const[a,d]=i.useState(t),r=i.useRef(a),n=i.useRef(c);return Fs(()=>{n.current=c},[c]),i.useEffect(()=>{r.current!==a&&(n.current?.(a),r.current=a)},[a,r]),[a,d,n]}function $s(t){return typeof t=="function"}function zs(t){const[c,a]=i.useState(void 0);return _e(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const d=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const n=r[0];let m,l;if("borderBoxSize"in n){const x=n.borderBoxSize,f=Array.isArray(x)?x[0]:x;m=f.inlineSize,l=f.blockSize}else m=t.offsetWidth,l=t.offsetHeight;a({width:m,height:l})});return d.observe(t,{box:"border-box"}),()=>d.unobserve(t)}else a(void 0)},[t]),c}var ie="Checkbox",[Bs,fa]=_s(ie),[Hs,je]=Bs(ie);function qs(t){const{__scopeCheckbox:c,checked:a,children:d,defaultChecked:r,disabled:n,form:m,name:l,onCheckedChange:x,required:f,value:h="on",internal_do_not_use_render:u}=t,[j,b]=Is({prop:a,defaultProp:r??!1,onChange:x,caller:ie}),[g,R]=i.useState(null),[E,N]=i.useState(null),k=i.useRef(!1),A=g?!!m||!!g.closest("form"):!0,V={checked:j,disabled:n,setChecked:b,control:g,setControl:R,name:l,form:m,value:h,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:U(r)?!1:r,isFormControl:A,bubbleInput:E,setBubbleInput:N};return e.jsx(Hs,{scope:c,...V,children:Ls(u)?u(V):d})}var Ae="CheckboxTrigger",Fe=i.forwardRef(({__scopeCheckbox:t,onKeyDown:c,onClick:a,...d},r)=>{const{control:n,value:m,disabled:l,checked:x,required:f,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:j,isFormControl:b,bubbleInput:g}=je(Ae,t),R=Te(r,h),E=i.useRef(x);return i.useEffect(()=>{const N=n?.form;if(N){const k=()=>u(E.current);return N.addEventListener("reset",k),()=>N.removeEventListener("reset",k)}},[n,u]),e.jsx(K.button,{type:"button",role:"checkbox","aria-checked":U(x)?"mixed":x,"aria-required":f,"data-state":Be(x),"data-disabled":l?"":void 0,disabled:l,value:m,...d,ref:R,onKeyDown:De(c,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:De(a,N=>{u(k=>U(k)?!0:!k),g&&b&&(j.current=N.isPropagationStopped(),j.current||N.stopPropagation())})})});Fe.displayName=Ae;var ge=i.forwardRef((t,c)=>{const{__scopeCheckbox:a,name:d,checked:r,defaultChecked:n,required:m,disabled:l,value:x,onCheckedChange:f,form:h,...u}=t;return e.jsx(qs,{__scopeCheckbox:a,checked:r,defaultChecked:n,disabled:l,required:m,onCheckedChange:f,name:d,form:h,value:x,internal_do_not_use_render:({isFormControl:j})=>e.jsxs(e.Fragment,{children:[e.jsx(Fe,{...u,ref:c,__scopeCheckbox:a}),j&&e.jsx(ze,{__scopeCheckbox:a})]})})});ge.displayName=ie;var Ie="CheckboxIndicator",Oe=i.forwardRef((t,c)=>{const{__scopeCheckbox:a,forceMount:d,...r}=t,n=je(Ie,a);return e.jsx(fs,{present:d||U(n.checked)||n.checked===!0,children:e.jsx(K.span,{"data-state":Be(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:c,style:{pointerEvents:"none",...t.style}})})});Oe.displayName=Ie;var $e="CheckboxBubbleInput",ze=i.forwardRef(({__scopeCheckbox:t,...c},a)=>{const{control:d,hasConsumerStoppedPropagationRef:r,checked:n,defaultChecked:m,required:l,disabled:x,name:f,value:h,form:u,bubbleInput:j,setBubbleInput:b}=je($e,t),g=Te(a,b),R=Ee(n),E=zs(d);i.useEffect(()=>{const k=j;if(!k)return;const A=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(A,"checked").set,Z=!r.current;if(R!==n&&$){const J=new Event("click",{bubbles:Z});k.indeterminate=U(n),$.call(k,U(n)?!1:n),k.dispatchEvent(J)}},[j,R,n,r]);const N=i.useRef(U(n)?!1:n);return e.jsx(K.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??N.current,required:l,disabled:x,name:f,value:h,form:u,...c,tabIndex:-1,ref:g,style:{...c.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ze.displayName=$e;function Ls(t){return typeof t=="function"}function U(t){return t==="indeterminate"}function Be(t){return U(t)?"indeterminate":t?"checked":"unchecked"}const He=i.forwardRef(({className:t,...c},a)=>e.jsx(ge,{ref:a,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...c,children:e.jsx(Oe,{className:ce("flex items-center justify-center text-current"),children:e.jsx(js,{className:"h-4 w-4"})})}));He.displayName=ge.displayName;function Ws(t,c,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t?.(r),a===!1||!r.defaultPrevented)return c?.(r)}}function Pe(t,c){if(typeof t=="function")return t(c);t!=null&&(t.current=c)}function Gs(...t){return c=>{let a=!1;const d=t.map(r=>{const n=Pe(r,c);return!a&&typeof n=="function"&&(a=!0),n});if(a)return()=>{for(let r=0;r<d.length;r++){const n=d[r];typeof n=="function"?n():Pe(t[r],null)}}}}function qe(...t){return i.useCallback(Gs(...t),t)}function Us(t,c=[]){let a=[];function d(n,m){const l=i.createContext(m),x=a.length;a=[...a,m];const f=u=>{const{scope:j,children:b,...g}=u,R=j?.[t]?.[x]||l,E=i.useMemo(()=>g,Object.values(g));return e.jsx(R.Provider,{value:E,children:b})};f.displayName=n+"Provider";function h(u,j){const b=j?.[t]?.[x]||l,g=i.useContext(b);if(g)return g;if(m!==void 0)return m;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[f,h]}const r=()=>{const n=a.map(m=>i.createContext(m));return function(l){const x=l?.[t]||n;return i.useMemo(()=>({[`__scope${t}`]:{...l,[t]:x}}),[l,x])}};return r.scopeName=t,[d,Vs(r,...c)]}function Vs(...t){const c=t[0];if(t.length===1)return c;const a=()=>{const d=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(n){const m=d.reduce((l,{useScope:x,scopeName:f})=>{const u=x(n)[`__scope${f}`];return{...l,...u}},{});return i.useMemo(()=>({[`__scope${c.scopeName}`]:m}),[m])}};return a.scopeName=c.scopeName,a}var Le=globalThis?.document?i.useLayoutEffect:()=>{},Ys=Me[" useInsertionEffect ".trim().toString()]||Le;function Xs({prop:t,defaultProp:c,onChange:a=()=>{},caller:d}){const[r,n,m]=Qs({defaultProp:c,onChange:a}),l=t!==void 0,x=l?t:r;{const h=i.useRef(t!==void 0);i.useEffect(()=>{const u=h.current;u!==l&&console.warn(`${d} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,d])}const f=i.useCallback(h=>{if(l){const u=Ks(h)?h(t):h;u!==t&&m.current?.(u)}else n(h)},[l,t,n,m]);return[x,f]}function Qs({defaultProp:t,onChange:c}){const[a,d]=i.useState(t),r=i.useRef(a),n=i.useRef(c);return Ys(()=>{n.current=c},[c]),i.useEffect(()=>{r.current!==a&&(n.current?.(a),r.current=a)},[a,r]),[a,d,n]}function Ks(t){return typeof t=="function"}function Zs(t){const[c,a]=i.useState(void 0);return Le(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const d=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const n=r[0];let m,l;if("borderBoxSize"in n){const x=n.borderBoxSize,f=Array.isArray(x)?x[0]:x;m=f.inlineSize,l=f.blockSize}else m=t.offsetWidth,l=t.offsetHeight;a({width:m,height:l})});return d.observe(t,{box:"border-box"}),()=>d.unobserve(t)}else a(void 0)},[t]),c}var le="Switch",[Js,ja]=Us(le),[et,st]=Js(le),We=i.forwardRef((t,c)=>{const{__scopeSwitch:a,name:d,checked:r,defaultChecked:n,required:m,disabled:l,value:x="on",onCheckedChange:f,form:h,...u}=t,[j,b]=i.useState(null),g=qe(c,A=>b(A)),R=i.useRef(!1),E=j?h||!!j.closest("form"):!0,[N,k]=Xs({prop:r,defaultProp:n??!1,onChange:f,caller:le});return e.jsxs(et,{scope:a,checked:N,disabled:l,children:[e.jsx(K.button,{type:"button",role:"switch","aria-checked":N,"aria-required":m,"data-state":Ye(N),"data-disabled":l?"":void 0,disabled:l,value:x,...u,ref:g,onClick:Ws(t.onClick,A=>{k(V=>!V),E&&(R.current=A.isPropagationStopped(),R.current||A.stopPropagation())})}),E&&e.jsx(Ve,{control:j,bubbles:!R.current,name:d,value:x,checked:N,required:m,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});We.displayName=le;var Ge="SwitchThumb",Ue=i.forwardRef((t,c)=>{const{__scopeSwitch:a,...d}=t,r=st(Ge,a);return e.jsx(K.span,{"data-state":Ye(r.checked),"data-disabled":r.disabled?"":void 0,...d,ref:c})});Ue.displayName=Ge;var tt="SwitchBubbleInput",Ve=i.forwardRef(({__scopeSwitch:t,control:c,checked:a,bubbles:d=!0,...r},n)=>{const m=i.useRef(null),l=qe(m,n),x=Ee(a),f=Zs(c);return i.useEffect(()=>{const h=m.current;if(!h)return;const u=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(u,"checked").set;if(x!==a&&b){const g=new Event("click",{bubbles:d});b.call(h,a),h.dispatchEvent(g)}},[x,a,d]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:l,style:{...r.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ve.displayName=tt;function Ye(t){return t?"checked":"unchecked"}var Xe=We,at=Ue;const Qe=i.forwardRef(({className:t,...c},a)=>e.jsx(Xe,{className:ce("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...c,ref:a,children:e.jsx(at,{className:ce("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Qe.displayName=Xe.displayName;const ga=()=>{const{dateRange:t,patientData:c,appointmentData:a,serviceData:d,programData:r,staffData:n,medicalData:m}=ms().props,[l,x]=i.useState("thisMonth"),[f,h]=i.useState({start:t?.start||_(new Date,"yyyy-MM-01"),end:t?.end||_(new Date,"yyyy-MM-dd")}),[u,j]=i.useState(!1),[b,g]=i.useState(!1),[R,E]=i.useState([]),[N,k]=i.useState(null),[A,V]=i.useState("pdf"),[$,Z]=i.useState("overview"),[J,ve]=i.useState([]),[Ke,Ze]=i.useState([]),[ee,Je]=i.useState({}),[se,te]=i.useState(!1),[ye,X]=i.useState(!1),[be,es]=i.useState([]),[T,ss]=i.useState({name:"",description:"",reportType:"pdf",reportCategory:"overview",customFields:[],filters:{},frequency:"daily",time:"09:00",dayOfWeek:"monday",dayOfMonth:1,emailRecipients:"",isActive:!0});i.useEffect(()=>{(async()=>{try{const o=await Q.get(route("admin.reports.templates"));E(o.data.templates)}catch(o){console.error("Error loading report templates:",o)}})(),ae()},[]),i.useEffect(()=>{Ze({overview:["patients","appointments","programs","services","staff","medical"],patients:["firstname","lastname","gender","birth","address","contactno","email"],appointments:["date","time","status","service.servicename","user.firstname","user.lastname","notes"],programs:["program_name","description","date","start_time","end_time","location","slots"],services:["servicename","description","subservices","appointment_count"],staff:["firstname","lastname","role.rolename","status","email","contactno"],medical:["patient.firstname","patient.lastname","doctor.firstname","doctor.lastname","diagnosis","treatment"],custom:["patient_registrations","appointment_completions","service_usage","staff_performance"]}[$]||[])},[$]);const ts=s=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",as=s=>({pending:e.jsx(Se,{className:"h-4 w-4"}),confirmed:e.jsx(Re,{className:"h-4 w-4"}),completed:e.jsx(Re,{className:"h-4 w-4"}),cancelled:e.jsx(Ps,{className:"h-4 w-4"}),"no-show":e.jsx(Ds,{className:"h-4 w-4"})})[s]||e.jsx(Se,{className:"h-4 w-4"}),rs=s=>{x(s);const o=new Date;let D,Y;switch(s){case"today":D=Y=_(o,"yyyy-MM-dd");break;case"thisWeek":D=_(new Date(o.setDate(o.getDate()-o.getDay())),"yyyy-MM-dd"),Y=_(new Date(o.setDate(o.getDate()-o.getDay()+6)),"yyyy-MM-dd");break;case"thisMonth":D=_(new Date(o.getFullYear(),o.getMonth(),1),"yyyy-MM-dd"),Y=_(new Date(o.getFullYear(),o.getMonth()+1,0),"yyyy-MM-dd");break;case"lastMonth":D=_(new Date(o.getFullYear(),o.getMonth()-1,1),"yyyy-MM-dd"),Y=_(new Date(o.getFullYear(),o.getMonth(),0),"yyyy-MM-dd");break;case"thisYear":D=_(new Date(o.getFullYear(),0,1),"yyyy-MM-dd"),Y=_(new Date(o.getFullYear(),11,31),"yyyy-MM-dd");break;default:return}h({start:D,end:Y}),xs.get(route("admin.reports"),{start_date:D,end_date:Y})},Ne=s=>{console.log(`Exporting ${s} report...`)},ns=async()=>{te(!0);try{const s=await Q.post(route("admin.reports.generate"),{report_type:A,report_category:$,date_range:f,custom_fields:J,filters:ee});s.data.success?(O("Success!",s.data.message,"success","create"),j(!1),console.log("Report generated:",s.data)):O("Error",s.data.message||"Failed to generate report","error")}catch(s){console.error("Error generating report:",s),O("Error",s.response?.data?.message||"Failed to generate report","error")}finally{te(!1)}},cs=s=>{k(s),Z(s.category),ve(s.fields)},is=s=>{ve(o=>o.includes(s)?o.filter(D=>D!==s):[...o,s])},oe=(s,o)=>{Je(D=>({...D,[s]:o}))},ls=async()=>{try{te(!0);const s=await Q.post(route("admin.reports.schedule"),{...T,dateRange:f});s.data.success?(O("Success!","Report scheduled successfully!","success","create"),X(!1),ae()):O("Error",s.data.message||"Failed to schedule report","error")}catch(s){console.error("Error scheduling report:",s),O("Error",s.response?.data?.message||"Failed to schedule report","error")}finally{te(!1)}},ae=async()=>{try{const s=await Q.get(route("admin.reports.scheduled"));es(s.data.scheduledReports||[])}catch(s){console.error("Error loading scheduled reports:",s)}},I=(s,o)=>{ss(D=>({...D,[s]:o}))},os=async(s,o)=>{try{(await Q.post(route("admin.reports.toggle-schedule"),{scheduleId:s,isActive:o})).data.success&&(O("Success!",`Report schedule ${o?"activated":"deactivated"} successfully!`,"success","update"),ae())}catch(D){console.error("Error toggling schedule:",D),O("Error","Failed to update schedule","error")}},ds=async s=>{try{(await Q.delete(route("admin.reports.delete-schedule",{id:s}))).data.success&&(O("Success!","Scheduled report deleted successfully!","success","delete"),ae())}catch(o){console.error("Error deleting schedule:",o),O("Error","Failed to delete schedule","error")}};return e.jsx(gs,{children:e.jsxs("div",{className:"p-6 bg-background min-h-screen",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and data analysis for RHU Calumpang"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Period: ",_(new Date(f.start),"MMM dd, yyyy")," - ",_(new Date(f.end),"MMM dd, yyyy")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{open:ye,onOpenChange:X,children:e.jsx(de,{asChild:!0,children:e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Schedule Report"]})})}),e.jsxs(re,{open:u,onOpenChange:j,children:[e.jsx(de,{asChild:!0,children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"Generate Report"]})}),e.jsxs(me,{className:"max-w-2xl",children:[e.jsxs(xe,{children:[e.jsx(he,{children:"Generate Report"}),e.jsx(ue,{children:"Create a custom report with your selected data and filters."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Report Format"}),e.jsxs(z,{value:A,onValueChange:V,children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(p,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"PDF Document"]})}),e.jsx(p,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"h-4 w-4"}),"Excel Spreadsheet"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Report Category"}),e.jsxs(z,{value:$,onValueChange:Z,children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(p,{value:"overview",children:"Overview Report"}),e.jsx(p,{value:"patients",children:"Patient Report"}),e.jsx(p,{value:"appointments",children:"Appointment Report"}),e.jsx(p,{value:"programs",children:"Program Report"}),e.jsx(p,{value:"services",children:"Service Report"}),e.jsx(p,{value:"staff",children:"Staff Report"}),e.jsx(p,{value:"medical",children:"Medical Report"}),e.jsx(p,{value:"custom",children:"Custom Report"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Start Date"}),e.jsx(G,{type:"date",value:f.start,onChange:s=>h(o=>({...o,start:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"End Date"}),e.jsx(G,{type:"date",value:f.end,onChange:s=>h(o=>({...o,end:s.target.value}))})]})]}),$!=="overview"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Select Fields to Include"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto border rounded-md p-2",children:Ke.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{id:s,checked:J.includes(s),onCheckedChange:()=>is(s)}),e.jsx(C,{htmlFor:s,className:"text-sm",children:s.replace(/_/g," ").replace(/\./g," - ")})]},s))})]}),$==="patients"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Gender"}),e.jsxs(z,{value:ee.gender||"",onValueChange:s=>oe("gender",s),children:[e.jsx(B,{children:e.jsx(H,{placeholder:"All genders"})}),e.jsxs(q,{children:[e.jsx(p,{value:"",children:"All"}),e.jsx(p,{value:"Male",children:"Male"}),e.jsx(p,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Age Range"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{type:"number",placeholder:"Min",value:ee.age_min||"",onChange:s=>oe("age_min",s.target.value)}),e.jsx(G,{type:"number",placeholder:"Max",value:ee.age_max||"",onChange:s=>oe("age_max",s.target.value)})]})]})]})]})]}),e.jsxs(pe,{children:[e.jsx(M,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(M,{onClick:ns,disabled:se,children:se?"Generating...":"Generate Report"})]})]})]}),e.jsxs(re,{open:b,onOpenChange:g,children:[e.jsx(de,{asChild:!0,children:e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Templates"]})}),e.jsxs(me,{className:"max-w-4xl",children:[e.jsxs(xe,{children:[e.jsx(he,{children:"Report Templates"}),e.jsx(ue,{children:"Choose from predefined report templates or create your own custom report."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(s=>e.jsxs(v,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsxs(w,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{className:"text-lg",children:s.name}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{cs(s),g(!1),j(!0)},children:e.jsx(Ns,{className:"h-4 w-4"})})]}),e.jsx(hs,{children:s.description})]}),e.jsx(y,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.fields.slice(0,3).map(o=>e.jsx(P,{variant:"secondary",className:"text-xs",children:o.replace(/_/g," ")},o)),s.fields.length>3&&e.jsxs(P,{variant:"secondary",className:"text-xs",children:["+",s.fields.length-3," more"]})]})})]},s.id))}),e.jsx(pe,{children:e.jsx(M,{variant:"outline",onClick:()=>g(!1),children:"Close"})})]})]}),e.jsx(re,{open:ye,onOpenChange:X,children:e.jsxs(me,{className:"max-w-3xl",children:[e.jsxs(xe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Schedule Report"]}),e.jsx(ue,{children:"Set up automatic report generation with custom frequency and email delivery."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"scheduleName",children:"Report Name"}),e.jsx(G,{id:"scheduleName",value:T.name,onChange:s=>I("name",s.target.value),placeholder:"e.g., Weekly Patient Report"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"scheduleDescription",children:"Description"}),e.jsx(G,{id:"scheduleDescription",value:T.description,onChange:s=>I("description",s.target.value),placeholder:"Brief description of the report"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Report Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Report Format"}),e.jsxs(z,{value:T.reportType,onValueChange:s=>I("reportType",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(p,{value:"pdf",children:"PDF Document"}),e.jsx(p,{value:"excel",children:"Excel Spreadsheet"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Report Category"}),e.jsxs(z,{value:T.reportCategory,onValueChange:s=>I("reportCategory",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(p,{value:"overview",children:"Overview"}),e.jsx(p,{value:"patients",children:"Patients"}),e.jsx(p,{value:"appointments",children:"Appointments"}),e.jsx(p,{value:"programs",children:"Health Programs"}),e.jsx(p,{value:"services",children:"Services"}),e.jsx(p,{value:"staff",children:"Staff"}),e.jsx(p,{value:"medical",children:"Medical Records"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Schedule Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Frequency"}),e.jsxs(z,{value:T.frequency,onValueChange:s=>I("frequency",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(p,{value:"daily",children:"Daily"}),e.jsx(p,{value:"weekly",children:"Weekly"}),e.jsx(p,{value:"monthly",children:"Monthly"}),e.jsx(p,{value:"quarterly",children:"Quarterly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Time"}),e.jsx(G,{type:"time",value:T.time,onChange:s=>I("time",s.target.value)})]})]}),T.frequency==="weekly"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Day of Week"}),e.jsxs(z,{value:T.dayOfWeek,onValueChange:s=>I("dayOfWeek",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(p,{value:"monday",children:"Monday"}),e.jsx(p,{value:"tuesday",children:"Tuesday"}),e.jsx(p,{value:"wednesday",children:"Wednesday"}),e.jsx(p,{value:"thursday",children:"Thursday"}),e.jsx(p,{value:"friday",children:"Friday"}),e.jsx(p,{value:"saturday",children:"Saturday"}),e.jsx(p,{value:"sunday",children:"Sunday"})]})]})]}),T.frequency==="monthly"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Day of Month"}),e.jsxs(z,{value:T.dayOfMonth.toString(),onValueChange:s=>I("dayOfMonth",parseInt(s)),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsx(q,{children:Array.from({length:28},(s,o)=>o+1).map(s=>e.jsx(p,{value:s.toString(),children:s},s))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Email Configuration"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"emailRecipients",children:"Email Recipients"}),e.jsx(G,{id:"emailRecipients",value:T.emailRecipients,onChange:s=>I("emailRecipients",s.target.value),placeholder:"admin@example.com, manager@example.com"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Separate multiple emails with commas"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{id:"isActive",checked:T.isActive,onCheckedChange:s=>I("isActive",s)}),e.jsx(C,{htmlFor:"isActive",children:"Active Schedule"})]})]}),e.jsxs(pe,{children:[e.jsx(M,{variant:"outline",onClick:()=>X(!1),children:"Cancel"}),e.jsx(M,{onClick:ls,disabled:se,children:se?"Scheduling...":"Schedule Report"})]})]})}),e.jsxs(M,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ne("pdf"),children:[e.jsx(Cs,{className:"h-4 w-4"}),e.jsx("span",{children:"Quick PDF"})]}),e.jsxs(M,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ne("excel"),children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Quick Excel"})]}),e.jsxs(z,{value:l,onValueChange:rs,children:[e.jsx(B,{className:"w-[180px]",children:e.jsx(H,{placeholder:"Select period"})}),e.jsxs(q,{children:[e.jsx(p,{value:"today",children:"Today"}),e.jsx(p,{value:"thisWeek",children:"This Week"}),e.jsx(p,{value:"thisMonth",children:"This Month"}),e.jsx(p,{value:"lastMonth",children:"Last Month"}),e.jsx(p,{value:"thisYear",children:"This Year"})]})]})]})]}),e.jsxs(us,{defaultValue:"overview",className:"w-full",children:[e.jsxs(ps,{className:"mb-6",children:[e.jsx(L,{value:"overview",children:"Overview"}),e.jsx(L,{value:"patients",children:"Patients"}),e.jsx(L,{value:"appointments",children:"Appointments"}),e.jsx(L,{value:"programs",children:"Health Programs"}),e.jsx(L,{value:"services",children:"Services"}),e.jsx(L,{value:"staff",children:"Staff"}),e.jsx(L,{value:"medical",children:"Medical Records"}),e.jsx(L,{value:"scheduled",children:"Scheduled Reports"})]}),e.jsxs(W,{value:"overview",className:"space-y-6",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(v,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Patients"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:c?.total||0}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[c?.newInPeriod||0," new in period"]})]}),e.jsx(ws,{className:"h-12 w-12 text-blue-500"})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Appointments"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:a?.total||0}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[a?.completionRate||0,"% completion rate"]})]}),e.jsx(ne,{className:"h-12 w-12 text-green-500"})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Health Programs"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:r?.activePrograms||0}),e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[r?.totalRegistrations||0," enrollments"]})]}),e.jsx(vs,{className:"h-12 w-12 text-purple-500"})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Active Services"}),e.jsx("p",{className:"text-3xl font-bold text-orange-900",children:d?.activeServices||0}),e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[d?.activeSubServices||0," sub-services"]})]}),e.jsx(Ss,{className:"h-12 w-12 text-orange-500"})]})})})]}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(v,{children:[e.jsx(w,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Patient Registration Trends"]})}),e.jsx(y,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Rs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Monthly Registration Trend"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:c?.monthlyTrend?`${Object.keys(c.monthlyTrend).length} months of data`:"No trend data available"}),c?.growthRate&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[c.growthRate>=0?e.jsx(we,{className:"h-4 w-4 text-green-500"}):e.jsx(ks,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{className:`text-sm font-medium ${c.growthRate>=0?"text-green-600":"text-red-600"}`,children:[c.growthRate>=0?"+":"",c.growthRate,"% growth"]})]})]})})})]})}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(v,{children:[e.jsx(w,{className:"pb-3",children:e.jsx(S,{className:"text-lg",children:"Patient Demographics"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Male"}),e.jsx(P,{variant:"secondary",children:c?.demographics?.male||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Female"}),e.jsx(P,{variant:"secondary",children:c?.demographics?.female||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Other"}),e.jsx(P,{variant:"secondary",children:c?.demographics?.other||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(w,{className:"pb-3",children:e.jsx(S,{className:"text-lg",children:"Appointment Status"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:a?.statusDistribution?Object.entries(a.statusDistribution).map(([s,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[as(s),e.jsx("span",{className:"text-sm text-gray-600 capitalize",children:s})]}),e.jsx(P,{className:ts(s),children:o})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No appointment data"})})})]}),e.jsxs(v,{children:[e.jsx(w,{className:"pb-3",children:e.jsx(S,{className:"text-lg",children:"Staff Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Doctors"}),e.jsx(P,{variant:"secondary",children:n?.staffCounts?.doctors||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pharmacists"}),e.jsx(P,{variant:"secondary",children:n?.staffCounts?.pharmacists||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Admins"}),e.jsx(P,{variant:"secondary",children:n?.staffCounts?.admins||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active Staff"}),e.jsx(P,{className:"bg-green-100 text-green-800",children:n?.activeStaff||0})]})]})})]})]})]}),e.jsx(W,{value:"patients",className:"space-y-6",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Patient Demographics"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Patients"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:c?.total||0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c?.demographics?.male||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Male"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-pink-600",children:c?.demographics?.female||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Female"})]})]})]})})]}),e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Age Distribution"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:c?.ageGroups?Object.entries(c.ageGroups).map(([s,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:o})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No age data available"})})})]})]})}),e.jsx(W,{value:"appointments",className:"space-y-6",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Appointment Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Appointments"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:a?.total||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Completed"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:a?.completed||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Completion Rate"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[a?.completionRate||0,"%"]})]})]})})]}),e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Service Distribution"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:a?.serviceDistribution?Object.entries(a.serviceDistribution).map(([s,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:o})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No service data available"})})})]})]})}),e.jsx(W,{value:"programs",className:"space-y-6",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Program Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Programs"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:r?.totalPrograms||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Programs"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:r?.activePrograms||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Enrollments"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:r?.totalRegistrations||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Enrollment by Program"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:r?.enrollmentTrend?Object.entries(r.enrollmentTrend).map(([s,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:o})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No enrollment data available"})})})]})]})}),e.jsx(W,{value:"services",className:"space-y-6",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Service Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Services"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:d?.totalServices||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Services"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:d?.activeServices||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Sub-services"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:d?.totalSubServices||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Popular Services"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:d?.popularServices?.length>0?d.popularServices.map((s,o)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.servicename}),e.jsx(P,{variant:"outline",children:s.count})]},o)):e.jsx("p",{className:"text-sm text-gray-500",children:"No service usage data available"})})})]})]})}),e.jsx(W,{value:"staff",className:"space-y-6",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Staff Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Staff"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:(n?.staffCounts?.doctors||0)+(n?.staffCounts?.pharmacists||0)+(n?.staffCounts?.admins||0)})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:n?.staffCounts?.doctors||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Doctors"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:n?.staffCounts?.pharmacists||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Pharmacists"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-purple-600",children:n?.staffCounts?.admins||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Admins"})]})]})]})})]}),e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Staff Status"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Staff"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:n?.activeStaff||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Inactive Staff"}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:n?.inactiveStaff||0})]})]})})]})]})}),e.jsx(W,{value:"medical",className:"space-y-6",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Medical Records Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Records"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:m?.totalRecords||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Records This Period"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:m?.recordsInPeriod||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Prescriptions"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:m?.totalPrescriptions||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(S,{children:"Common Diagnoses"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:m?.commonDiagnoses?Object.entries(m.commonDiagnoses).slice(0,5).map(([s,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:o})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No diagnosis data available"})})})]})]})}),e.jsx(W,{value:"scheduled",className:"space-y-6",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scheduled Reports"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your automated report generation schedules"})]}),e.jsxs(M,{onClick:()=>X(!0),className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"Schedule New Report"]})]}),e.jsx("div",{className:"grid gap-4",children:be.length>0?be.map(s=>e.jsx(v,{className:"hover:shadow-md transition-shadow",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx(P,{className:s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:s.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.reportType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Category:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.reportCategory})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Frequency:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.frequency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Time:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.time})]})]}),s.emailRecipients&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Recipients:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s.emailRecipients})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>os(s.id,!s.isActive),className:s.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700",children:s.isActive?"Deactivate":"Activate"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>ds(s.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]})})},s.id)):e.jsx(v,{children:e.jsxs(y,{className:"p-12 text-center",children:[e.jsx(ne,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Scheduled Reports"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't scheduled any reports yet. Create your first scheduled report to get started."}),e.jsxs(M,{onClick:()=>X(!0),className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"Schedule Your First Report"]})]})})})]})})]})]})})};export{ga as default};
