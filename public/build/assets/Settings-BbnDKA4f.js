import{a as R,u as P,j as s,H as $,r as q}from"./app-CBCVmnFq.js";import{r as d}from"./vendor-DkBadjUr.js";import{A as z}from"./AdminLayout-BOfCyG0G.js";import{C,a as S,b as _,c as F}from"./card-ByA8IRpR.js";import{B as D}from"./button-BoxJUO42.js";import{I as t}from"./input-KnM2zJqx.js";import{L as o}from"./label-Cf5e644O.js";import{S as E}from"./separator-BFw2qPKG.js";import{n as m}from"./index-WHihrx3k.js";import{m as c}from"./proxy-D8Ywddam.js";import{S as G}from"./settings-D_MeB5oN.js";import{U as w}from"./user-3RJR1iCA.js";import{L as N,E as y}from"./lock-BT1TqXx7.js";import{E as g}from"./eye-mxYijkrE.js";import"./pusher-DVtoYAOu.js";import"./index-CCexkvXU.js";import"./avatar-D8LZ5GvX.js";import"./react-icons.esm-Dpkz3fnS.js";import"./index-BT9_qCGV.js";import"./index-DFPBGz7D.js";import"./select-BX_wRdQy.js";import"./index-BJLF1GC9.js";import"./index-uz7BvUHi.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Ob89tzIx.js";import"./index-ZLRVY36w.js";import"./index-DqxisvwK.js";import"./index-BMzDL1Jg.js";import"./moment-C5S46NFB.js";import"./dialog-CXStznBU.js";import"./calendar-DUqfE3Pq.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput-DrHXDUua.js";import"./createLucideIcon-BKWaAi2G.js";import"./x-b8JahagL.js";import"./house-CSq-WFst.js";import"./calendar-D9APQM2e.js";import"./users-D4PhO1-D.js";import"./file-text-YZXa1D2L.js";import"./pill-DIGxtF-3.js";import"./badge-B29933Kg.js";import"./pusher-BaoRBjJ7.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./circle-check-big-BQVCuGNJ.js";import"./index-BNlLVp44.js";import"./autoprefixer-WKKEpd2p.js";import"./unit-CopbpOEH.js";import"./Toaster-Dz-wf0lm.js";import"./toast-yQhvgqa3.js";import"./use-toast-Dm0PN6fH.js";import"./layers-OK8ayVTK.js";import"./chart-column-yMaSKbSU.js";function Qs({user:J}){const{auth:i}=R().props,[p,U]=d.useState(!1),[x,k]=d.useState(!1),[h,L]=d.useState(!1),[u,A]=d.useState("profile"),{data:n,setData:l,post:H,processing:v,errors:a}=P({firstname:i.user?.firstname||"",middlename:i.user?.middlename||"",lastname:i.user?.lastname||"",email:i.user?.email||"",contactno:i.user?.contactno||""}),{data:j,setData:f,post:T,processing:b,errors:r,reset:B}=P({current_password:"",password:"",password_confirmation:""}),I=e=>{e.preventDefault(),H(route("doctor.settings.profile"),{onSuccess:()=>{m.success("Profile updated successfully!"),q.reload({only:["auth"]})},onError:()=>{m.error("Failed to update profile.")}})},M=e=>{e.preventDefault(),T(route("doctor.settings.password"),{onSuccess:()=>{m.success("Password updated successfully!"),B()},onError:()=>{m.error("Failed to update password. Please check your current password.")}})},O=[{id:"profile",label:"Profile",icon:s.jsx(w,{className:"h-4 w-4"})},{id:"security",label:"Security",icon:s.jsx(N,{className:"h-4 w-4"})}];return s.jsxs(z,{header:"Doctor Settings",children:[s.jsx($,{title:"Doctor Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-100",children:s.jsx(G,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]})]}),s.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:O.map(e=>s.jsxs("button",{onClick:()=>A(e.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${u===e.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.icon,e.label]},e.id))}),u==="profile"&&s.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(C,{children:[s.jsx(S,{children:s.jsxs(_,{className:"flex items-center gap-2",children:[s.jsx(w,{className:"h-5 w-5"}),"Profile Settings"]})}),s.jsx(F,{children:s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"firstname",children:"First Name"}),s.jsx(t,{id:"firstname",value:n.firstname,onChange:e=>l("firstname",e.target.value),className:a.firstname?"border-red-500":""}),a.firstname&&s.jsx("p",{className:"text-sm text-red-500",children:a.firstname})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"middlename",children:"Middle Name"}),s.jsx(t,{id:"middlename",value:n.middlename,onChange:e=>l("middlename",e.target.value),className:a.middlename?"border-red-500":""}),a.middlename&&s.jsx("p",{className:"text-sm text-red-500",children:a.middlename})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"lastname",children:"Last Name"}),s.jsx(t,{id:"lastname",value:n.lastname,onChange:e=>l("lastname",e.target.value),className:a.lastname?"border-red-500":""}),a.lastname&&s.jsx("p",{className:"text-sm text-red-500",children:a.lastname})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"email",children:"Email"}),s.jsx(t,{id:"email",type:"email",value:n.email,onChange:e=>l("email",e.target.value),className:a.email?"border-red-500":""}),a.email&&s.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"contactno",children:"Contact Number"}),s.jsx(t,{id:"contactno",value:n.contactno,onChange:e=>l("contactno",e.target.value),className:a.contactno?"border-red-500":""}),a.contactno&&s.jsx("p",{className:"text-sm text-red-500",children:a.contactno})]})]}),s.jsx(E,{}),s.jsx("div",{className:"flex justify-end",children:s.jsx(D,{type:"submit",disabled:v,className:"bg-blue-600 hover:bg-blue-700",children:v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(w,{className:"h-4 w-4 mr-2"}),"Update Profile"]})})})]})})]})}),u==="security"&&s.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(C,{children:[s.jsx(S,{children:s.jsxs(_,{className:"flex items-center gap-2",children:[s.jsx(N,{className:"h-5 w-5"}),"Security Settings"]})}),s.jsx(F,{children:s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"current_password",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(t,{id:"current_password",type:p?"text":"password",value:j.current_password,onChange:e=>f("current_password",e.target.value),className:r.current_password?"border-red-500":""}),s.jsx("button",{type:"button",onClick:()=>U(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:p?s.jsx(y,{className:"h-4 w-4"}):s.jsx(g,{className:"h-4 w-4"})})]}),r.current_password&&s.jsx("p",{className:"text-sm text-red-500",children:r.current_password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(t,{id:"password",type:x?"text":"password",value:j.password,onChange:e=>f("password",e.target.value),className:r.password?"border-red-500":""}),s.jsx("button",{type:"button",onClick:()=>k(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x?s.jsx(y,{className:"h-4 w-4"}):s.jsx(g,{className:"h-4 w-4"})})]}),r.password&&s.jsx("p",{className:"text-sm text-red-500",children:r.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"password_confirmation",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(t,{id:"password_confirmation",type:h?"text":"password",value:j.password_confirmation,onChange:e=>f("password_confirmation",e.target.value),className:r.password_confirmation?"border-red-500":""}),s.jsx("button",{type:"button",onClick:()=>L(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?s.jsx(y,{className:"h-4 w-4"}):s.jsx(g,{className:"h-4 w-4"})})]}),r.password_confirmation&&s.jsx("p",{className:"text-sm text-red-500",children:r.password_confirmation})]})]}),s.jsx(E,{}),s.jsx("div",{className:"flex justify-end",children:s.jsx(D,{type:"submit",disabled:b,className:"bg-blue-600 hover:bg-blue-700",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),"Update Password"]})})})]})})]})})]})]})}export{Qs as default};
