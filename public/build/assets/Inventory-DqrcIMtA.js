import{r as i,j as e,b as ce}from"./app-9IFjvyjq.js";import{A as Me}from"./AdminLayout-B1EVrWwj.js";import _e from"./AddItemForm-DkMUXrPn.js";import Ee from"./AddCategoryForm-B8yDpD_I.js";import{D as ne,a as oe,E as le,b as de,c as l,C as Le}from"./CategoryManagement-jikc49gB.js";import Pe from"./ViewItemModal-W1Rnok9z.js";import Ve from"./EditItemModal-C06bUTa6.js";import Fe from"./SuccessModal-rWWQkUuT.js";import Te from"./DispenseStockModal-6GJbSq_s.js";import Ue from"./BatchDisposalModal-CK-Nfi-t.js";import{C as m,c as h,a as $e,b as qe}from"./card-BZqhk5Ws.js";import{B as o}from"./button-BWLYpXz0.js";import{B as xe}from"./badge-Da4cSqJP.js";import{I as ze}from"./input-fLU5VnAr.js";import{S as F,a as T,b as U,c as $,d as c}from"./select-p8YEwkY-.js";import{m as j}from"./proxy-D62Q3uN7.js";import{c as A}from"./createLucideIcon-DsPw26Nq.js";import{D as Be}from"./download-QcLop-d6.js";import{T as me}from"./tag-BMBBnWNd.js";import{P as He}from"./plus-C1hjROq8.js";import{P as q}from"./package-CHcp06gv.js";import{T as Oe}from"./trending-up-_LM6MF-k.js";import{T as Re}from"./triangle-alert-BkHbl9Bl.js";import{T as Ze}from"./trending-down-Df83Rv-z.js";import{C as Xe}from"./clock-Bzel8gwe.js";import{S as Ge}from"./search-CCpMc_T5.js";import{A as Qe}from"./index-BkKJZgfk.js";import{E as z}from"./eye-B-87yDjC.js";import{S as B}from"./square-pen-Dnx_Ff5r.js";import{T as H}from"./trash-2-vvbptI_1.js";import{A as he,a as pe}from"./archive-CH7PNZ_U.js";import{S as Je,Z as Ke,F as We}from"./zap-B-q5kv0r.js";import{H as Ye}from"./house-3fFlpYPo.js";import{U as es}from"./users-CRZKArp7.js";import{A as ss}from"./activity-Dgiqecz8.js";import{S as ts}from"./shield-vMaeyr4a.js";import{H as as}from"./heart-cgOh20SX.js";import{S as rs}from"./stethoscope-rIlb409y.js";import{S as is}from"./syringe-BUXfkPLU.js";import{P as cs}from"./pill-D1Lo51NR.js";import"./utils-Dqxj4mrw.js";import"./avatar-eTivO2nx.js";import"./index-DMLVHKle.js";import"./separator-Ck3s5O1g.js";import"./index-iJsz53jB.js";import"./moment-C5S46NFB.js";import"./dialog-BlSttdnZ.js";import"./index-ZSsit5F4.js";import"./Combination-BD7y2hDp.js";import"./react-icons.esm-CBUbwQJY.js";import"./label-C2QZitaL.js";import"./index-C6jRhQFj.js";import"./popover-D55FYzXF.js";import"./format-BtYX0kVO.js";import"./isBefore-CNJkrGzj.js";import"./isSameMonth-CLqEvLGB.js";import"./index-D1R9fGnO.js";import"./TextInput-VzTatbZ2.js";import"./x-QWiAXd0n.js";import"./settings-RhmjAov2.js";import"./calendar-DQr9f7aC.js";import"./bell-Oyzr8Ilp.js";import"./autoprefixer-CLq4rudv.js";import"./pusher-Dk5bIoJZ.js";import"./file-text-2oyp6bUV.js";import"./layers-CYkgeNxD.js";import"./chart-column-Bqapy0n2.js";import"./textarea-COBWyWer.js";import"./building-2-Bld5c7bM.js";import"./map-pin-Bdehjgen.js";import"./hash-C86GkOge.js";import"./index-5FqUdhJW.js";import"./index-Bhu2lbiL.js";import"./index-B9uMoLSe.js";import"./circle-check-big-DR9FZaKw.js";import"./circle-x-7HK7tFQ2.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],os=A("Grid3x3",ns);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ds=A("List",ls);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],O=A("ShoppingCart",xs);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],hs=A("Upload",ms);function Ft({categories:S=[],allCategories:ue=[],inventoryItems:I=[]}){const[M,R]=i.useState("grid"),[d,je]=i.useState("name"),[_,ge]=i.useState("asc"),[g,Z]=i.useState(""),[b,X]=i.useState("all"),[y,G]=i.useState("all"),[ye,Q]=i.useState(!1),[fe,J]=i.useState(!1),[Ne,K]=i.useState(!1),[ve,W]=i.useState(!1),[we,Y]=i.useState(!1),[Se,f]=i.useState(!1),[k,C]=i.useState(null),[be,D]=i.useState(""),[ke,ee]=i.useState(!1),[Ce,se]=i.useState(!1),De=s=>{var r;const t=((r=s.stock)==null?void 0:r.stocks)||0,a=s.minimum_stock||10;return t===0?"out_of_stock":t<=a?"low_stock":"in_stock"},x=s=>s?new Date(s)<new Date:!1,p=s=>{if(!s)return!1;const t=new Date(s),r=Math.ceil((t-new Date)/(1e3*60*60*24));return r<=30&&r>0},N=s=>{const t=(s==null?void 0:s.icon)||"Package",a=Ae(t);switch(t){case"Pill":return e.jsx(cs,{className:`h-5 w-5 ${a}`});case"Syringe":return e.jsx(is,{className:`h-5 w-5 ${a}`});case"Stethoscope":return e.jsx(rs,{className:`h-5 w-5 ${a}`});case"FlaskConical":return e.jsx(We,{className:`h-5 w-5 ${a}`});case"Heart":return e.jsx(as,{className:`h-5 w-5 ${a}`});case"Shield":return e.jsx(ts,{className:`h-5 w-5 ${a}`});case"Zap":return e.jsx(Ke,{className:`h-5 w-5 ${a}`});case"Activity":return e.jsx(ss,{className:`h-5 w-5 ${a}`});case"Users":return e.jsx(es,{className:`h-5 w-5 ${a}`});case"Home":return e.jsx(Ye,{className:`h-5 w-5 ${a}`});case"Star":return e.jsx(Je,{className:`h-5 w-5 ${a}`});default:return e.jsx(q,{className:`h-5 w-5 ${a}`})}},Ae=s=>{switch(s){case"Pill":return"text-blue-600";case"Syringe":return"text-green-600";case"Stethoscope":return"text-purple-600";case"FlaskConical":return"text-orange-600";case"Heart":return"text-red-600";case"Shield":return"text-indigo-600";case"Zap":return"text-yellow-600";case"Activity":return"text-cyan-600";case"Users":return"text-pink-600";case"Home":return"text-emerald-600";case"Star":return"text-amber-600";default:return"text-gray-600"}},v=s=>{C(s),W(!0)},E=s=>{C(s),Y(!0)},te=s=>{const t="Item archived successfully!",a="Failed to archive item!";ce.put(route("pharmacist.inventory.item.archive",s.id),{},{onSuccess:()=>{D(t),f(!0),window.location.reload()},onError:()=>{D(a),f(!0)}})},ae=s=>{const t="Item unarchived successfully!",a="Failed to unarchive item!";ce.put(route("pharmacist.inventory.item.unarchive",s.id),{},{onSuccess:()=>{D(t),f(!0),window.location.reload()},onError:()=>{D(a),f(!0)}})},L=s=>{C(s),ee(!0)},P=s=>{C(s),se(!0)},u=I&&I.length>0?I.map(s=>{var t,a;return{id:s.id,name:s.name,category:((t=s.category)==null?void 0:t.name)||"Uncategorized",categoryIcon:N(s.category),categoryId:s.category_id,batchNumber:s.batch_number||"N/A",quantity:((a=s.stock)==null?void 0:a.stocks)||0,unit:s.unit_type||"pieces",expiryDate:s.expiry_date||"N/A",manufacturer:s.manufacturer||"N/A",description:s.description||"",minimumStock:s.minimum_stock||10,maximumStock:s.maximum_stock||100,storageLocation:s.storage_location||"",status:De(s),isArchived:s.status===0,lastUpdated:s.updated_at||"N/A",supplier:s.manufacturer||"N/A"}}):[{id:1,name:"Paracetamol 500mg",category:"Pain Relief",categoryIcon:N({icon:"Pill"}),categoryId:1,batchNumber:"PAR-2024-001",quantity:150,unit:"tablets",expiryDate:"2025-06-15",manufacturer:"MedPharm Corp",description:"Pain relief medication",minimumStock:10,maximumStock:200,storageLocation:"A-1-01",status:"in_stock",lastUpdated:"2024-01-15",supplier:"MedPharm Corp"},{id:2,name:"Amoxicillin 250mg",category:"Antibiotics",categoryIcon:N({icon:"Syringe"}),categoryId:2,batchNumber:"AMX-2024-002",quantity:5,unit:"capsules",expiryDate:"2024-12-20",manufacturer:"Antibio Ltd",description:"Antibiotic medication",minimumStock:5,maximumStock:100,storageLocation:"B-2-03",status:"low_stock",lastUpdated:"2024-01-14",supplier:"Antibio Ltd"},{id:3,name:"Ibuprofen 400mg",category:"Pain Relief",categoryIcon:N({icon:"Pill"}),categoryId:1,batchNumber:"IBU-2024-003",quantity:0,unit:"tablets",expiryDate:"2025-03-10",manufacturer:"PainFree Inc",description:"Anti-inflammatory medication",minimumStock:10,maximumStock:150,storageLocation:"A-1-02",status:"out_of_stock",lastUpdated:"2024-01-13",supplier:"PainFree Inc"},{id:4,name:"Vitamin C 1000mg",category:"Vitamins",categoryIcon:N({icon:"Heart"}),categoryId:3,batchNumber:"VIT-2024-004",quantity:200,unit:"tablets",expiryDate:"2024-08-30",manufacturer:"VitaCorp",description:"Vitamin supplement",minimumStock:20,maximumStock:300,storageLocation:"C-3-01",status:"expiring_soon",lastUpdated:"2024-01-12",supplier:"VitaCorp"},{id:5,name:"Metformin 500mg",category:"Chronic Care",categoryId:4,batchNumber:"MET-2024-005",quantity:80,unit:"tablets",expiryDate:"2025-09-15",manufacturer:"DiabCare",description:"Diabetes medication",minimumStock:15,maximumStock:200,storageLocation:"D-4-02",status:"in_stock",lastUpdated:"2024-01-11",supplier:"DiabCare"}],[V,Ie]=i.useState(u);i.useEffect(()=>{let s=u.filter(t=>{const a=t.name.toLowerCase().includes(g.toLowerCase())||t.batchNumber.toLowerCase().includes(g.toLowerCase())||t.category.toLowerCase().includes(g.toLowerCase()),r=b==="all"||t.category===b;let n=!1;return y==="all"?n=!0:y==="archived"?n=t.isArchived:n=t.status===y&&!t.isArchived,a&&r&&n});s.sort((t,a)=>{let r=t[d],n=a[d];return d==="name"||d==="category"?(r=r.toLowerCase(),n=n.toLowerCase()):d==="quantity"?(r=parseInt(r)||0,n=parseInt(n)||0):d==="expiryDate"?(r=new Date(r==="N/A"?"2099-12-31":r),n=new Date(n==="N/A"?"2099-12-31":n)):d==="isArchived"&&(r=r?1:0,n=n?1:0),_==="asc"?r>n?1:-1:r<n?1:-1}),Ie(s)},[g,b,y,d,_]);const re=(s,t=!1)=>{if(t)return"bg-gray-100 text-gray-600 border-gray-300";switch(s){case"in_stock":return"bg-green-100 text-green-800 border-green-200";case"low_stock":return"bg-amber-100 text-amber-800 border-amber-200";case"out_of_stock":return"bg-red-100 text-red-800 border-red-200";case"expiring_soon":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ie=(s,t=!1)=>{if(t)return"Archived";switch(s){case"in_stock":return"In Stock";case"low_stock":return"Low Stock";case"out_of_stock":return"Out of Stock";case"expiring_soon":return"Expiring Soon";default:return"Unknown"}},w={total:u.filter(s=>!s.isArchived).length,inStock:u.filter(s=>s.status==="in_stock"&&!s.isArchived).length,lowStock:u.filter(s=>s.status==="low_stock"&&!s.isArchived).length,outOfStock:u.filter(s=>s.status==="out_of_stock"&&!s.isArchived).length,expiringSoon:u.filter(s=>s.status==="expiring_soon"&&!s.isArchived).length};return e.jsx(Me,{header:"Inventory Management",children:e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your pharmacy inventory efficiently"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-4 w-4"}),"Import"]}),e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Export"]}),e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",onClick:()=>J(!0),children:[e.jsx(me,{className:"h-4 w-4"}),"Add Category"]}),e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",onClick:()=>K(!0),children:[e.jsx(me,{className:"h-4 w-4"}),"Manage Categories"]}),e.jsxs(o,{className:"flex items-center gap-2",style:{backgroundColor:"#2C3E50"},onClick:()=>Q(!0),children:[e.jsx(He,{className:"h-4 w-4"}),"Add Item"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(m,{className:"hover:shadow-md transition-all duration-300",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total})]}),e.jsx(q,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(m,{className:"hover:shadow-md transition-all duration-300",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"In Stock"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.inStock})]}),e.jsx(Oe,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(m,{className:"hover:shadow-md transition-all duration-300",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:w.lowStock})]}),e.jsx(Re,{className:"h-8 w-8 text-amber-600"})]})})}),e.jsx(m,{className:"hover:shadow-md transition-all duration-300",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.outOfStock})]}),e.jsx(Ze,{className:"h-8 w-8 text-red-600"})]})})}),e.jsx(m,{className:"hover:shadow-md transition-all duration-300",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w.expiringSoon})]}),e.jsx(Xe,{className:"h-8 w-8 text-orange-600"})]})})})]}),e.jsx(m,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ze,{placeholder:"Search items, batch numbers, or categories...",value:g,onChange:s=>Z(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(F,{value:b,onValueChange:X,children:[e.jsx(T,{className:"w-40",children:e.jsx(U,{placeholder:"Category"})}),e.jsxs($,{children:[e.jsx(c,{value:"all",children:"All Categories"}),S&&S.map(s=>e.jsx(c,{value:s.name,children:s.name},s.id))]})]}),e.jsxs(F,{value:y,onValueChange:G,children:[e.jsx(T,{className:"w-40",children:e.jsx(U,{placeholder:"Status"})}),e.jsxs($,{children:[e.jsx(c,{value:"all",children:"All Status"}),e.jsx(c,{value:"in_stock",children:"In Stock"}),e.jsx(c,{value:"low_stock",children:"Low Stock"}),e.jsx(c,{value:"out_of_stock",children:"Out of Stock"}),e.jsx(c,{value:"expiring_soon",children:"Expiring Soon"}),e.jsx(c,{value:"archived",children:"Archived"})]})]}),e.jsxs(F,{value:`${d}-${_}`,onValueChange:s=>{const[t,a]=s.split("-");je(t),ge(a)},children:[e.jsx(T,{className:"w-40",children:e.jsx(U,{placeholder:"Sort by"})}),e.jsxs($,{children:[e.jsx(c,{value:"name-asc",children:"Name (A-Z)"}),e.jsx(c,{value:"name-desc",children:"Name (Z-A)"}),e.jsx(c,{value:"category-asc",children:"Category (A-Z)"}),e.jsx(c,{value:"category-desc",children:"Category (Z-A)"}),e.jsx(c,{value:"quantity-asc",children:"Quantity (Low-High)"}),e.jsx(c,{value:"quantity-desc",children:"Quantity (High-Low)"}),e.jsx(c,{value:"expiryDate-asc",children:"Expiry (Soon-Later)"}),e.jsx(c,{value:"expiryDate-desc",children:"Expiry (Later-Soon)"}),e.jsx(c,{value:"isArchived-asc",children:"Status (Active-Archived)"}),e.jsx(c,{value:"isArchived-desc",children:"Status (Archived-Active)"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 border rounded-lg",children:[e.jsx(o,{variant:M==="grid"?"default":"ghost",size:"sm",onClick:()=>R("grid"),children:e.jsx(os,{className:"h-4 w-4"})}),e.jsx(o,{variant:M==="list"?"default":"ghost",size:"sm",onClick:()=>R("list"),children:e.jsx(ds,{className:"h-4 w-4"})})]})]})]})})}),e.jsx(Qe,{mode:"wait",children:M==="grid"?e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:V.map((s,t)=>e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},children:e.jsxs(m,{className:"hover:shadow-lg transition-all duration-300 group",children:[e.jsx($e,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl cursor-pointer hover:scale-110 transition-transform",onClick:()=>v(s),title:"View Details",children:s.categoryIcon}),e.jsxs("div",{className:"flex-1",children:[e.jsx(qe,{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.category})]})]}),e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"sm",children:e.jsx(le,{className:"h-4 w-4"})})}),e.jsxs(de,{align:"end",children:[e.jsxs(l,{onClick:()=>v(s),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(l,{onClick:()=>E(s),children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Edit Item"]}),e.jsxs(l,{onClick:()=>L(s),children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Dispense Stock"]}),(x(s.expiryDate)||p(s.expiryDate))&&e.jsxs(l,{onClick:()=>P(s),children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Dispose Batch"]}),s.isArchived?e.jsxs(l,{className:"text-green-600",onClick:()=>ae(s),children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Unarchive"]}):e.jsxs(l,{className:"text-orange-600",onClick:()=>te(s),children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Quantity"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[s.quantity," ",s.unit]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Batch"}),e.jsx("span",{className:"font-mono text-sm text-gray-700",children:s.batchNumber})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Expiry"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${x(s.expiryDate)?"text-red-600 font-semibold":p(s.expiryDate)?"text-amber-600 font-semibold":"text-gray-700"}`,children:new Date(s.expiryDate).toLocaleDateString()}),x(s.expiryDate)&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"EXPIRED"}),p(s.expiryDate)&&!x(s.expiryDate)&&e.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"EXPIRING SOON"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Manufacturer"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.manufacturer})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(xe,{className:re(s.status,s.isArchived),children:ie(s.status,s.isArchived)})})})]})]})},s.id))},"grid"):e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(m,{children:e.jsx(h,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Item Details"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Quantity"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Batch Number"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Expiry Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{children:V.map((s,t)=>e.jsxs(j.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:t*.05},className:"border-b hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-xl cursor-pointer hover:scale-110 transition-transform",onClick:()=>v(s),title:"View Details",children:s.categoryIcon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.manufacturer," â€¢ ",s.unit]})]})]})}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:s.category}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("span",{className:"font-medium text-gray-900",children:s.quantity}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:s.unit})]}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"font-mono text-sm text-gray-700",children:s.batchNumber})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${x(s.expiryDate)?"text-red-600 font-semibold":p(s.expiryDate)?"text-amber-600 font-semibold":"text-gray-600"}`,children:new Date(s.expiryDate).toLocaleDateString()}),x(s.expiryDate)&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"EXPIRED"}),p(s.expiryDate)&&!x(s.expiryDate)&&e.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"EXPIRING SOON"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(xe,{className:re(s.status,s.isArchived),children:ie(s.status,s.isArchived)})})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>v(s),title:"View Details",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>E(s),title:"Edit Item",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>L(s),title:"Dispense Stock",className:"text-green-600 hover:text-green-700 border-green-200 hover:border-green-300",children:e.jsx(O,{className:"h-4 w-4"})}),(x(s.expiryDate)||p(s.expiryDate))&&e.jsx(o,{variant:"outline",size:"sm",onClick:()=>P(s),title:"Dispose Batch",className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:e.jsx(H,{className:"h-4 w-4"})}),e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"sm",children:e.jsx(le,{className:"h-4 w-4"})})}),e.jsxs(de,{align:"end",children:[e.jsxs(l,{onClick:()=>v(s),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(l,{onClick:()=>E(s),children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Edit Item"]}),e.jsxs(l,{onClick:()=>L(s),children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Dispense Stock"]}),(x(s.expiryDate)||p(s.expiryDate))&&e.jsxs(l,{onClick:()=>P(s),children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Dispose Batch"]}),s.isArchived?e.jsxs(l,{className:"text-green-600",onClick:()=>ae(s),children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Unarchive"]}):e.jsxs(l,{className:"text-orange-600",onClick:()=>te(s),children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})]})})]},s.id))})]})})})})},"list")}),V.length===0&&e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(q,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filter criteria"}),e.jsx(o,{onClick:()=>{Z(""),X("all"),G("all")},children:"Clear Filters"})]}),e.jsx(_e,{open:ye,onClose:()=>Q(!1),categories:S||[]}),e.jsx(Ee,{open:fe,onClose:()=>J(!1)}),e.jsx(Le,{open:Ne,onClose:()=>K(!1),categories:ue}),e.jsx(Pe,{open:ve,onClose:()=>W(!1),item:k}),e.jsx(Ve,{open:we,onClose:()=>Y(!1),item:k,categories:S||[]}),e.jsx(Fe,{open:Se,onClose:()=>f(!1),message:be}),e.jsx(Te,{open:ke,onClose:()=>ee(!1),item:k}),e.jsx(Ue,{open:Ce,onClose:()=>se(!1),item:k})]})})}export{Ft as default};
