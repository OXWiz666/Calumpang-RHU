import{P as w,j as e}from"./app-CeIgF_ON.js";import{D as S,a as F,b as D,c as q,d as I}from"./dialog-DHsZe8a4.js";import{B as x}from"./button-Fpuf3gK7.js";import{I as r}from"./input-BCfEL07B.js";import{L as l}from"./label-BoiibVKM.js";import{T as B}from"./textarea-CHqauKob.js";import{S as u,a as h,b as p,c as g,d as j}from"./select-BiMDzzj4.js";import{P as A}from"./plus-CywIG7c5.js";import{B as E}from"./building-2-uxriD-D8.js";import{M as P}from"./map-pin-C2PYcTlD.js";import{H as L}from"./hash-BWixfd-h.js";import{C as M}from"./calendar-CGzNZGPc.js";import"./Combination-DCT0cEvm.js";import"./index-BWgxzSOQ.js";import"./utils-CtOKCYCe.js";import"./index-B37RckyO.js";import"./index-BWv6GYHR.js";import"./index-C4H9pt8C.js";import"./index-C7P0hZ2t.js";import"./index-Djoo3jz_.js";import"./createLucideIcon-YALEnXJP.js";const ie=({open:N,onClose:c,categories:f=[]})=>{const{data:s,setData:n,post:y,processing:o,errors:a}=w({itemname:"",categoryid:"",manufacturer:"",description:"",quantity:0,unit_type:"",minimum_stock:0,maximum_stock:0,storage_location:"",batch_number:"",expiry_date:""}),i=t=>{const{name:m,value:_,type:k,checked:C}=t.target;n(m,k==="checkbox"?C:_)},d=(t,m)=>{n(t,m)},b=t=>{t.preventDefault(),s.itemname.trim()&&s.categoryid&&s.unit_type&&(s.quantity<=0||s.batch_number.trim()&&s.expiry_date&&(new Date(s.expiry_date)<=new Date||s.minimum_stock<0||s.maximum_stock<0||s.minimum_stock>s.maximum_stock||y(route("pharmacist.inventory.item.add"),{onSuccess:()=>{c()},onError:m=>{console.error("Validation errors:",m)}})))},v=[{value:"pieces",label:"Pieces"},{value:"boxes",label:"Boxes"},{value:"bottles",label:"Bottles"},{value:"tubes",label:"Tubes"},{value:"strips",label:"Strips"},{value:"vials",label:"Vials"},{value:"capsules",label:"Capsules"},{value:"tablets",label:"Tablets"}];return e.jsx(S,{open:N,onOpenChange:c,children:e.jsxs(F,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[e.jsx(D,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(A,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xl font-semibold",children:"Add New Inventory Item"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter the details for the new inventory item. All required fields must be completed."})]})]})}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"itemname",className:"text-sm font-medium",children:"Item Name *"}),e.jsx(r,{id:"itemname",name:"itemname",value:s.itemname,onChange:i,placeholder:"e.g., Amoxicillin 500mg",className:"w-full",required:!0}),a.itemname&&e.jsx("p",{className:"text-sm text-red-600",children:a.itemname})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"categoryid",className:"text-sm font-medium",children:"Category *"}),e.jsxs(u,{value:s.categoryid,onValueChange:t=>d("categoryid",t),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select category"})}),e.jsx(g,{children:f.map(t=>e.jsx(j,{value:t.id.toString(),children:t.name},t.id))})]}),a.categoryid&&e.jsx("p",{className:"text-sm text-red-600",children:a.categoryid})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"manufacturer",className:"text-sm font-medium",children:"Manufacturer"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(r,{id:"manufacturer",name:"manufacturer",value:s.manufacturer,onChange:i,placeholder:"e.g., PharmaCorp",className:"w-full pl-10"})]}),a.manufacturer&&e.jsx("p",{className:"text-sm text-red-600",children:a.manufacturer})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(B,{id:"description",name:"description",value:s.description,onChange:i,placeholder:"Enter item description, usage instructions, or notes",className:"w-full min-h-[80px] resize-none"}),a.description&&e.jsx("p",{className:"text-sm text-red-600",children:a.description})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Stock Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"quantity",className:"text-sm font-medium",children:"Current Quantity *"}),e.jsx(r,{id:"quantity",name:"quantity",type:"number",value:s.quantity,onChange:i,placeholder:"0",className:"w-full",required:!0}),a.quantity&&e.jsx("p",{className:"text-sm text-red-600",children:a.quantity})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"unit_type",className:"text-sm font-medium",children:"Unit of Measure *"}),e.jsxs(u,{value:s.unit_type,onValueChange:t=>d("unit_type",t),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select unit"})}),e.jsx(g,{children:v.map(t=>e.jsx(j,{value:t.value,children:t.label},t.value))})]}),a.unit_type&&e.jsx("p",{className:"text-sm text-red-600",children:a.unit_type})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"storage_location",className:"text-sm font-medium",children:"Storage Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(r,{id:"storage_location",name:"storage_location",value:s.storage_location,onChange:i,placeholder:"e.g., A-1-01",className:"w-full pl-10"})]}),a.storage_location&&e.jsx("p",{className:"text-sm text-red-600",children:a.storage_location})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"minimum_stock",className:"text-sm font-medium",children:"Minimum Stock Level"}),e.jsx(r,{id:"minimum_stock",name:"minimum_stock",type:"number",value:s.minimum_stock,onChange:i,placeholder:"0",className:"w-full"}),a.minimum_stock&&e.jsx("p",{className:"text-sm text-red-600",children:a.minimum_stock})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"maximum_stock",className:"text-sm font-medium",children:"Maximum Stock Level"}),e.jsx(r,{id:"maximum_stock",name:"maximum_stock",type:"number",value:s.maximum_stock,onChange:i,placeholder:"0",className:"w-full"}),a.maximum_stock&&e.jsx("p",{className:"text-sm text-red-600",children:a.maximum_stock})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Batch & Expiry Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"batch_number",className:"text-sm font-medium",children:"Batch/Lot Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(r,{id:"batch_number",name:"batch_number",value:s.batch_number,onChange:i,placeholder:"e.g., RX12001121",className:"w-full pl-10"})]}),a.batch_number&&e.jsx("p",{className:"text-sm text-red-600",children:a.batch_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"expiry_date",className:"text-sm font-medium",children:"Expiry Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(r,{id:"expiry_date",name:"expiry_date",type:"date",value:s.expiry_date,onChange:i,className:"w-full pl-10"})]}),a.expiry_date&&e.jsx("p",{className:"text-sm text-red-600",children:a.expiry_date})]})]})]}),e.jsxs(I,{className:"flex gap-3 pt-6",children:[e.jsx(x,{type:"button",variant:"outline",onClick:c,className:"flex-1",children:"Cancel"}),e.jsx(x,{type:"submit",disabled:o,className:"flex-1",style:{backgroundColor:"#2C3E50"},children:o?"Adding...":"Add Item"})]})]})]})})};export{ie as default};
