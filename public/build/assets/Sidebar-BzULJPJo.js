import{a as h,j as r,r as c}from"./app-CGmst3US.js";import{r as n}from"./vendor-DkBadjUr.js";import{B as p}from"./button-DtZ_znIb.js";import"./input-BuECbsc9.js";import"./label-0pL2i4V4.js";import"./select-ejg9VjWT.js";import"./moment-C5S46NFB.js";import{C as f,a as x,c as y}from"./card-y4JzwOh9.js";import"./alert-DQz7Z1nF.js";import"./dialog-Co4q8fL2.js";import"./index-WHihrx3k.js";import"./separator-CwgBH5e6.js";import"./toast-q4SBjA8F.js";import"./avatar-By14zrPs.js";import{F as b}from"./file-text-YZXa1D2L.js";import{C as N}from"./clipboard-CoF5eMxq.js";import{H as j}from"./hash-AgYeaIxt.js";import"./pusher-DVtoYAOu.js";import"./index-B_PSVOSg.js";import"./react-icons.esm-BcXWgb92.js";import"./index-LtWw14r9.js";import"./index-BKpF1J_r.js";import"./index-Cjp041Hy.js";import"./tslib.es6-M_FJ09fS.js";import"./index-CpVr_lH3.js";import"./index-D9Xmp41c.js";import"./index-DqxisvwK.js";import"./index-BjixZ4b8.js";import"./index-2wpBnRWd.js";import"./createLucideIcon-BKWaAi2G.js";function _({activeTab:i}){const{user:o}=h().props.auth,[l,e]=n.useState(""),[d,a]=n.useState(!1);n.useEffect(()=>{o&&i==="History"?((async()=>{try{const t=await(await fetch("/patient/get-latest-appointment")).json();t&&t.priorityNumber?e(t.priorityNumber):e("1")}catch(s){console.error("Error fetching priority number:",s),e("1")}})(),a(!0)):a(!1)},[o,i]);const u=()=>{a(!0),o&&(async()=>{try{const t=await(await fetch("/patient/get-latest-appointment")).json();t&&t.priorityNumber?e(t.priorityNumber):e("1")}catch(s){console.error("Error fetching priority number:",s),e("1")}})()};return r.jsx(r.Fragment,{children:r.jsx("div",{className:"w-full md:w-1/4",children:r.jsxs(f,{className:"bg-white sticky top-4",children:[r.jsx(x,{className:"pb-4"}),r.jsx(y,{children:r.jsxs("div",{className:"",children:[r.jsxs(p,{variant:i==="appointment"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:m=>c.visit("/appointments"),children:[r.jsx(b,{className:"mr-2 h-5 w-5"}),"Schedule Appointment"]}),o&&r.jsxs(r.Fragment,{children:[r.jsxs(p,{variant:i==="History"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:m=>{u(),c.visit("/patient/appointments/history")},children:[r.jsx(N,{className:"mr-2 h-5 w-5"}),"My Appointments"]}),d&&r.jsx("div",{className:"mt-4 mx-2",children:r.jsxs("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 rounded-lg overflow-hidden shadow-lg border border-blue-400",children:[r.jsx("div",{className:"px-4 py-3 bg-blue-900/30 backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(j,{className:"h-4 w-4 text-white mr-2"}),r.jsx("h3",{className:"text-sm font-medium text-white tracking-wide uppercase",children:"Priority Number"})]})}),r.jsx("div",{className:"px-4 py-5 flex flex-col items-center justify-center bg-blue-800/10 backdrop-blur-sm",children:r.jsx("div",{className:"text-3xl font-bold text-white text-center tracking-wider",children:l})})]})})]})]})})]})})})}export{_ as default};
