import{j as e,q as v,W as k,b as D,r as m,R as oe}from"./app-9IFjvyjq.js";import{c as g}from"./utils-Dqxj4mrw.js";import{B as P}from"./button-BWLYpXz0.js";import"./card-BZqhk5Ws.js";import{A as Ae,a as Re,b as Ee}from"./avatar-eTivO2nx.js";import"./separator-Ck3s5O1g.js";import{P as M}from"./index-DMLVHKle.js";import{P as V}from"./index-iJsz53jB.js";import{e as _e}from"./select-p8YEwkY-.js";import{h as Te}from"./moment-C5S46NFB.js";import"./dialog-BlSttdnZ.js";import"./input-fLU5VnAr.js";import"./label-C2QZitaL.js";import"./popover-D55FYzXF.js";import"./TextInput-VzTatbZ2.js";import{c as X}from"./createLucideIcon-DsPw26Nq.js";import{X as q}from"./x-QWiAXd0n.js";import{S as Z,L as G}from"./settings-RhmjAov2.js";import{H as J}from"./house-3fFlpYPo.js";import{C as de}from"./calendar-DQr9f7aC.js";import{U as me}from"./users-CRZKArp7.js";import{B as Le}from"./badge-Da4cSqJP.js";import{B as ne}from"./bell-Oyzr8Ilp.js";import{A as ke}from"./index-BkKJZgfk.js";import{m as De}from"./proxy-D62Q3uN7.js";import"./autoprefixer-CLq4rudv.js";import{M as ue,P as Me}from"./pusher-Dk5bIoJZ.js";import{T as Ie}from"./trending-up-_LM6MF-k.js";import{F as ze}from"./file-text-2oyp6bUV.js";import{L as He}from"./layers-CYkgeNxD.js";import{C as Oe}from"./chart-column-Bqapy0n2.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Ue=X("Boxes",We);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],Ve=X("HeartPulse",Be);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],K=X("Menu",Xe);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],$e=X("UsersRound",Ye),Fe=({activePage:t,userRole:s="Admin"})=>{const{sidebarstate:r,setSidebarstate:a}=se(),i=[{title:"Dashboard",icon:e.jsx(J,{className:"h-5 w-5"}),route:"admin",path:"/admin",id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Patient Records",icon:e.jsx(me,{className:"h-5 w-5"}),route:"patients.*",path:"/auth/patients",id:"patients",roles:["Admin","Doctor"]},{title:"Staff",icon:e.jsx($e,{className:"h-5 w-5"}),route:"admin.staff.*",request:"/admin/staff/",path:route("admin.staff.overview"),id:"patients",roles:["Admin","Doctor"]},{title:"Appointments",icon:e.jsx(de,{className:"h-5 w-5"}),route:"admin.appointments",path:"/auth/appointments",id:"appointments",roles:["Admin","Doctor"]},{title:"Services",icon:e.jsx(He,{className:"h-5 w-5"}),route:"admin.services*",path:route("admin.services.overview"),id:"appointments",roles:["Admin","Doctor"]},{title:"Health Programs",icon:e.jsx(Ve,{className:"h-5 w-5"}),route:"admin.programs",path:"/admin/programs",id:"programs",roles:["Admin","Doctor"]},{title:"Reports",icon:e.jsx(Oe,{className:"h-5 w-5"}),route:"admin.reports",path:"/admin/reports",id:"reports",roles:["Admin"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),route:"admin.settings*",path:route("admin.settings.index"),id:"settings",roles:["Admin"]}].filter(n=>n.roles.includes(s)),c=[{title:"Messages",icon:e.jsx(ue,{className:"h-5 w-5"}),route:"admin.landing.messages",path:route("admin.landing.messages"),id:"messages"}],l=v().props.auth.user,d=v().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(K,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),i.map(n=>e.jsx("li",{children:e.jsxs(k,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id)),e.jsx("div",{children:e.jsx("b",{children:"Landing Page"})}),c.map(n=>e.jsx("li",{children:e.jsxs(k,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:s[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[l.firstname," ",l.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>D.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})};function qe(t,s=[]){let r=[];function a(i,c){const l=m.createContext(c),d=r.length;r=[...r,c];const n=u=>{var y;const{scope:f,children:p,...x}=u,S=((y=f==null?void 0:f[t])==null?void 0:y[d])||l,T=m.useMemo(()=>x,Object.values(x));return e.jsx(S.Provider,{value:T,children:p})};n.displayName=i+"Provider";function h(u,f){var S;const p=((S=f==null?void 0:f[t])==null?void 0:S[d])||l,x=m.useContext(p);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[n,h]}const o=()=>{const i=r.map(c=>m.createContext(c));return function(l){const d=(l==null?void 0:l[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return o.scopeName=t,[a,Ze(o,...s)]}function Ze(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const c=a.reduce((l,{useScope:d,scopeName:n})=>{const u=d(i)[`__scope${n}`];return{...l,...u}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return r.scopeName=s.scopeName,r}function ae(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Ge(...t){return s=>{let r=!1;const a=t.map(o=>{const i=ae(o,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<a.length;o++){const i=a[o];typeof i=="function"?i():ae(t[o],null)}}}}function _(...t){return m.useCallback(Ge(...t),t)}function C(t){const s=m.useRef(t);return m.useEffect(()=>{s.current=t}),m.useMemo(()=>(...r)=>{var a;return(a=s.current)==null?void 0:a.call(s,...r)},[])}var Je=m.createContext(void 0);function Ke(t){const s=m.useContext(Je);return t||s||"ltr"}var Qe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function A(t,s,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t==null||t(o),r===!1||!o.defaultPrevented)return s==null?void 0:s(o)}}function et(t,s){return m.useReducer((r,a)=>s[r][a]??r,t)}var Q="ScrollArea",[he,Qt]=qe(Q),[tt,w]=he(Q),fe=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:a="hover",dir:o,scrollHideDelay:i=600,...c}=t,[l,d]=m.useState(null),[n,h]=m.useState(null),[u,f]=m.useState(null),[p,x]=m.useState(null),[S,T]=m.useState(null),[y,I]=m.useState(0),[F,z]=m.useState(0),[H,L]=m.useState(!1),[O,W]=m.useState(!1),b=_(s,R=>d(R)),j=Ke(o);return e.jsx(tt,{scope:r,type:a,dir:j,scrollHideDelay:i,scrollArea:l,viewport:n,onViewportChange:h,content:u,onContentChange:f,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:H,onScrollbarXEnabledChange:L,scrollbarY:S,onScrollbarYChange:T,scrollbarYEnabled:O,onScrollbarYEnabledChange:W,onCornerWidthChange:I,onCornerHeightChange:z,children:e.jsx(M.div,{dir:j,...c,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":F+"px",...t.style}})})});fe.displayName=Q;var pe="ScrollAreaViewport",xe=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:a,nonce:o,...i}=t,c=w(pe,r),l=m.useRef(null),d=_(s,l,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(M.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});xe.displayName=pe;var N="ScrollAreaScrollbar",ee=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=w(N,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=o,l=t.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):c(!0),()=>{l?i(!1):c(!1)}),[l,i,c]),o.type==="hover"?e.jsx(rt,{...a,ref:s,forceMount:r}):o.type==="scroll"?e.jsx(st,{...a,ref:s,forceMount:r}):o.type==="auto"?e.jsx(be,{...a,ref:s,forceMount:r}):o.type==="always"?e.jsx(te,{...a,ref:s}):null});ee.displayName=N;var rt=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=w(N,t.__scopeScrollArea),[i,c]=m.useState(!1);return m.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const n=()=>{window.clearTimeout(d),c(!0)},h=()=>{d=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",n),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",n),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),e.jsx(V,{present:r||i,children:e.jsx(be,{"data-state":i?"visible":"hidden",...a,ref:s})})}),st=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=w(N,t.__scopeScrollArea),i=t.orientation==="horizontal",c=$(()=>d("SCROLL_END"),100),[l,d]=et("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const n=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(n)}},[l,o.scrollHideDelay,d]),m.useEffect(()=>{const n=o.viewport,h=i?"scrollLeft":"scrollTop";if(n){let u=n[h];const f=()=>{const p=n[h];u!==p&&(d("SCROLL"),c()),u=p};return n.addEventListener("scroll",f),()=>n.removeEventListener("scroll",f)}},[o.viewport,i,d,c]),e.jsx(V,{present:r||l!=="hidden",children:e.jsx(te,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:s,onPointerEnter:A(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:A(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),be=m.forwardRef((t,s)=>{const r=w(N,t.__scopeScrollArea),{forceMount:a,...o}=t,[i,c]=m.useState(!1),l=t.orientation==="horizontal",d=$(()=>{if(r.viewport){const n=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?n:h)}},10);return E(r.viewport,d),E(r.content,d),e.jsx(V,{present:a||i,children:e.jsx(te,{"data-state":i?"visible":"hidden",...o,ref:s})})}),te=m.forwardRef((t,s)=>{const{orientation:r="vertical",...a}=t,o=w(N,t.__scopeScrollArea),i=m.useRef(null),c=m.useRef(0),[l,d]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),n=Se(l.viewport,l.content),h={...a,sizes:l,onSizesChange:d,hasThumb:n>0&&n<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:f=>c.current=f};function u(f,p){return ct(f,c.current,l,p)}return r==="horizontal"?e.jsx(ot,{...h,ref:s,onThumbPositionChange:()=>{if(o.viewport&&i.current){const f=o.viewport.scrollLeft,p=le(f,l,o.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollLeft=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollLeft=u(f,o.dir))}}):r==="vertical"?e.jsx(nt,{...h,ref:s,onThumbPositionChange:()=>{if(o.viewport&&i.current){const f=o.viewport.scrollTop,p=le(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollTop=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollTop=u(f))}}):null}),ot=m.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...o}=t,i=w(N,t.__scopeScrollArea),[c,l]=m.useState(),d=m.useRef(null),n=_(s,d,i.onScrollbarXChange);return m.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(ve,{"data-orientation":"horizontal",...o,ref:n,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(i.viewport){const f=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),Ne(f,u)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&c&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:B(c.paddingLeft),paddingEnd:B(c.paddingRight)}})}})}),nt=m.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...o}=t,i=w(N,t.__scopeScrollArea),[c,l]=m.useState(),d=m.useRef(null),n=_(s,d,i.onScrollbarYChange);return m.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(ve,{"data-orientation":"vertical",...o,ref:n,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(i.viewport){const f=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),Ne(f,u)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&c&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:B(c.paddingTop),paddingEnd:B(c.paddingBottom)}})}})}),[at,ge]=he(N),ve=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:o,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:n,onWheelScroll:h,onResize:u,...f}=t,p=w(N,r),[x,S]=m.useState(null),T=_(s,b=>S(b)),y=m.useRef(null),I=m.useRef(""),F=p.viewport,z=a.content-a.viewport,H=C(h),L=C(d),O=$(u,10);function W(b){if(y.current){const j=b.clientX-y.current.left,R=b.clientY-y.current.top;n({x:j,y:R})}}return m.useEffect(()=>{const b=j=>{const R=j.target;(x==null?void 0:x.contains(R))&&H(j,z)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[F,x,z,H]),m.useEffect(L,[a,L]),E(x,O),E(p.content,O),e.jsx(at,{scope:r,scrollbar:x,hasThumb:o,onThumbChange:C(i),onThumbPointerUp:C(c),onThumbPositionChange:L,onThumbPointerDown:C(l),children:e.jsx(M.div,{...f,ref:T,style:{position:"absolute",...f.style},onPointerDown:A(t.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),y.current=x.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),W(b))}),onPointerMove:A(t.onPointerMove,W),onPointerUp:A(t.onPointerUp,b=>{const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=I.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),U="ScrollAreaThumb",we=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=ge(U,t.__scopeScrollArea);return e.jsx(V,{present:r||o.hasThumb,children:e.jsx(lt,{ref:s,...a})})}),lt=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:a,...o}=t,i=w(U,r),c=ge(U,r),{onThumbPositionChange:l}=c,d=_(s,u=>c.onThumbChange(u)),n=m.useRef(void 0),h=$(()=>{n.current&&(n.current(),n.current=void 0)},100);return m.useEffect(()=>{const u=i.viewport;if(u){const f=()=>{if(h(),!n.current){const p=dt(u,l);n.current=p,l()}};return l(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,h,l]),e.jsx(M.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:A(t.onPointerDownCapture,u=>{const p=u.target.getBoundingClientRect(),x=u.clientX-p.left,S=u.clientY-p.top;c.onThumbPointerDown({x,y:S})}),onPointerUp:A(t.onPointerUp,c.onThumbPointerUp)})});we.displayName=U;var re="ScrollAreaCorner",je=m.forwardRef((t,s)=>{const r=w(re,t.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?e.jsx(it,{...t,ref:s}):null});je.displayName=re;var it=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,...a}=t,o=w(re,r),[i,c]=m.useState(0),[l,d]=m.useState(0),n=!!(i&&l);return E(o.scrollbarX,()=>{var u;const h=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(h),d(h)}),E(o.scrollbarY,()=>{var u;const h=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(h),c(h)}),n?e.jsx(M.div,{...a,ref:s,style:{width:i,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function B(t){return t?parseInt(t,10):0}function Se(t,s){const r=t/s;return isNaN(r)?0:r}function Y(t){const s=Se(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-r)*s;return Math.max(a,18)}function ct(t,s,r,a="ltr"){const o=Y(r),i=o/2,c=s||i,l=o-c,d=r.scrollbar.paddingStart+c,n=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,u=a==="ltr"?[0,h]:[h*-1,0];return ye([d,n],u)(t)}function le(t,s,r="ltr"){const a=Y(s),o=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-o,c=s.content-s.viewport,l=i-a,d=r==="ltr"?[0,c]:[c*-1,0],n=_e(t,d);return ye([0,c],[0,l])(n)}function ye(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(r-t[0])}}function Ne(t,s){return t>0&&t<s}var dt=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},a=0;return function o(){const i={left:t.scrollLeft,top:t.scrollTop},c=r.left!==i.left,l=r.top!==i.top;(c||l)&&s(),r=i,a=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(a)};function $(t,s){const r=C(t),a=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),m.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,s)},[r,s])}function E(t,s){const r=C(s);Qe(()=>{let a=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(a),o.unobserve(t)}}},[t,r])}var Pe=fe,mt=xe,ut=je;const ht=m.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Pe,{ref:a,className:g("relative overflow-hidden",t),...r,children:[e.jsx(mt,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(Ce,{}),e.jsx(ut,{})]}));ht.displayName=Pe.displayName;const Ce=m.forwardRef(({className:t,orientation:s="vertical",...r},a)=>e.jsx(ee,{ref:a,orientation:s,className:g("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(we,{className:"relative flex-1 rounded-full bg-border"})}));Ce.displayName=ee.displayName;const ft=({activePage:t,userRole:s="Admin"})=>{const{sidebarstate:r,setSidebarstate:a}=se(),i=[{title:"Dashboard",icon:e.jsx(J,{className:"h-5 w-5"}),route:"doctor.home",path:"/doctor",id:"dashboard",roles:["Admin","Doctor","Pharmacist"]},{title:"Appointments",icon:e.jsx(de,{className:"h-5 w-5"}),route:"admin.appointments",path:"/auth/appointments",id:"appointments",roles:["Admin","Doctor"]},{title:"Patient Records",icon:e.jsx(me,{className:"h-5 w-5"}),route:"admin.patients",path:"/auth/patients",id:"patients",roles:["Admin","Doctor"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),path:"/settings",id:"settings",roles:["Admin"]}].filter(d=>d.roles.includes(s)),c=v().props.auth.user,l=v().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(K,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsx("ul",{className:"space-y-1 px-2",children:i.map(d=>e.jsx("li",{children:e.jsxs(k,{href:d.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(d.route)&&d.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[d.icon,!r&&e.jsx("span",{className:"ml-3",children:d.title})]})},d.id))})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:s[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[c.firstname," ",c.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:d=>D.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},pt=({className:t="",datas:s})=>{const[r,a]=m.useState(!1),[o,i]=m.useState(!1),[c,l]=m.useState(s.all_notifications??s.notifications);let d=c.filter(u=>!u.read_at).length;m.useEffect(()=>{l(s.all_notifications??s.notifications),d=c.filter(u=>!u.read_at).length},[s]);const n=()=>{if(a(!r),!r){const u=c.map(f=>({...f,read:!0}));l(u)}},h=u=>{switch(u){case"inventory":return"text-amber-500 bg-amber-100";case"new_appointment":return"text-blue-500 bg-blue-100";case"new_patient":return"text-green-500 bg-green-100";case"program":return"text-purple-500 bg-purple-100";default:return"text-gray-500 bg-gray-100"}};return e.jsxs("div",{className:`relative ${t}`,children:[e.jsxs(P,{variant:"ghost",size:"icon",className:"relative",onClick:n,"aria-label":"Notifications",children:[e.jsx(ne,{className:"h-5 w-5"}),d>0&&e.jsx(Le,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0",children:d})]}),e.jsx(ke,{children:r&&e.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notifications"})}),e.jsx("form",{onSubmit:u=>{u.preventDefault(),D.post(route("notifications.markAllRead"),{},{preserveScroll:!0})},children:e.jsx(P,{type:"submit",variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"Mark all as read"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-gray-200",children:(o?c:c.slice(0,3)).map(u=>e.jsx("div",{className:`p-3 hover:bg-accent/50 transition-colors ${u.read_at?"":"bg-accent/20"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${h(u.data.type)}`,children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-medium",children:u.data.title}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Te(u.created_at).fromNow()}),e.jsx("div",{className:" text-sm",children:u.read_at?e.jsx("div",{children:"Read"}):e.jsx("div",{children:"Unread"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.data.message})]})]})},u.id))})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-accent/10",children:e.jsx(P,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",onClick:()=>i(u=>!u),children:o?"Show less":"View all notifications"})})]})})]})},ie=t=>{let s;const r=new Set,a=(n,h)=>{const u=typeof n=="function"?n(s):n;if(!Object.is(u,s)){const f=s;s=h??(typeof u!="object"||u===null)?u:Object.assign({},s,u),r.forEach(p=>p(s,f))}},o=()=>s,l={setState:a,getState:o,getInitialState:()=>d,subscribe:n=>(r.add(n),()=>r.delete(n))},d=s=t(a,o,l);return l},xt=t=>t?ie(t):ie,bt=t=>t;function gt(t,s=bt){const r=oe.useSyncExternalStore(t.subscribe,()=>s(t.getState()),()=>s(t.getInitialState()));return oe.useDebugValue(r),r}const ce=t=>{const s=xt(t),r=a=>gt(s,a);return Object.assign(r,s),r},vt=t=>t?ce(t):ce,wt=({activePage:t,userRole:s="Pharmacist"})=>{const{sidebarstate:r,setSidebarstate:a}=se(),i=[{title:"Dashboard",icon:e.jsx(J,{className:"h-5 w-5"}),route:"pharmacist.dashboard",path:"/pharmacist/dashboard",id:"dashboard",roles:["Pharmacist"]},{title:"Inventory",icon:e.jsx(Ue,{className:"h-5 w-5"}),route:"pharmacist.inventory.index",path:"/pharmacist/inventory",id:"inventory",roles:["Pharmacist"]},{title:"Analytics",icon:e.jsx(Ie,{className:"h-5 w-5"}),route:"pharmacist.analytics",path:"/pharmacist/analytics",id:"analytics",roles:["Pharmacist"]},{title:"Reports",icon:e.jsx(ze,{className:"h-5 w-5"}),route:"pharmacist.reports",path:"/pharmacist/reports",id:"reports",roles:["Pharmacist"]},{title:"Settings",icon:e.jsx(Z,{className:"h-5 w-5"}),route:"pharmacist.settings*",path:"/pharmacist/settings",id:"settings",roles:["Pharmacist"]}].filter(n=>n.roles.includes(s)),c=[{title:"Messages",icon:e.jsx(ue,{className:"h-5 w-5"}),route:"admin.landing.messages",path:route("admin.landing.messages"),id:"messages"}],l=v().props.auth.user,d=v().props.auth.role;return e.jsxs("div",{className:g("flex flex-col h-full bg-white border-r transition-all duration-300 shadow-sm",r?"w-20":"w-64 md:w-72"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[!r&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-bold text-lg text-primary",children:"RHU Calumpang"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Management System"})]}),r&&e.jsx("div",{className:"mx-auto",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"RHU"})})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"ml-auto",children:r?e.jsx(K,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-1 px-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Menu"})}),i.map(n=>e.jsx("li",{children:e.jsxs(k,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id)),e.jsx("div",{children:e.jsx("b",{children:"Landing Page"})}),c.map(n=>e.jsx("li",{children:e.jsxs(k,{href:n.path,className:g("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",route().current(n.route)&&n.route?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",r&&"justify-center px-0"),children:[n.icon,!r&&e.jsx("span",{className:"ml-3",children:n.title})]})},n.id))]})}),e.jsxs("div",{className:"mt-auto border-t p-4",children:[e.jsxs("div",{className:g("flex items-center",r&&"justify-center"),children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:s[0]}),!r&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium",children:[l.firstname," ",l.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d.roletype})]})]}),e.jsxs(P,{variant:"ghost",className:g("w-full mt-4 text-muted-foreground hover:text-foreground",r&&"px-0"),onClick:n=>D.post("/logout"),children:[e.jsx(G,{className:"h-5 w-5"}),!r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})},se=vt(t=>({sidebarstate:!1,setSidebarstate:s=>t({sidebarstate:s})}));function er({header:t,children:s,tools:r}){var d,n,h;const a=v().props.auth.role,{auth:o}=v().props,[i,c]=m.useState(o);m.useEffect(()=>{c(o)},[o]);const{flash:l}=v().props;return m.useEffect(()=>{l&&(l.toast?window.show_toast(l.title,l.message,l.icon):alert_toast(l.title,l.message,l.icon))},[l]),e.jsxs("div",{className:"flex h-screen bg-background text-gray-900",children:[e.jsx(Me,{channelName:"notification",eventName:"notification-event",onEvent:u=>{D.reload({only:["auth"],preserveScroll:!0})}}),a.id==7?e.jsx(Fe,{}):a.id==6?e.jsx(wt,{}):e.jsx(ft,{}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"sticky top-0 z-10 border-b p-4 flex justify-between items-center shadow-sm bg-white border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-4",children:t&&e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})}),e.jsxs("div",{className:"flex items-center gap-4",children:[r,e.jsx(pt,{datas:i}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ae,{children:[e.jsx(Re,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin",alt:"Admin"}),e.jsx(Ee,{children:"AD"})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(d=v().props.auth.user)==null?void 0:d.firstname," ",(n=v().props.auth.user)==null?void 0:n.lastname]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(h=v().props.auth.role)==null?void 0:h.roletype})]})]})]})]}),e.jsx("main",{className:"p-6 bg-accent/20",children:s})]})]})}export{er as A,ht as S};
