import{j as e,a as ve,r as be}from"./app-CpcWMaCr.js";import{R as Ne,r}from"./vendor-DkBadjUr.js";import{C as N,a as k,b as T,e as R,c as w,d as we}from"./card-i_W9PX4F.js";import{B as c}from"./button-83KshekS.js";import{T as Ce,a as Se,b as ee,c as se}from"./tabs-HaSvpB_k.js";import{B as A}from"./badge-Cc1b6IgZ.js";import"./separator-R4CBDmT6.js";import{P as Me}from"./progress-Cl3be0Vr.js";import{L as Pe}from"./LandingLayout-CqdbVQ0-.js";import{C as De}from"./chevron-left-B36-TXNE.js";import{C as ke}from"./chevron-right-B3qqnx4D.js";import{i as Te,e as Re,s as Ae}from"./subMonths-B67T7BWk.js";import{f as j}from"./format-Dp3w_Y3x.js";import{i as Ie,a as te,s as ae,e as re,b as Le}from"./isSameMonth-BOwz-_mK.js";import{C as J}from"./CustomModal-C42p1Fva.js";import"./jspdf.es.min-DSguI3Ef.js";import"./html2canvas.esm-BfxBtG_O.js";import Be from"./ProgramRegistration-eSCwGgep.js";import{m as le}from"./proxy-NKVFv3z7.js";import{C as I}from"./calendar-D9APQM2e.js";import{F as Ee}from"./filter-BAwJ6QQu.js";import{C as ie}from"./clock-D6yUBuGv.js";import{C as W}from"./circle-alert-D8zT41fC.js";import{S as ne}from"./stethoscope-QcN9KdKi.js";import{U as oe}from"./users-D4PhO1-D.js";import{C as Fe}from"./circle-check-F3PuHnLX.js";import{A as _e}from"./activity-C-sjEU5t.js";import{H as He}from"./heart-CDAohmX9.js";import{c as Oe}from"./createLucideIcon-BKWaAi2G.js";import{S as $e}from"./syringe-CKDJ4xso.js";import"./pusher-DVtoYAOu.js";import"./index-D-5lYtqK.js";import"./react-icons.esm-9ndgmCxB.js";import"./index-XkFAycwM.js";import"./index-cyM4JHm5.js";import"./index-BWKolfP-.js";import"./tslib.es6-M_FJ09fS.js";import"./index-DcuBkBaW.js";import"./index-BuhaAKb_.js";import"./moment-C5S46NFB.js";import"./pusher-BmsVLRTL.js";import"./dialog-CDdyR0jn.js";import"./printer-CfgcPaUh.js";import"./file-text-YZXa1D2L.js";import"./package-L7rgkkVO.js";import"./circle-check-big-BQVCuGNJ.js";import"./pill-DIGxtF-3.js";import"./index-BH6rhEqw.js";import"./PhilippinesAddressLookup-CdEEma2X.js";import"./index-WHihrx3k.js";import"./eye-mxYijkrE.js";import"./check-BD0Yvgxs.js";import"./arrow-right-Bt_d7m5h.js";import"./map-pin-Dkn0BYKY.js";import"./phone-BScbSfjU.js";import"./mail-BoTx8fKY.js";import"./chevron-up-BdDu7vFg.js";import"./toast-BopjrADX.js";import"./use-toast-Dm0PN6fH.js";import"./refresh-cw-D3hZ7e_O.js";import"./save-CAdd64LS.js";import"./square-pen-Bb1JtfBr.js";import"./download-BH8XyxCx.js";import"./trash-2-DJ5zXW8D.js";import"./archive-BwGVl8jP.js";import"./info-BVLwYIm5.js";import"./triangle-alert-BslwqqvL.js";import"./circle-x-Cf2XhiVO.js";import"./Toaster-bRVMISGF.js";import"./toast-DJgp-ZGD.js";import"./index-Bkpbp3ld.js";import"./input-FXb9p87Q.js";import"./label-Ci5QeB7S.js";import"./select-B2DawXAC.js";import"./index-Su2r44Ky.js";import"./index-DqxisvwK.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],ze=Oe("Brain",Ye),qe=({selectedDate:L,onDateSelect:B,hasPrograms:E=[]})=>{const[n,F]=Ne.useState(new Date),h=()=>{const a=ae(n),l=re(n);return Re({start:a,end:l})},g=()=>{const a=ae(n),l=a.getDay();if(l===0)return[];const d=new Date(a);d.setDate(0);const i=l,m=[];for(let x=0;x<i;x++){const f=new Date(d);f.setDate(d.getDate()-x),m.unshift(f)}return m},u=()=>{const a=re(n),l=a.getDay();if(l===6)return[];const d=6-l,i=[];for(let m=1;m<=d;m++){const x=new Date(a);x.setDate(a.getDate()+m),i.push(x)}return i},V=()=>{F(Ae(n))},G=()=>{F(Le(n,1))},o=a=>E.some(l=>te(new Date(l),a)),y=[...g(),...h(),...u()],v=["Su","Mo","Tu","We","Th","Fr","Sa"];return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:V,className:"p-1 rounded-full hover:bg-gray-100","aria-label":"Previous month",children:e.jsx(De,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-base font-medium",children:j(n,"MMMM yyyy")}),e.jsx("button",{onClick:G,className:"p-1 rounded-full hover:bg-gray-100","aria-label":"Next month",children:e.jsx(ke,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[v.map(a=>e.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-1",children:a},a)),y.map((a,l)=>{const d=Ie(a,n),i=L&&te(a,L),m=o(a),x=Te(a);return e.jsx("button",{onClick:f=>{f.preventDefault(),B(a)},type:"button",className:`
                h-9 w-9 mx-auto flex items-center justify-center rounded-full text-sm
                ${d?"":"text-gray-400"}
                ${i?"bg-blue-500 text-white":""}
                ${m&&!i?"bg-blue-100":""}
                ${x&&!i?"border border-blue-500":""}
                hover:bg-gray-100
              `,children:j(a,"d")},l)})]})]})},ut=({myprograms:L,allprograms:B,programtypes:E})=>{const[n,F]=r.useState(B),{auth:h,userPrograms:g=[]}=ve().props;r.useEffect(()=>{h.userPrograms&&console.log(h.userPrograms)},[h.userPrograms]);const u=h&&h.user,[V,G]=r.useState({isOpen:!1,program:null}),[o,y]=r.useState(null),[v,a]=r.useState("schedules");r.useEffect(()=>{!u&&v==="records"&&a("schedules");const s=t=>{const p=t.target.closest("button");if(p){const Q=p.onclick;if(Q&&Q.toString().includes("/appointments")){t.preventDefault(),t.stopPropagation();const z=p.closest(".program-card");let q=null;return z&&z.dataset.programId?q=i.find(ye=>ye.id===z.dataset.programId):q={name:"Health Program",date:new Date,time:"TBD",location:"Barangay Calumpang Health Center"},D(q),!1}}};return document.addEventListener("click",s,!0),()=>{document.removeEventListener("click",s,!0)}},[u,v]);const[l,d]=r.useState(null),[i,m]=r.useState([]);r.useEffect(()=>{if(n&&Array.isArray(n)){const s=n.map(t=>({id:t.id.toString(),name:t.name,date:new Date(t.date),time:`${t.startTime} - ${t.endTime}`,location:t.location,ageGroup:"All ages",availableSlots:t.availableSlots,totalSlots:t.totalSlots,status:t.status.toLowerCase(),type:t.programType,coordinator:t.coordinator,description:t.description}));m(s)}},[n]);const x=s=>{const t=s.toLowerCase();return t.includes("vaccine")||t.includes("vaccination")||t.includes("immunization")?"healthprograms":t.includes("mental")||t.includes("counseling")||t.includes("psychology")?"mental-health":t.includes("maternal")||t.includes("prenatal")||t.includes("postnatal")?"maternal":t.includes("health")||t.includes("program")||t.includes("checkup")?"healthprograms":"general"},[f,ce]=r.useState([]);r.useEffect(()=>{if(g&&Array.isArray(g)){const s=g.map(t=>({id:t.id.toString(),name:t.name,date:new Date(t.date),programType:t.programType||t.name,sessionNumber:t.sessionNumber,nextSessionDate:t.nextSessionDate?new Date(t.nextSessionDate):null,conductedBy:t.conductedBy||"Health Center Staff",status:t.status.toLowerCase(),type:x(t.name)}));ce(s)}},[g]);const _=i.filter(s=>{const t=!o||s.date.getDate()===o.getDate()&&s.date.getMonth()===o.getMonth()&&s.date.getFullYear()===o.getFullYear(),p=!l||s.type.toString()==l;return t&&p}),de=i.map(s=>{const t=new Date(s.date);return new Date(t.getFullYear(),t.getMonth(),t.getDate())});o&&i.filter(s=>{const t=new Date(s.date);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()&&t.getDate()===o.getDate()});const H=(s,t="h-4 w-4 mr-1")=>{switch(s){case"healthprograms":return e.jsx($e,{className:t});case"mental-health":return e.jsx(ze,{className:t});case"maternal":return e.jsx(He,{className:t});case"general":return e.jsx(_e,{className:t});default:return e.jsx(ne,{className:t})}},me=r.useRef(),[Je,We]=r.useState(!1),[xe,O]=r.useState(!1),[he,U]=r.useState(null),[pe,C]=r.useState(!1),[ue,S]=r.useState(!1),[ge,M]=r.useState(!1),[P,$]=r.useState(""),[b,Y]=r.useState(null),[Z,K]=r.useState(!1),D=s=>{U(s||null),C(!0)},fe=()=>{C(!1),S(!0)},X=s=>{S(!1),s==="new"?O(!0):s==="existing"&&M(!0)},je=async s=>{if(s.preventDefault(),!P.trim()){alert("Please enter a Registration ID");return}K(!0);try{const t=await fetch(`/api/participant-history/${P}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(t.ok){const p=await t.json();Y(p)}else{const p=await t.json();alert(p.message||"Registration ID not found")}}catch(t){console.error("Error fetching participant history:",t),alert("Error fetching participant history. Please try again.")}finally{K(!1)}};return e.jsxs(Pe,{children:[e.jsxs("div",{className:"container mx-auto max-w-7xl pt-24",children:[e.jsxs(le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsxs(le.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center px-4 py-2 bg-teal-50 text-teal-800 rounded-full text-sm font-medium mb-6 border border-teal-100",children:[e.jsx(I,{className:"w-4 h-4 mr-2 text-teal-600"}),"Program Schedules"]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-teal-600",children:"Schedule Calendar for Seasonal Programs"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Manage schedules and records for Mental Health Programs and other seasonal services"})]}),e.jsxs(Ce,{defaultValue:"schedules",className:"w-full",value:v,onValueChange:a,children:[e.jsxs(Se,{className:`grid w-full md:w-auto ${u?"grid-cols-2":"grid-cols-1"} mb-8`,children:[e.jsx(ee,{value:"schedules",children:"Program Schedules"}),u&&e.jsx(ee,{value:"records",children:"My Program Records"})]}),e.jsx(se,{value:"schedules",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(N,{className:"lg:col-span-1",children:[e.jsxs(k,{children:[e.jsx(T,{className:"text-xl",children:"Program Calendar"}),e.jsx(R,{children:"Select a date to view available program schedules"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(qe,{selectedDate:o,onDateSelect:y,hasPrograms:de})}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-100 mr-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Has Programs"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Selected"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Filter by Program Type"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(A,{variant:l===null?"default":"outline",className:"cursor-pointer",onClick:()=>d(null),children:"All Programs"}),E.map((s,t)=>e.jsx(A,{variant:l===s.servicename?"default":"outline",className:"cursor-pointer",onClick:()=>d(s.servicename),children:s.servicename},t))]})]})]})]}),e.jsxs(N,{className:"lg:col-span-2",children:[e.jsxs(k,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(T,{className:"text-xl",children:[o?`Programs for ${j(o,"MMMM d, yyyy")}`:"All Upcoming Program Schedules"," - ",l??"All Programs"]}),e.jsxs(R,{children:[_.length," program schedules found"]})]}),e.jsxs(c,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>{y(void 0),d(null)},children:[e.jsx(Ee,{className:"h-4 w-4"}),"Reset Filters"]})]}),e.jsx(w,{className:"space-y-4",children:_.length>0?_.map(s=>e.jsxs(N,{className:"overflow-hidden program-card","data-program-id":s.id,children:[e.jsx("div",{className:`h-1 ${s.status==="completed"?"bg-gray-300":s.availableSlots===0?"bg-red-500":"bg-green-500"}`}),e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[H(s.type),e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx(A,{variant:s.status==="completed"?"outline":s.availableSlots===0?"destructive":"default",className:"ml-2",children:s.status==="completed"?"Completed":s.availableSlots===0?"Fully Booked":"Available"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"h-4 w-4 mr-1"}),j(s.date,"MMMM d, yyyy")]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"h-4 w-4 mr-1"}),s.time]})]}),e.jsxs("div",{className:"text-gray-600 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",s.location]}),e.jsxs("div",{className:"text-gray-600 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Age Group:"})," ",s.ageGroup]})]}),e.jsxs("div",{className:"flex flex-col gap-2 min-w-[150px]",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Available Slots:"})," ",s.availableSlots,"/",s.totalSlots]}),e.jsx(Me,{value:s.availableSlots/s.totalSlots*100,className:"h-2"}),e.jsx(c,{disabled:s.status==="completed"||s.availableSlots===0,className:"mt-2",variant:s.status==="completed"||s.availableSlots===0?"outline":"default",size:"sm",onClick:()=>D(s),children:s.status==="completed"?"Completed":s.availableSlots===0?"No Slots Available":"Join the Program"})]})]})})]},s.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(W,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Program Schedules Found"}),e.jsx("p",{className:"text-gray-600",children:"There are no program schedules matching your current filters."}),e.jsx(c,{variant:"outline",className:"mt-4",onClick:()=>{y(void 0),d(null)},children:"Reset Filters"})]})})]})]})}),u&&e.jsxs(se,{value:"records",className:"space-y-6",children:[e.jsxs(N,{ref:me,children:[e.jsx(k,{children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-xl",children:"My Program Records"}),e.jsx(R,{children:"View your complete program history and upcoming appointments"})]}),e.jsx(c,{variant:"outline",onClick:D,children:"Join the Program"})]})}),e.jsx(w,{children:e.jsx("div",{children:h.userPrograms.length==0?e.jsxs("div",{className:"p-8 text-center border rounded-lg",children:[e.jsx(W,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No program records found"}),e.jsx("p",{className:"text-gray-500",children:"You haven't participated in any health programs yet."}),e.jsx(c,{className:"mt-4 px-5 py-2 text-sm shadow-md",onClick:()=>a("schedules"),children:"Browse Available Programs"})]}):h.userPrograms.map(s=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`h-1 ${s.program_schedule.status=="completed"?"bg-green-500":s.program_schedule.status=="scheduled"?"bg-blue-500":"bg-red-500"}`}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[H(s.program_schedule.program_type_id),e.jsx("h3",{className:"font-semibold text-lg",children:s.program_schedule.program_type.programname}),e.jsx(A,{variant:s.program_schedule.status==="completed"?"success":s.program_schedule.status==="scheduled"?"default":"destructive",children:s.program_schedule.status==="completed"?"Completed":s.program_schedule.status==="scheduled"?"Scheduled":"Missed"})]}),e.jsxs("div",{className:"mt-2 text-gray-600 text-sm",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"font-medium",children:["Program Type:"," "]}),s.program_schedule.program_type.service.servicename]}),e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"Date:"})," ",j(s.program_schedule.date,"MMMM d, yyyy")]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"Conducted By:"})," "]})]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center md:items-end gap-2",children:[s.session&&e.jsxs("div",{className:"text-sm font-medium",children:["Session"," ",s.session]}),e.jsxs("div",{className:"text-sm",children:["Next session:"," "]}),s.status==="completed"&&e.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[e.jsx(Fe,{className:"h-4 w-4 mr-1"}),"Verified"]})]})]})})]},s.id))})}),e.jsxs(we,{className:"flex justify-between border-t p-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Total Records:"})," ",f.length]}),u&&e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>be.get("/health-programs"),className:"px-5 py-2 text-sm shadow-md flex items-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-refresh-cw",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]}),"Refresh Records"]})]})]}),e.jsxs(N,{children:[e.jsxs(k,{children:[e.jsx(T,{className:"text-xl",children:"Program Recommendations"}),e.jsx(R,{children:"Based on your profile and history, we recommend the following programs"})]}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.length===0?e.jsxs("div",{className:"col-span-3 p-8 text-center",children:[e.jsx(W,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No programs available"}),e.jsx("p",{className:"text-gray-500",children:"There are currently no health programs scheduled. Please check back later."})]}):i.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg program-card","data-program-id":s.id,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[H(s.type,"h-5 w-5 text-blue-600"),e.jsx("h3",{className:"font-medium text-lg",children:s.name})]}),e.jsx("p",{className:"text-gray-600 mb-2",children:s.description||"Join this health program to improve your well-being."}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:j(s.date,"MMMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:s.time})]}),e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[s.availableSlots,"/",s.totalSlots," ","slots available"]})]})]}),e.jsx(c,{size:"sm",onClick:()=>D(s),disabled:s.availableSlots<=0||s.status==="completed",className:"w-full justify-center px-5 py-2 text-sm shadow-md",children:s.availableSlots<=0?"Fully Booked":s.status==="completed"?"Completed":"Join the Program"})]},s.id))})})]})]})]})]}),e.jsx(J,{isOpen:pe,onClose:()=>C(!1),children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Terms of Privacy & Data Protection"})}),e.jsx("div",{className:"px-6 py-4 max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"By registering for this health program, you agree to the following terms:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"1. Data Collection"}),e.jsx("p",{children:"We collect personal information including your name, contact details, birthdate, and health information for program registration and health monitoring purposes."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"2. Data Usage"}),e.jsx("p",{children:"Your information will be used to:"}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsx("li",{children:"Process your program registration"}),e.jsx("li",{children:"Send program updates and reminders"}),e.jsx("li",{children:"Monitor your health progress"}),e.jsx("li",{children:"Coordinate with healthcare providers"}),e.jsx("li",{children:"Generate health reports and statistics"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"3. Data Protection"}),e.jsx("p",{children:"We implement appropriate security measures to protect your personal information from unauthorized access, alteration, disclosure, or destruction."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"4. Data Sharing"}),e.jsx("p",{children:"Your information may be shared with authorized healthcare providers and program coordinators only as necessary for program delivery and health monitoring."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"5. Your Rights"}),e.jsx("p",{children:"You have the right to access, update, or request deletion of your personal information. Contact us for any data-related concerns."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"6. Consent"}),e.jsx("p",{children:'By clicking "I Agree & Register", you consent to the collection, use, and processing of your personal information as described above.'})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx(c,{variant:"outline",onClick:()=>C(!1),className:"px-6 py-2",children:"Cancel"}),e.jsx(c,{onClick:fe,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white",children:"I Agree & Register"})]})]})})}),e.jsx(J,{isOpen:ue,onClose:()=>S(!1),children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Select Participant Type"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Choose whether you are a new participant or an existing participant with a registration ID."})]}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-6 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all duration-200",onClick:()=>X("new"),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"New Participant"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"I am registering for the first time and need to fill out the registration form."})]})}),e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-6 cursor-pointer hover:border-green-500 hover:bg-green-50 transition-all duration-200",onClick:()=>X("existing"),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Existing Participant"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"I have a registration ID and want to view my seasonal program history."})]})})]})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:e.jsx(c,{variant:"outline",onClick:()=>S(!1),className:"px-6 py-2",children:"Cancel"})})]})})}),e.jsx(J,{isOpen:ge,onClose:()=>M(!1),children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"View Program History"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your Registration ID to view your seasonal program history."})]}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"registrationId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration ID"}),e.jsx("input",{type:"text",id:"registrationId",value:P,onChange:s=>$(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your Registration ID",required:!0})]}),e.jsx("div",{className:"mb-6",children:e.jsx(c,{type:"button",onClick:je,disabled:Z||!P.trim(),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white disabled:bg-gray-400",children:Z?"Loading...":"View History"})}),b&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Program History"}),e.jsx("div",{className:"space-y-3",children:b.programs&&b.programs.length>0?b.programs.map((s,t)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.program_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",s.date]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",s.status]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="registered"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status})]})},t)):e.jsx("p",{className:"text-gray-600",children:"No program history found for this Registration ID."})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>{M(!1),$(""),Y(null)},className:"px-6 py-2",children:"Close"}),b&&e.jsx(c,{type:"button",onClick:()=>{M(!1),$(""),Y(null),O(!0)},className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white",children:"Join Another Program"})]})]})})]})})}),e.jsx(Be,{isOpen:xe,onClose:s=>O(s),schedule:he})]})};export{ut as default};
