import{r as s,j as e}from"./app-w80xKNjp.js";import{D as z,b as Q,c as $,d as W,f as X}from"./dialog-Da1Gnil6.js";import{u as G,c as P,B as R}from"./button-ByrYyGxi.js";import{I as f}from"./input-WSYMQqth.js";import{L as o}from"./label-BQJ0Q53E.js";import{T as J}from"./textarea-DW8T5Ddq.js";import{S as K,a as Y,b as Z,c as ee,d as T}from"./select-BJKiEs-R.js";import{a as te,c as se}from"./index-BQv6cXGv.js";import{c as ae}from"./index-CrLTUp5H.js";import{u as re}from"./index-BBmWcNRL.js";import{a as ie}from"./Combination-BaMHpkY_.js";import{P as V}from"./index-B7e_029B.js";import"./react-icons.esm-BsZfiygg.js";import"./index-DEMSEl3l.js";import"./index-DZywlfdR.js";var D="Switch",[oe,we]=ae(D),[ne,ce]=oe(D),B=s.forwardRef((a,i)=>{const{__scopeSwitch:r,name:n,checked:c,defaultChecked:x,required:d,disabled:l,value:m="on",onCheckedChange:g,form:N,...v}=a,[u,h]=s.useState(null),C=G(i,p=>h(p)),j=s.useRef(!1),S=u?N||!!u.closest("form"):!0,[b=!1,k]=te({prop:c,defaultProp:x,onChange:g});return e.jsxs(ne,{scope:r,checked:b,disabled:l,children:[e.jsx(V.button,{type:"button",role:"switch","aria-checked":b,"aria-required":d,"data-state":M(b),"data-disabled":l?"":void 0,disabled:l,value:m,...v,ref:C,onClick:se(a.onClick,p=>{k(w=>!w),S&&(j.current=p.isPropagationStopped(),j.current||p.stopPropagation())})}),S&&e.jsx(le,{control:u,bubbles:!j.current,name:n,value:m,checked:b,required:d,disabled:l,form:N,style:{transform:"translateX(-100%)"}})]})});B.displayName=D;var L="SwitchThumb",A=s.forwardRef((a,i)=>{const{__scopeSwitch:r,...n}=a,c=ce(L,r);return e.jsx(V.span,{"data-state":M(c.checked),"data-disabled":c.disabled?"":void 0,...n,ref:i})});A.displayName=L;var le=a=>{const{control:i,checked:r,bubbles:n=!0,...c}=a,x=s.useRef(null),d=re(r),l=ie(i);return s.useEffect(()=>{const m=x.current,g=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==r&&v){const u=new Event("click",{bubbles:n});v.call(m,r),m.dispatchEvent(u)}},[d,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...c,tabIndex:-1,ref:x,style:{...a.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function M(a){return a?"checked":"unchecked"}var _=B,de=A;const H=s.forwardRef(({className:a,...i},r)=>e.jsx(_,{className:P("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:r,children:e.jsx(de,{className:P("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));H.displayName=_.displayName;const Te=({open:a,onClose:i,onSave:r})=>{const[n,c]=s.useState(""),[x,d]=s.useState("Supply"),[l,m]=s.useState("0"),[g,N]=s.useState("unit"),[v,u]=s.useState("5"),[h,C]=s.useState(!1),[j,S]=s.useState(""),[b,k]=s.useState(""),[p,w]=s.useState(""),[q,E]=s.useState(""),[I,F]=s.useState(""),U=t=>{t.preventDefault();const y={id:`item-${Date.now()}`,name:n,category:x,quantity:parseInt(l),unit:g,reorderThreshold:parseInt(v),isVaccine:h,lastUpdated:new Date};h&&(y.batchNumber=j,y.lotNumber=b,y.location=q),p&&(y.expirationDate=new Date(p)),I&&(y.notes=I),r(y),O(),i()},O=()=>{c(""),d("Supply"),m("0"),N("unit"),u("5"),C(!1),S(""),k(""),w(""),E(""),F("")};return e.jsx(z,{open:a,onOpenChange:i,children:e.jsxs(Q,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[e.jsx($,{children:e.jsx(W,{className:"text-xl font-semibold",children:"Add New Inventory Item"})}),e.jsxs("form",{onSubmit:U,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",className:"font-medium",children:"Item Name *"}),e.jsx(f,{id:"name",value:n,onChange:t=>c(t.target.value),placeholder:"Enter item name",className:"focus-visible:ring-primary",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"category",className:"font-medium",children:"Category *"}),e.jsxs(K,{value:x,onValueChange:t=>d(t),children:[e.jsx(Y,{className:"focus-visible:ring-primary",children:e.jsx(Z,{placeholder:"Select category"})}),e.jsxs(ee,{children:[e.jsx(T,{value:"Medicine",children:"Medicine"}),e.jsx(T,{value:"Vaccine",children:"Vaccine"}),e.jsx(T,{value:"Equipment",children:"Equipment"}),e.jsx(T,{value:"Supply",children:"Supply"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"unit",className:"font-medium",children:"Unit Type *"}),e.jsx(f,{id:"unit",value:g,onChange:t=>N(t.target.value),placeholder:"e.g., box, vial, piece",className:"focus-visible:ring-primary",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"quantity",className:"font-medium",children:"Initial Quantity *"}),e.jsx(f,{id:"quantity",type:"number",min:"0",value:l,onChange:t=>m(t.target.value),className:"focus-visible:ring-primary",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"reorderThreshold",className:"font-medium",children:"Reorder Threshold *"}),e.jsx(f,{id:"reorderThreshold",type:"number",min:"0",value:v,onChange:t=>u(t.target.value),className:"focus-visible:ring-primary",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"expirationDate",className:"font-medium",children:"Expiration Date"}),e.jsx(f,{id:"expirationDate",type:"date",value:p,onChange:t=>w(t.target.value),className:"focus-visible:ring-primary"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(H,{id:"isVaccine",checked:h,onCheckedChange:C}),e.jsx(o,{htmlFor:"isVaccine",className:"font-medium cursor-pointer",children:"This is a vaccine or requires lot tracking"})]}),h&&e.jsxs("div",{className:"space-y-4 pt-2 border-t border-gray-200 mt-4",children:[e.jsx("div",{className:"pt-2",children:e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Vaccine/Lot Tracking Information"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"batchNumber",className:"font-medium",children:"Batch Number"}),e.jsx(f,{id:"batchNumber",value:j,onChange:t=>S(t.target.value),className:"focus-visible:ring-primary",required:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"lotNumber",className:"font-medium",children:"Lot Number"}),e.jsx(f,{id:"lotNumber",value:b,onChange:t=>k(t.target.value),className:"focus-visible:ring-primary",required:h})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"location",className:"font-medium",children:"Storage Location"}),e.jsx(f,{id:"location",value:q,onChange:t=>E(t.target.value),placeholder:"e.g., Refrigerator 2, Shelf B",className:"focus-visible:ring-primary"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"notes",className:"font-medium",children:"Notes"}),e.jsx(J,{id:"notes",value:I,onChange:t=>F(t.target.value),placeholder:"Additional information about this item",className:"focus-visible:ring-primary"})]}),e.jsxs(X,{className:"pt-4",children:[e.jsx(R,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),e.jsx(R,{type:"submit",className:"bg-primary hover:bg-primary/90",children:"Add Item"})]})]})]})})};export{Te as default};
