import{r as h,P as E,j as e}from"./app-9IFjvyjq.js";import{D as A,a as L,b as P,c as R,d as M}from"./dialog-BlSttdnZ.js";import{B as p}from"./button-BWLYpXz0.js";import{I as i}from"./input-fLU5VnAr.js";import{L as r}from"./label-C2QZitaL.js";import{T as V}from"./textarea-COBWyWer.js";import{S as g,a as j,b as y,c as b,d as N}from"./select-p8YEwkY-.js";import{P as H}from"./plus-C1hjROq8.js";import{B as O}from"./building-2-Bld5c7bM.js";import{M as z}from"./map-pin-Bdehjgen.js";import{H as Q}from"./hash-C86GkOge.js";import{C as U}from"./calendar-DQr9f7aC.js";import{c as _}from"./createLucideIcon-DsPw26Nq.js";import"./index-ZSsit5F4.js";import"./Combination-BD7y2hDp.js";import"./index-DMLVHKle.js";import"./utils-Dqxj4mrw.js";import"./index-iJsz53jB.js";import"./react-icons.esm-CBUbwQJY.js";import"./index-C6jRhQFj.js";import"./index-5FqUdhJW.js";import"./index-D1R9fGnO.js";import"./index-Bhu2lbiL.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]],f=_("ToggleLeft",X);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]],v=_("ToggleRight",$),je=({open:k,onClose:m,categories:w=[]})=>{const[n,C]=h.useState(!1),[o,S]=h.useState(!0),{data:s,setData:d,post:F,processing:x,errors:a}=E({itemname:"",categoryid:"",manufacturer:"",description:"",quantity:0,unit_type:"",minimum_stock:0,maximum_stock:0,storage_location:"",batch_number:"",expiry_date:"",enable_auto_reorder:!1,track_individual_batches:!0}),l=t=>{const{name:c,value:D,type:T,checked:q}=t.target;d(c,T==="checkbox"?q:D)},u=(t,c)=>{d(t,c)},I=t=>{t.preventDefault(),s.itemname.trim()&&s.categoryid&&s.unit_type&&(s.quantity<=0||s.batch_number.trim()&&s.expiry_date&&(new Date(s.expiry_date)<=new Date||s.minimum_stock<0||s.maximum_stock<0||s.minimum_stock>s.maximum_stock||F(route("pharmacist.inventory.item.add"),{onSuccess:()=>{m()},onError:c=>{console.error("Validation errors:",c)}})))},B=[{value:"pieces",label:"Pieces"},{value:"boxes",label:"Boxes"},{value:"bottles",label:"Bottles"},{value:"tubes",label:"Tubes"},{value:"strips",label:"Strips"},{value:"vials",label:"Vials"},{value:"capsules",label:"Capsules"},{value:"tablets",label:"Tablets"}];return e.jsx(A,{open:k,onOpenChange:m,children:e.jsxs(L,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[e.jsx(P,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(H,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xl font-semibold",children:"Add New Inventory Item"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter the details for the new inventory item. All required fields must be completed."})]})]})}),e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"itemname",className:"text-sm font-medium",children:"Item Name *"}),e.jsx(i,{id:"itemname",name:"itemname",value:s.itemname,onChange:l,placeholder:"e.g., Amoxicillin 500mg",className:"w-full",required:!0}),a.itemname&&e.jsx("p",{className:"text-sm text-red-600",children:a.itemname})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"categoryid",className:"text-sm font-medium",children:"Category *"}),e.jsxs(g,{value:s.categoryid,onValueChange:t=>u("categoryid",t),children:[e.jsx(j,{children:e.jsx(y,{placeholder:"Select category"})}),e.jsx(b,{children:w.map(t=>e.jsx(N,{value:t.id.toString(),children:t.name},t.id))})]}),a.categoryid&&e.jsx("p",{className:"text-sm text-red-600",children:a.categoryid})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"manufacturer",className:"text-sm font-medium",children:"Manufacturer"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"manufacturer",name:"manufacturer",value:s.manufacturer,onChange:l,placeholder:"e.g., PharmaCorp",className:"w-full pl-10"})]}),a.manufacturer&&e.jsx("p",{className:"text-sm text-red-600",children:a.manufacturer})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(V,{id:"description",name:"description",value:s.description,onChange:l,placeholder:"Enter item description, usage instructions, or notes",className:"w-full min-h-[80px] resize-none"}),a.description&&e.jsx("p",{className:"text-sm text-red-600",children:a.description})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Stock Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"quantity",className:"text-sm font-medium",children:"Current Quantity *"}),e.jsx(i,{id:"quantity",name:"quantity",type:"number",value:s.quantity,onChange:l,placeholder:"0",className:"w-full",required:!0}),a.quantity&&e.jsx("p",{className:"text-sm text-red-600",children:a.quantity})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"unit_type",className:"text-sm font-medium",children:"Unit of Measure *"}),e.jsxs(g,{value:s.unit_type,onValueChange:t=>u("unit_type",t),children:[e.jsx(j,{children:e.jsx(y,{placeholder:"Select unit"})}),e.jsx(b,{children:B.map(t=>e.jsx(N,{value:t.value,children:t.label},t.value))})]}),a.unit_type&&e.jsx("p",{className:"text-sm text-red-600",children:a.unit_type})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"storage_location",className:"text-sm font-medium",children:"Storage Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"storage_location",name:"storage_location",value:s.storage_location,onChange:l,placeholder:"e.g., A-1-01",className:"w-full pl-10"})]}),a.storage_location&&e.jsx("p",{className:"text-sm text-red-600",children:a.storage_location})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"minimum_stock",className:"text-sm font-medium",children:"Minimum Stock Level"}),e.jsx(i,{id:"minimum_stock",name:"minimum_stock",type:"number",value:s.minimum_stock,onChange:l,placeholder:"0",className:"w-full"}),a.minimum_stock&&e.jsx("p",{className:"text-sm text-red-600",children:a.minimum_stock})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"maximum_stock",className:"text-sm font-medium",children:"Maximum Stock Level"}),e.jsx(i,{id:"maximum_stock",name:"maximum_stock",type:"number",value:s.maximum_stock,onChange:l,placeholder:"0",className:"w-full"}),a.maximum_stock&&e.jsx("p",{className:"text-sm text-red-600",children:a.maximum_stock})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Batch & Expiry Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"batch_number",className:"text-sm font-medium",children:"Batch/Lot Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"batch_number",name:"batch_number",value:s.batch_number,onChange:l,placeholder:"e.g., RX12001121",className:"w-full pl-10"})]}),a.batch_number&&e.jsx("p",{className:"text-sm text-red-600",children:a.batch_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"expiry_date",className:"text-sm font-medium",children:"Expiry Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"expiry_date",name:"expiry_date",type:"date",value:s.expiry_date,onChange:l,className:"w-full pl-10"})]}),a.expiry_date&&e.jsx("p",{className:"text-sm text-red-600",children:a.expiry_date})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Advanced Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(r,{htmlFor:"enable_auto_reorder",className:"text-sm font-medium",children:"Enable Automatic Reordering"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Automatically create purchase orders when stock falls below minimum level"})]}),e.jsx("button",{type:"button",onClick:()=>C(!n),className:"ml-4",children:n?e.jsx(v,{className:"h-6 w-6 text-gray-900"}):e.jsx(f,{className:"h-6 w-6 text-gray-400"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(r,{htmlFor:"track_individual_batches",className:"text-sm font-medium",children:"Track Individual Batches"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enable detailed batch tracking for compliance and traceability"})]}),e.jsx("button",{type:"button",onClick:()=>S(!o),className:"ml-4",children:o?e.jsx(v,{className:"h-6 w-6 text-gray-900"}):e.jsx(f,{className:"h-6 w-6 text-gray-400"})})]})]})]}),e.jsxs(M,{className:"flex gap-3 pt-6",children:[e.jsx(p,{type:"button",variant:"outline",onClick:m,className:"flex-1",children:"Cancel"}),e.jsx(p,{type:"submit",disabled:x,className:"flex-1",style:{backgroundColor:"#2C3E50"},children:x?"Adding...":"Add Item"})]})]})]})})};export{je as default};
