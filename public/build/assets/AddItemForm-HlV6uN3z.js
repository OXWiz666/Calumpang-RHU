import{r as a,j as e,P as A}from"./app-B3D5qbDj.js";import{D as H,b as L,c as M,d as V,f as O}from"./dialog-DlmMFxSk.js";import{u as z,c as D,B as E}from"./button-Bmzve6ZE.js";import{I as S}from"./input-BOQagLJB.js";import{L as b}from"./label-uiqgrJaK.js";import"./textarea-DkRMVo0i.js";import{S as U,a as Q,b as W,c as X,d as $}from"./select-n8im3nHk.js";import{a as G,c as J}from"./index-q1uSScwl.js";import{c as K}from"./index-BejU0aO_.js";import{u as Y}from"./index-DLtyeGwZ.js";import{a as Z}from"./Combination-DP6erW5s.js";import{P as I}from"./index-CYJJb8C1.js";import{P as ee}from"./PrintErrors-DVkDzq24.js";import"./react-icons.esm-CxAg-5sy.js";import"./index-DSG58kaL.js";import"./index-VQbMOvls.js";var k="Switch",[te,Ne]=K(k),[ae,se]=te(k),R=a.forwardRef((t,r)=>{const{__scopeSwitch:s,name:n,checked:c,defaultChecked:f,required:m,disabled:l,value:u="on",onCheckedChange:g,form:v,...x}=t,[p,C]=a.useState(null),P=z(r,h=>C(h)),y=a.useRef(!1),o=p?v||!!p.closest("form"):!0,[d=!1,N]=G({prop:c,defaultProp:f,onChange:g});return e.jsxs(ae,{scope:s,checked:d,disabled:l,children:[e.jsx(I.button,{type:"button",role:"switch","aria-checked":d,"aria-required":m,"data-state":F(d),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:P,onClick:J(t.onClick,h=>{N(w=>!w),o&&(y.current=h.isPropagationStopped(),y.current||h.stopPropagation())})}),o&&e.jsx(re,{control:p,bubbles:!y.current,name:n,value:u,checked:d,required:m,disabled:l,form:v,style:{transform:"translateX(-100%)"}})]})});R.displayName=k;var T="SwitchThumb",_=a.forwardRef((t,r)=>{const{__scopeSwitch:s,...n}=t,c=se(T,s);return e.jsx(I.span,{"data-state":F(c.checked),"data-disabled":c.disabled?"":void 0,...n,ref:r})});_.displayName=T;var re=t=>{const{control:r,checked:s,bubbles:n=!0,...c}=t,f=a.useRef(null),m=Y(s),l=Z(r);return a.useEffect(()=>{const u=f.current,g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(m!==s&&x){const p=new Event("click",{bubbles:n});x.call(u,s),u.dispatchEvent(p)}},[m,s,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...c,tabIndex:-1,ref:f,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F(t){return t?"checked":"unchecked"}var q=R,ie=_;const ne=a.forwardRef(({className:t,...r},s)=>e.jsx(q,{className:D("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:e.jsx(ie,{className:D("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ne.displayName=q.displayName;const we=({open:t,onClose:r,onSave:s,categories_:n})=>{const[c,f]=a.useState(!1),[m,l]=a.useState(""),[u,g]=a.useState(""),[v,x]=a.useState(""),[p,C]=a.useState(""),[P,y]=a.useState(""),{data:o,setData:d,post:N,processing:h,errors:w}=A({itemname:"",categoryid:"",unit_type:"",quantity:0,expirydate:new Date}),j=i=>{d(i.target.name,i.target.value)},B=i=>{i.preventDefault(),N(route("admin.inventory.item.add"),{onSuccess:()=>{r()},onFinish:()=>{}})};return e.jsx(H,{open:t,onOpenChange:r,children:e.jsxs(L,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[e.jsx(M,{children:e.jsx(V,{className:"text-xl font-semibold",children:"Add New Inventory Item"})}),e.jsxs("form",{onSubmit:B,className:"space-y-4 pt-4",children:[e.jsx(ee,{errors:w}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",className:"font-medium",children:"Item Name *"}),e.jsx(S,{name:"itemname",value:o.itemname,onChange:j,placeholder:"Enter item name",className:"focus-visible:ring-primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"font-medium",children:"Category *"}),e.jsxs(U,{value:String(o.categoryid),onValueChange:i=>d("categoryid",i),children:[e.jsx(Q,{className:"focus-visible:ring-primary",children:e.jsx(W,{placeholder:"Select category"})}),e.jsx(X,{children:n.map(i=>e.jsx($,{value:String(i.id),children:i.name},i.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"unit",className:"font-medium",children:"Unit Type *"}),e.jsx(S,{name:"unit_type",value:o.unit_type,onChange:j,placeholder:"e.g., box, vial, piece",className:"focus-visible:ring-primary"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"quantity",className:"font-medium",children:"Initial Quantity *"}),e.jsx(S,{name:"quantity",type:"number",min:"0",value:o.quantity,onChange:j,className:"focus-visible:ring-primary"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"expirationDate",className:"font-medium",children:"Expiration Date"}),e.jsx(S,{id:"expirationDate",type:"date",name:"expirydate",value:o.expirydate,onChange:j,className:"focus-visible:ring-primary"})]}),e.jsxs(O,{className:"pt-4",children:[e.jsx(E,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(E,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:h,children:"Add Item"})]})]})]})})};export{we as default};
