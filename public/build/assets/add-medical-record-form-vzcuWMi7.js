import{j as e}from"./app-CpcWMaCr.js";import{r as j}from"./vendor-DkBadjUr.js";import{B as T}from"./button-83KshekS.js";import{I as d}from"./input-FXb9p87Q.js";import{L as c}from"./label-Ci5QeB7S.js";import{T as Q}from"./textarea-DWWi065D.js";import{C as N,a as v,b as k,e as C,c as F}from"./card-i_W9PX4F.js";import{h as g}from"./moment-C5S46NFB.js";import{S as X,a as Z,b as ee,c as se,d as B}from"./select-B2DawXAC.js";import{R as ae,a as Y}from"./radio-group-6prAR6KW.js";import{C as m}from"./checkbox-kqr4RhZ1.js";import{P as te}from"./PrintErrors-Cx9Dl8hd.js";import{D as re,a as ce,b as ie,c as le}from"./dialog-CDdyR0jn.js";import{S as de}from"./save-CAdd64LS.js";import"./pusher-DVtoYAOu.js";import"./index-D-5lYtqK.js";import"./react-icons.esm-9ndgmCxB.js";import"./index-cyM4JHm5.js";import"./index-DcuBkBaW.js";import"./index-BWKolfP-.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Su2r44Ky.js";import"./index-DqxisvwK.js";import"./index-Bkpbp3ld.js";import"./index-XkFAycwM.js";import"./index-BuhaAKb_.js";import"./createLucideIcon-BKWaAi2G.js";function qe({patientName:q,onSubmit:I,onCancel:A,doctors:ne,patient:i,errors:D,editingRecord:_=null,isEditing:f=!1,isOpen:$=!0}){const[a,y]=j.useState({name:"",birthdate:"",sex:"",address:"",age:"",name_of_mother:"",nhts_status:"",name_of_father:"",contact_no:"",date:g(new Date).format("YYYY-MM-DD"),time:g(new Date).format("HH:mm"),patient_id:null,weight:"",height:"",temperature:"",rr:"",pr:"",bp:"",bmi:"",past_medical_history:{allergy:{checked:!1,specify:""},pneumonia:{checked:!1},asthma:{checked:!1},thyroid_disease:{checked:!1},cancer:{checked:!1,specify_organ:""},cerebrovascular_disease:{checked:!1},ptb:{checked:!1,category:""},coronary_artery_disease:{checked:!1},urinary_tract_infection:{checked:!1},diabetes_mellitus:{checked:!1},emphysema:{checked:!1},epilepsy_seizure:{checked:!1},hepatitis:{checked:!1,specify_type:""},hyperlipidemia:{checked:!1},hypertension:{checked:!1,highest_bp:""},peptic_ulcer_disease:{checked:!1},tuberculosis:{checked:!1,specify_organ:""},others:""},past_surgical_history:[{operation:"",date:""},{operation:"",date:""}]}),[r,w]=j.useState({}),[oe,E]=j.useState(!1),[M,z]=j.useState(new Date),L=()=>{if(f)return{};const s={};if(a.name.trim()?a.name.trim().length<2&&(s.name="Name must be at least 2 characters"):s.name="Name is required",!a.birthdate)s.birthdate="Birthdate is required";else{const l=new Date(a.birthdate);l>new Date&&(s.birthdate="Birthdate cannot be in the future"),l.getFullYear()<1900&&(s.birthdate="Birthdate cannot be before 1900")}if(a.sex||(s.sex="Sex is required"),a.address.trim()?a.address.trim().length<10&&(s.address="Address must be at least 10 characters"):s.address="Address is required",a.age?(isNaN(a.age)||a.age<0||a.age>150)&&(s.age="Age must be a valid number between 0 and 150"):s.age="Age is required",a.name_of_mother.trim()?a.name_of_mother.trim().length<2&&(s.name_of_mother="Name of Mother must be at least 2 characters"):s.name_of_mother="Name of Mother is required",a.name_of_father.trim()?a.name_of_father.trim().length<2&&(s.name_of_father="Name of Father must be at least 2 characters"):s.name_of_father="Name of Father is required",a.contact_no.trim()?/^[\+]?[0-9\s\-\(\)]{7,15}$/.test(a.contact_no.trim())||(s.contact_no="Please enter a valid contact number"):s.contact_no="Contact number is required",!a.date)s.date="Date is required";else{const l=new Date(a.date),h=new Date,x=new Date(h);x.setDate(x.getDate()+1),l>x&&(s.date="Record date cannot be more than 1 day in the future")}a.nhts_status||(s.nhts_status="NHTS Status is required"),a.time||(s.time="Time is required");const t=a.past_medical_history;return t.hepatitis.checked&&!t.hepatitis.specify_type.trim()&&(s.hepatitis_specify_type="Please specify the type of Hepatitis"),t.hypertension.checked&&!t.hypertension.highest_bp.trim()&&(s.hypertension_highest_bp="Please specify the highest blood pressure"),t.tuberculosis.checked&&!t.tuberculosis.specify_organ.trim()&&(s.tuberculosis_specify_organ="Please specify the organ affected by Tuberculosis"),t.cancer.checked&&!t.cancer.specify_organ.trim()&&(s.cancer_specify_organ="Please specify the organ affected by Cancer"),t.ptb.checked&&!t.ptb.category.trim()&&(s.ptb_category="Please specify the PTB category"),s},O=s=>{s.preventDefault(),console.log("AddMedicalRecordForm - Form submitted with data:",a);const t=L();if(Object.keys(t).length>0){console.log("AddMedicalRecordForm - Validation errors:",t),w(t);return}console.log("AddMedicalRecordForm - Validation passed, calling onSubmit"),w({});const l={...a,patient_id:i?.id||i?.patient_id};console.log("AddMedicalRecordForm - Final form data:",l),I(l)},o=(s,t)=>{y(l=>({...l,[s]:t})),r[s]&&w(l=>{const h={...l};return delete h[s],h})},S=s=>{if(!s)return"";const t=new Date,l=new Date(s);let h=t.getFullYear()-l.getFullYear();const x=t.getMonth()-l.getMonth();return(x<0||x===0&&t.getDate()<l.getDate())&&h--,h.toString()},V=s=>{o("birthdate",s);const t=S(s);o("age",t)},P=(s,t)=>{if(!s||!t||s<=0||t<=0)return"";const l=t/100;return(s/(l*l)).toFixed(1)},W=s=>{o("weight",s);const t=P(s,a.height);o("bmi",t)},G=s=>{o("height",s);const t=P(a.weight,s);o("bmi",t)},n=(s,t,l)=>{y(h=>({...h,past_medical_history:{...h.past_medical_history,[s]:{...h.past_medical_history[s],[t]:l}}}))},R=(s,t,l)=>{y(h=>({...h,past_surgical_history:h.past_surgical_history.map((x,b)=>b===s?{...x,[t]:l}:x)}))};return j.useEffect(()=>{if(console.log("AddMedicalRecordForm - isEditing:",f),console.log("AddMedicalRecordForm - editingRecord:",_),f&&_&&_.admin_data){console.log("AddMedicalRecordForm - admin_data:",_.admin_data),console.log("AddMedicalRecordForm - vital_signs:",_.vital_signs);const s=_.admin_data,t=_.vital_signs||{};console.log("AddMedicalRecordForm - Vital signs to populate:"),console.log("  adminData.weight:",s.weight),console.log("  adminData.height:",s.height),console.log("  adminData.temperature:",s.temperature),console.log("  vitalSigns.respiratory_rate:",t.respiratory_rate),console.log("  vitalSigns.pulse_rate:",t.pulse_rate),console.log("  vitalSigns.blood_pressure:",t.blood_pressure),y(l=>({...l,name:s.name||"",birthdate:s.birthdate||"",sex:s.sex||"",address:s.address||"",age:s.age||"",name_of_mother:s.name_of_mother||"",name_of_father:s.name_of_father||"",contact_no:s.contact_no||"",date:s.date||g(new Date).format("YYYY-MM-DD"),time:s.time||g(new Date).format("HH:mm"),nhts_status:s.nhts_status||"",past_medical_history:s.past_medical_history||l.past_medical_history,past_surgical_history:s.past_surgical_history||l.past_surgical_history,weight:s.weight||t.weight||"",height:s.height||t.height||"",temperature:s.temperature||t.temperature||"",rr:s.rr||t.respiratory_rate||"",pr:s.pr||t.pulse_rate||"",bp:s.bp||t.blood_pressure||"",bmi:s.bmi||t.bmi||""})),console.log("AddMedicalRecordForm - Form data updated with vital signs")}else if(i){const s=`${i.firstname||""} ${i.middlename||""} ${i.lastname||""}`.trim(),t=[];i.street&&t.push(i.street),i.barangay&&t.push(i.barangay),i.city&&t.push(i.city),i.province&&t.push(i.province),i.region&&t.push(i.region),i.zip_code&&t.push(i.zip_code);const l=t.length>0?t.join(", "):i.address||"",h=p=>{if(!p)return"";const u=p.toString().toLowerCase();return u==="m"||u==="male"?"male":u==="f"||u==="female"?"female":""},x=p=>{if(!p)return"";try{const u=new Date(p);if(isNaN(u.getTime()))return"";const U=u.getFullYear(),J=String(u.getMonth()+1).padStart(2,"0"),K=String(u.getDate()).padStart(2,"0");return`${U}-${J}-${K}`}catch(u){return console.log("Error formatting birthdate:",u),""}},b=i.date_of_birth||i.birth,H=x(b);if(console.log("Patient birthdate data:",{date_of_birth:i.date_of_birth,birth:i.birth,formatted:H}),y(p=>({...p,name:s||p.name,birthdate:H||p.birthdate,sex:h(i.gender||i.sex)||p.sex,address:l||p.address,contact_no:i.contactno||i.phone||p.contact_no,patient_id:i?.id||i?.patient_id||p.patient_id})),(s||i.date_of_birth||i.birth||i.gender||i.sex||l||i.contactno||i.phone)&&E(!0),b&&!a.age){const p=S(b);console.log("Calculating age from patient data:",{patientBirthdate:b,calculatedAge:p}),o("age",p)}}},[i,f,_]),j.useEffect(()=>{const s=setInterval(()=>{const t=new Date;z(t),y(l=>({...l,time:g(t).format("HH:mm")}))},1e3);return()=>clearInterval(s)},[]),j.useEffect(()=>{if(a.birthdate&&!a.age){const s=S(a.birthdate);console.log("Auto-calculating age:",{birthdate:a.birthdate,calculatedAge:s}),o("age",s)}},[a.birthdate]),e.jsx(re,{open:$,onOpenChange:A,children:e.jsxs(ce,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[e.jsx(ie,{children:e.jsx(le,{children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:f?"Edit Medical Record":"Add Medical Record"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",q]})]})})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Medical Record Creation"}),e.jsx("p",{className:"text-xs text-green-700",children:"Date & Time automatically set to current time"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-green-900",children:g(M).format("MMM DD, YYYY")}),e.jsx("p",{className:"text-xs text-green-700",children:g(M).format("hh:mm:ss A")})]})]})}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs(N,{children:[e.jsxs(v,{children:[e.jsx(k,{children:"Patient Information"}),e.jsx(C,{children:"Enter the patient's basic information"})]}),e.jsxs(F,{className:"space-y-6",children:[!f&&e.jsx(te,{errors:D}),D.medical_record_exists&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Medical Record Already Exists"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:D.medical_record_exists})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"Name *"}),e.jsx(d,{id:"name",value:a.name,onChange:s=>o("name",s.target.value),placeholder:"Full name",className:r.name?"border-red-500":"",required:!0}),r.name&&e.jsx("p",{className:"text-sm text-red-500",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"birthdate",children:"Birthdate *"}),e.jsx(d,{id:"birthdate",type:"date",value:a.birthdate,onChange:s=>V(s.target.value),className:r.birthdate?"border-red-500":"",required:!0}),r.birthdate&&e.jsx("p",{className:"text-sm text-red-500",children:r.birthdate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"sex",children:"Sex *"}),e.jsxs(X,{value:a.sex,onValueChange:s=>o("sex",s),children:[e.jsx(Z,{className:r.sex?"border-red-500":"",children:e.jsx(ee,{placeholder:"Select sex"})}),e.jsxs(se,{children:[e.jsx(B,{value:"male",children:"Male"}),e.jsx(B,{value:"female",children:"Female"})]})]}),r.sex&&e.jsx("p",{className:"text-sm text-red-500",children:r.sex})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"age",children:"Age *"}),e.jsx(d,{id:"age",type:"number",value:a.age,readOnly:!0,className:`bg-gray-50 cursor-not-allowed ${r.age?"border-red-500":""}`,placeholder:"Age will be calculated from birthdate"}),r.age&&e.jsx("p",{className:"text-sm text-red-500",children:r.age})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"address",children:"Address *"}),e.jsx(Q,{id:"address",value:a.address,onChange:s=>o("address",s.target.value),placeholder:"Complete address",rows:3,className:r.address?"border-red-500":"",required:!0}),r.address&&e.jsx("p",{className:"text-sm text-red-500",children:r.address})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name_of_mother",children:"Name of Mother *"}),e.jsx(d,{id:"name_of_mother",value:a.name_of_mother,onChange:s=>o("name_of_mother",s.target.value),placeholder:"Mother's full name",className:r.name_of_mother?"border-red-500":"",required:!0}),r.name_of_mother&&e.jsx("p",{className:"text-sm text-red-500",children:r.name_of_mother})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name_of_father",children:"Name of Father *"}),e.jsx(d,{id:"name_of_father",value:a.name_of_father,onChange:s=>o("name_of_father",s.target.value),placeholder:"Father's full name",className:r.name_of_father?"border-red-500":"",required:!0}),r.name_of_father&&e.jsx("p",{className:"text-sm text-red-500",children:r.name_of_father})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"contact_no",children:"Contact No. *"}),e.jsx(d,{id:"contact_no",value:a.contact_no,onChange:s=>o("contact_no",s.target.value),placeholder:"Phone number",className:r.contact_no?"border-red-500":"",required:!0}),r.contact_no&&e.jsx("p",{className:"text-sm text-red-500",children:r.contact_no})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"NHTS Status *"}),e.jsxs(ae,{value:a.nhts_status,onValueChange:s=>o("nhts_status",s),className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{value:"nhts",id:"nhts"}),e.jsx(c,{htmlFor:"nhts",className:"text-sm font-normal",children:"NHTS (National Household Targeting System)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{value:"non_nhts",id:"non_nhts"}),e.jsx(c,{htmlFor:"non_nhts",className:"text-sm font-normal",children:"NON-NHTS (Non-NHTS beneficiary)"})]})]}),r.nhts_status&&e.jsx("p",{className:"text-sm text-red-500",children:r.nhts_status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{htmlFor:"date",children:"Date & Time *"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium",children:"Auto-filled"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{id:"date",type:"date",value:a.date,onChange:s=>o("date",s.target.value),className:`flex-1 ${r.date?"border-red-500":"border-green-200 bg-green-50"}`,required:!0}),e.jsx(d,{id:"time",type:"time",value:a.time,onChange:s=>o("time",s.target.value),className:`flex-1 ${r.time?"border-red-500":"border-green-200 bg-green-50"}`,required:!0})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("span",{children:["Live time: ",g(M).format("MMM DD, YYYY - hh:mm:ss A")]})]})}),r.date&&e.jsx("p",{className:"text-sm text-red-500",children:r.date}),r.time&&e.jsx("p",{className:"text-sm text-red-500",children:r.time})]})]})]})]}),e.jsxs(N,{children:[e.jsxs(v,{children:[e.jsx(k,{children:"Pertinent Findings"}),e.jsx(C,{children:"Enter the patient's vital signs and measurements"})]}),e.jsx(F,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(d,{id:"weight",type:"number",step:"0.1",value:a.weight,onChange:s=>W(s.target.value),placeholder:"Weight in kilograms"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"height",children:"Height (cm)"}),e.jsx(d,{id:"height",type:"number",value:a.height,onChange:s=>G(s.target.value),placeholder:"Height in centimeters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"temperature",children:"Temperature (Â°C)"}),e.jsx(d,{id:"temperature",type:"number",step:"0.1",value:a.temperature,onChange:s=>o("temperature",s.target.value),placeholder:"Body temperature"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"rr",children:"RR (Respiratory Rate)"}),e.jsx(d,{id:"rr",type:"number",value:a.rr,onChange:s=>o("rr",s.target.value),placeholder:"Breaths per minute"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pr",children:"PR (Pulse Rate)"}),e.jsx(d,{id:"pr",type:"number",value:a.pr,onChange:s=>o("pr",s.target.value),placeholder:"Beats per minute"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"bp",children:"BP (Blood Pressure)"}),e.jsx(d,{id:"bp",value:a.bp,onChange:s=>o("bp",s.target.value),placeholder:"e.g., 120/80"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"bmi",children:"BMI"}),e.jsx(d,{id:"bmi",value:a.bmi,readOnly:!0,className:"bg-gray-50 cursor-not-allowed",placeholder:"BMI will be calculated from weight and height"})]})]})})]}),e.jsxs(N,{children:[e.jsxs(v,{children:[e.jsx(k,{children:"Past Medical History"}),e.jsx(C,{children:"Check all applicable medical conditions"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"allergy",checked:a.past_medical_history.allergy.checked,onCheckedChange:s=>n("allergy","checked",s)}),e.jsx(c,{htmlFor:"allergy",className:"text-sm font-medium",children:"Allergy"}),a.past_medical_history.allergy.checked&&e.jsx(d,{placeholder:"specify",value:a.past_medical_history.allergy.specify,onChange:s=>n("allergy","specify",s.target.value),className:"ml-2 flex-1"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"pneumonia",checked:a.past_medical_history.pneumonia.checked,onCheckedChange:s=>n("pneumonia","checked",s)}),e.jsx(c,{htmlFor:"pneumonia",className:"text-sm font-medium",children:"Pneumonia"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"asthma",checked:a.past_medical_history.asthma.checked,onCheckedChange:s=>n("asthma","checked",s)}),e.jsx(c,{htmlFor:"asthma",className:"text-sm font-medium",children:"Asthma"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"thyroid_disease",checked:a.past_medical_history.thyroid_disease.checked,onCheckedChange:s=>n("thyroid_disease","checked",s)}),e.jsx(c,{htmlFor:"thyroid_disease",className:"text-sm font-medium",children:"Thyroid disease"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"cancer",checked:a.past_medical_history.cancer.checked,onCheckedChange:s=>n("cancer","checked",s)}),e.jsx(c,{htmlFor:"cancer",className:"text-sm font-medium",children:"Cancer"}),a.past_medical_history.cancer.checked&&e.jsxs("div",{className:"ml-2 flex-1",children:[e.jsx(d,{placeholder:"specify organ",value:a.past_medical_history.cancer.specify_organ||"",onChange:s=>n("cancer","specify_organ",s.target.value),className:r.cancer_specify_organ?"border-red-500":""}),r.cancer_specify_organ&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.cancer_specify_organ})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"cerebrovascular_disease",checked:a.past_medical_history.cerebrovascular_disease.checked,onCheckedChange:s=>n("cerebrovascular_disease","checked",s)}),e.jsx(c,{htmlFor:"cerebrovascular_disease",className:"text-sm font-medium",children:"Cerebrovascular disease"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"ptb",checked:a.past_medical_history.ptb.checked,onCheckedChange:s=>n("ptb","checked",s)}),e.jsx(c,{htmlFor:"ptb",className:"text-sm font-medium",children:"PTB"}),a.past_medical_history.ptb.checked&&e.jsxs("div",{className:"ml-2 flex-1",children:[e.jsx(d,{placeholder:"What category?",value:a.past_medical_history.ptb.category||"",onChange:s=>n("ptb","category",s.target.value),className:r.ptb_category?"border-red-500":""}),r.ptb_category&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.ptb_category})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"coronary_artery_disease",checked:a.past_medical_history.coronary_artery_disease.checked,onCheckedChange:s=>n("coronary_artery_disease","checked",s)}),e.jsx(c,{htmlFor:"coronary_artery_disease",className:"text-sm font-medium",children:"Coronary artery disease"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"urinary_tract_infection",checked:a.past_medical_history.urinary_tract_infection.checked,onCheckedChange:s=>n("urinary_tract_infection","checked",s)}),e.jsx(c,{htmlFor:"urinary_tract_infection",className:"text-sm font-medium",children:"Urinary tract infection"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"diabetes_mellitus",checked:a.past_medical_history.diabetes_mellitus.checked,onCheckedChange:s=>n("diabetes_mellitus","checked",s)}),e.jsx(c,{htmlFor:"diabetes_mellitus",className:"text-sm font-medium",children:"Diabetes mellitus"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"emphysema",checked:a.past_medical_history.emphysema.checked,onCheckedChange:s=>n("emphysema","checked",s)}),e.jsx(c,{htmlFor:"emphysema",className:"text-sm font-medium",children:"Emphysema"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"epilepsy_seizure",checked:a.past_medical_history.epilepsy_seizure.checked,onCheckedChange:s=>n("epilepsy_seizure","checked",s)}),e.jsx(c,{htmlFor:"epilepsy_seizure",className:"text-sm font-medium",children:"Epilepsy/Seizure disorder"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"hepatitis",checked:a.past_medical_history.hepatitis.checked,onCheckedChange:s=>n("hepatitis","checked",s)}),e.jsx(c,{htmlFor:"hepatitis",className:"text-sm font-medium",children:"Hepatitis"}),a.past_medical_history.hepatitis.checked&&e.jsxs("div",{className:"ml-2 flex-1",children:[e.jsx(d,{placeholder:"specify type",value:a.past_medical_history.hepatitis.specify_type||"",onChange:s=>n("hepatitis","specify_type",s.target.value),className:r.hepatitis_specify_type?"border-red-500":""}),r.hepatitis_specify_type&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.hepatitis_specify_type})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"hyperlipidemia",checked:a.past_medical_history.hyperlipidemia.checked,onCheckedChange:s=>n("hyperlipidemia","checked",s)}),e.jsx(c,{htmlFor:"hyperlipidemia",className:"text-sm font-medium",children:"Hyperlipidemia"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"hypertension",checked:a.past_medical_history.hypertension.checked,onCheckedChange:s=>n("hypertension","checked",s)}),e.jsx(c,{htmlFor:"hypertension",className:"text-sm font-medium",children:"Hypertension"}),a.past_medical_history.hypertension.checked&&e.jsxs("div",{className:"ml-2 flex-1",children:[e.jsx(d,{placeholder:"highest BP",value:a.past_medical_history.hypertension.highest_bp||"",onChange:s=>n("hypertension","highest_bp",s.target.value),className:r.hypertension_highest_bp?"border-red-500":""}),r.hypertension_highest_bp&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.hypertension_highest_bp})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"peptic_ulcer_disease",checked:a.past_medical_history.peptic_ulcer_disease.checked,onCheckedChange:s=>n("peptic_ulcer_disease","checked",s)}),e.jsx(c,{htmlFor:"peptic_ulcer_disease",className:"text-sm font-medium",children:"Peptic ulcer disease"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"tuberculosis",checked:a.past_medical_history.tuberculosis.checked,onCheckedChange:s=>n("tuberculosis","checked",s)}),e.jsx(c,{htmlFor:"tuberculosis",className:"text-sm font-medium",children:"Tuberculosis"}),a.past_medical_history.tuberculosis.checked&&e.jsxs("div",{className:"ml-2 flex-1",children:[e.jsx(d,{placeholder:"specify organ",value:a.past_medical_history.tuberculosis.specify_organ||"",onChange:s=>n("tuberculosis","specify_organ",s.target.value),className:r.tuberculosis_specify_organ?"border-red-500":""}),r.tuberculosis_specify_organ&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.tuberculosis_specify_organ})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"others",className:"text-sm font-medium",children:"Others:"}),e.jsx(d,{id:"others",value:a.past_medical_history.others,onChange:s=>y(t=>({...t,past_medical_history:{...t.past_medical_history,others:s.target.value}})),placeholder:"Specify other medical conditions",className:"w-full"})]})]})]}),e.jsxs(N,{children:[e.jsxs(v,{children:[e.jsx(k,{children:"Past Surgical History"}),e.jsx(C,{children:"Record any previous surgical procedures"})]}),e.jsx(F,{className:"space-y-4",children:a.past_surgical_history.map((s,t)=>e.jsx("div",{className:"space-y-4 p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:`operation_${t}`,className:"text-sm font-medium",children:"Operation:"}),e.jsx(d,{id:`operation_${t}`,value:s.operation,onChange:l=>R(t,"operation",l.target.value),placeholder:"Enter operation/procedure name",className:"mt-1"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:`date_${t}`,className:"text-sm font-medium",children:"Date:"}),e.jsx(d,{id:`date_${t}`,type:"date",value:s.date,onChange:l=>R(t,"date",l.target.value),className:"mt-1"})]})]})},t))})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),e.jsxs(T,{type:"submit",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),f?"Update Medical Record":"Add Medical Record"]})]})]})]})]})})}export{qe as default};
