import{a as re,u as ne,j as e,H as le,L as u,r as oe}from"./app-Jdp7iNzl.js";import{r as i}from"./vendor-DkBadjUr.js";import{a as M,t as q}from"./toast-CW2_iv-L.js";import{A as de}from"./AdminLayout-MkvFMA2D.js";import{C as n,a as l,b as o,c as d}from"./card-DAZqRTBe.js";import{B as r}from"./button-bex_LU9I.js";import{B as ce}from"./badge-CxjsEXIx.js";import{I as me}from"./input-NCJ_n0W_.js";import{L as h}from"./label-CGwfsoC9.js";import{T as v}from"./textarea-hvcYZMC6.js";import{S as B,a as O,b as $,c as z,d as G}from"./select-CspDrWdj.js";import{D as xe,a as pe,b as he,c as ge}from"./dialog-Dbk7O2i8.js";import{m as t}from"./proxy-FTaFPFFz.js";import{S as b}from"./stethoscope-QcN9KdKi.js";import{A as ue}from"./activity-C-sjEU5t.js";import{C as Q}from"./circle-check-big-BQVCuGNJ.js";import{C as _}from"./clock-D6yUBuGv.js";import{R as fe}from"./refresh-cw-D3hZ7e_O.js";import{P as je}from"./plus-MavOGQlj.js";import{A as g}from"./arrow-right-Bt_d7m5h.js";import{F as E}from"./file-text-YZXa1D2L.js";import{U as W}from"./users-D4PhO1-D.js";import{C as be}from"./calendar-D9APQM2e.js";import{U as Ne}from"./user-check-DUt8gCrW.js";import{P as we}from"./pill-DIGxtF-3.js";import{S as ye}from"./sparkles-CA5PlEkf.js";import{C as ve}from"./circle-alert-D8zT41fC.js";import"./pusher-DVtoYAOu.js";import"./use-toast-Dm0PN6fH.js";import"./save-CAdd64LS.js";import"./createLucideIcon-BKWaAi2G.js";import"./square-pen-Bb1JtfBr.js";import"./download-BH8XyxCx.js";import"./trash-2-DJ5zXW8D.js";import"./archive-BwGVl8jP.js";import"./info-BVLwYIm5.js";import"./triangle-alert-BslwqqvL.js";import"./circle-x-Cf2XhiVO.js";import"./circle-check-F3PuHnLX.js";import"./index-C03ciVM9.js";import"./avatar-BAXdgfxi.js";import"./react-icons.esm-DopY43hH.js";import"./separator-G__CmUoK.js";import"./index-lVX1eI0n.js";import"./index-CQJFG6sX.js";import"./moment-C5S46NFB.js";import"./calendar--5wQtcvb.js";import"./index-CnT-AOMH.js";import"./tslib.es6-M_FJ09fS.js";import"./index-BhA1pP3R.js";import"./index-at3TdkEY.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput-TBYxTYyX.js";import"./x-b8JahagL.js";import"./settings-D_MeB5oN.js";import"./house-CSq-WFst.js";import"./pusher-CXPEt_wS.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./index-CtTJhX_Z.js";import"./autoprefixer-CS8cX4Yl.js";import"./unit-CopbpOEH.js";import"./Toaster-Cy5NJCTz.js";import"./toast-nqXen4gF.js";import"./index-B2TPyuzg.js";import"./index-BuhCV9Ak.js";import"./layers-OK8ayVTK.js";import"./chart-column-yMaSKbSU.js";import"./index-DqxisvwK.js";function zs({prescriptions:J,recentPrescriptions:K,stats:X,appointments:A,allAppointments:T}){const[C,F]=i.useState(!1),[R,Y]=i.useState(new Date),[x,Z]=i.useState({prescriptions:J||[],recentPrescriptions:K||[],stats:X||{pending:0,dispensed:0,total:0,patients:0}}),[ee,D]=i.useState(!1),[se,S]=i.useState(""),[H,P]=i.useState(null),[N,w]=i.useState([]),[f,y]=i.useState(null),{data:Ce,flash:j}=re().props,{data:c,setData:p,post:De,processing:k,errors:Se,reset:Pe}=ne({appointment_id:"",diagnosis:"",symptoms:"",treatment_plan:"",notes:"",pertinent_findings:""}),I=()=>{y(null),S(""),P(null),w([]),p({appointment_id:"",diagnosis:"",symptoms:"",treatment_plan:"",notes:"",pertinent_findings:""}),D(!0)},V=()=>{D(!1),y(null),S(""),P(null),w([]),p({appointment_id:"",diagnosis:"",symptoms:"",treatment_plan:"",notes:"",pertinent_findings:""})},te=s=>{S(s);const a=A?.find(m=>m.id===parseInt(s));if(P(a),a&&T){console.log("Filtering appointments for:",a.firstname,a.lastname);const m=T.filter(U=>U.firstname===a.firstname&&U.lastname===a.lastname);console.log("Found appointments:",m),w(m)}else w([]);y(null)},ae=s=>{const a=N.find(m=>m.id===parseInt(s));y(a)},ie=s=>{if(s.preventDefault(),!f){alert("Please select an appointment.");return}if(!c.diagnosis.trim()){alert("Please enter a diagnosis.");return}if(!c.symptoms.trim()){alert("Please describe the symptoms.");return}const a={...c,appointment_id:f.id};console.log("Submitting diagnosis with data:",a),oe.post(route("doctor.diagnosis.store"),a,{onSuccess:()=>{V(),M("Diagnosis Created","Diagnosis has been created successfully!","create")},onError:m=>{console.error("Diagnosis submission errors:",m),q("Diagnosis Failed","Error creating diagnosis. Please try again.")}})};i.useEffect(()=>{j?.success&&M("Success",j.success,"create"),j?.error&&q("Error",j.error)},[j]),i.useEffect(()=>{const s=setInterval(()=>{Y(new Date)},1e3);return()=>clearInterval(s)},[]),i.useEffect(()=>{if(window.Echo)return window.Echo.channel("prescription-updates").listen("PrescriptionUpdated",s=>{console.log("Prescription updated, refreshing dashboard...",s),L()}),()=>{window.Echo.leaveChannel("prescription-updates")}},[]);const L=async()=>{F(!0);try{const s=await fetch(route("doctor.dashboard.data"));if(s.ok){const a=await s.json();Z(a)}}catch(s){console.error("Error refreshing dashboard:",s)}finally{F(!1)}};return e.jsxs(de,{header:"Doctor Dashboard",children:[e.jsx(le,{title:"Doctor Dashboard"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-white/10 backdrop-blur-sm",children:e.jsx(b,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Welcome, Doctor!"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your patients and prescriptions with precision"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx(ue,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Real-time Updates"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx(Q,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Secure & Reliable"})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(_,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-100 font-medium",children:"Current Date & Time"}),e.jsx("p",{className:"text-xl font-bold text-white",children:R.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("p",{className:"text-lg font-semibold text-blue-100",children:R.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(r,{onClick:I,className:"bg-white text-green-600 hover:bg-green-50 font-semibold px-6 py-3 shadow-lg",children:[e.jsx(b,{className:"h-5 w-5 mr-2"}),"Create Diagnosis"]})}),e.jsx(t.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(r,{onClick:L,disabled:C,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 backdrop-blur-sm shadow-lg",children:[e.jsx(fe,{className:`h-4 w-4 mr-2 ${C?"animate-spin":""}`}),C?"Refreshing...":"Refresh Data"]})})]})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(t.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.2},children:e.jsxs(n,{className:"group border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 hover:shadow-xl transition-all duration-300",children:[e.jsx(l,{className:"pb-3",children:e.jsxs(o,{className:"text-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-blue-500 text-white group-hover:scale-110 transition-transform",children:e.jsx(je,{className:"h-5 w-5"})}),"New Prescription"]})}),e.jsxs(d,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Create a new prescription for a patient"}),e.jsx(u,{href:route("doctor.prescriptions.create"),children:e.jsxs(r,{className:"w-full bg-blue-600 hover:bg-blue-700 group-hover:shadow-lg transition-all duration-300",children:["Create Prescription",e.jsx(g,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})}),e.jsx(t.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.2},children:e.jsxs(n,{className:"group border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 hover:shadow-xl transition-all duration-300",children:[e.jsx(l,{className:"pb-3",children:e.jsxs(o,{className:"text-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-green-500 text-white group-hover:scale-110 transition-transform",children:e.jsx(E,{className:"h-5 w-5"})}),"View Prescriptions"]})}),e.jsxs(d,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"View and manage all prescriptions"}),e.jsx(u,{href:route("doctor.prescriptions"),children:e.jsxs(r,{variant:"outline",className:"w-full border-green-200 text-green-700 hover:bg-green-50 group-hover:shadow-lg transition-all duration-300",children:["View All",e.jsx(g,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})}),e.jsx(t.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.2},children:e.jsxs(n,{className:"group border-0 shadow-lg bg-gradient-to-br from-emerald-50 to-emerald-100 hover:shadow-xl transition-all duration-300",children:[e.jsx(l,{className:"pb-3",children:e.jsxs(o,{className:"text-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-emerald-500 text-white group-hover:scale-110 transition-transform",children:e.jsx(b,{className:"h-5 w-5"})}),"Create Diagnosis"]})}),e.jsxs(d,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Create diagnosis for patient appointments"}),e.jsxs(r,{onClick:I,className:"w-full bg-emerald-600 hover:bg-emerald-700 group-hover:shadow-lg transition-all duration-300",children:["Create Diagnosis",e.jsx(g,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})}),e.jsx(t.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.2},children:e.jsxs(n,{className:"group border-0 shadow-lg bg-gradient-to-br from-indigo-50 to-indigo-100 hover:shadow-xl transition-all duration-300",children:[e.jsx(l,{className:"pb-3",children:e.jsxs(o,{className:"text-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-indigo-500 text-white group-hover:scale-110 transition-transform",children:e.jsx(b,{className:"h-5 w-5"})}),"View Diagnosis"]})}),e.jsxs(d,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"View and manage diagnosis history"}),e.jsx(u,{href:route("doctor.diagnosis.index"),children:e.jsxs(r,{variant:"outline",className:"w-full border-indigo-200 text-indigo-700 hover:bg-indigo-50 group-hover:shadow-lg transition-all duration-300",children:["View Diagnosis",e.jsx(g,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})}),e.jsx(t.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.2},children:e.jsxs(n,{className:"group border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 hover:shadow-xl transition-all duration-300",children:[e.jsx(l,{className:"pb-3",children:e.jsxs(o,{className:"text-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-purple-500 text-white group-hover:scale-110 transition-transform",children:e.jsx(W,{className:"h-5 w-5"})}),"Patients"]})}),e.jsxs(d,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Manage patient information"}),e.jsx(u,{href:route("patients.index"),children:e.jsxs(r,{variant:"outline",className:"w-full border-purple-200 text-purple-700 hover:bg-purple-50 group-hover:shadow-lg transition-all duration-300",children:["Patient Records",e.jsx(g,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})}),e.jsx(t.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.2},children:e.jsxs(n,{className:"group border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 hover:shadow-xl transition-all duration-300",children:[e.jsx(l,{className:"pb-3",children:e.jsxs(o,{className:"text-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-orange-500 text-white group-hover:scale-110 transition-transform",children:e.jsx(be,{className:"h-5 w-5"})}),"Appointments"]})}),e.jsxs(d,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"View your appointments"}),e.jsx(u,{href:route("admin.appointments"),children:e.jsxs(r,{variant:"outline",className:"w-full border-orange-200 text-orange-700 hover:bg-orange-50 group-hover:shadow-lg transition-all duration-300",children:["Appointments",e.jsx(g,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(n,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(l,{className:"pb-4",children:e.jsxs(o,{className:"flex items-center gap-3 text-xl font-bold text-gray-800",children:[e.jsx("div",{className:"p-2 rounded-xl bg-yellow-100",children:e.jsx(_,{className:"h-6 w-6 text-yellow-600"})}),"Recent Prescriptions"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[x.recentPrescriptions.length===0?e.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(E,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-sm font-medium",children:"No recent prescriptions"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first prescription to get started"})]}):e.jsx("div",{className:"space-y-3",children:x.recentPrescriptions.map((s,a)=>e.jsx(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:a*.1},className:"group p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all duration-300",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.prescription_number}),e.jsx(ce,{className:`text-xs ${s.status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":s.status==="dispensed"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:s.status==="pending"?"Pending":s.status==="dispensed"?"Dispensed":"Cancelled"})]}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsx(Ne,{className:"h-4 w-4"}),s.patient_name]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(s.created_at).toLocaleDateString()})]})})},s.id))}),e.jsx("div",{className:"text-center pt-4",children:e.jsx(u,{href:route("doctor.prescriptions"),children:e.jsxs(r,{variant:"outline",size:"sm",className:"group",children:["View All Prescriptions",e.jsx(g,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]})})]}),e.jsxs(n,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(l,{className:"pb-4",children:e.jsxs(o,{className:"flex items-center gap-3 text-xl font-bold text-gray-800",children:[e.jsx("div",{className:"p-2 rounded-xl bg-blue-100",children:e.jsx(we,{className:"h-6 w-6 text-blue-600"})}),"Quick Stats"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-yellow-100 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-500 text-white",children:e.jsx(_,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Pending Prescriptions"})]}),e.jsx("span",{className:"text-3xl font-bold text-yellow-600",children:x.stats.pending})]}),e.jsxs(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-green-50 to-green-100 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500 text-white",children:e.jsx(Q,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Dispensed Today"})]}),e.jsx("span",{className:"text-3xl font-bold text-green-600",children:x.stats.dispensed_today||0})]}),e.jsxs(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.3},className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500 text-white",children:e.jsx(W,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Total Patients"})]}),e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:x.stats.patients})]}),e.jsxs(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.4},className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500 text-white",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Total Prescriptions"})]}),e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:x.stats.total})]}),e.jsxs(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5},className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-indigo-50 to-indigo-100 border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-indigo-500 text-white",children:e.jsx(b,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Total Diagnosis"})]}),e.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:x.stats.diagnoses||0})]})]})})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:e.jsxs(n,{className:"border-0 shadow-lg bg-gradient-to-br from-indigo-50 to-blue-50",children:[e.jsx(l,{className:"pb-4",children:e.jsxs(o,{className:"flex items-center gap-3 text-2xl font-bold text-gray-800",children:[e.jsx("div",{className:"p-2 rounded-xl bg-indigo-100",children:e.jsx(ye,{className:"h-6 w-6 text-indigo-600"})}),"Getting Started"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"flex items-start gap-4 p-4 rounded-xl bg-white/60 backdrop-blur-sm border border-indigo-200 hover:shadow-md transition-all duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Create a Prescription"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Start by creating a new prescription for your patient with all necessary details"})]})]}),e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"flex items-start gap-4 p-4 rounded-xl bg-white/60 backdrop-blur-sm border border-indigo-200 hover:shadow-md transition-all duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Add Medicines"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Specify dosages, frequency, and detailed instructions for each medicine"})]})]}),e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.3},className:"flex items-start gap-4 p-4 rounded-xl bg-white/60 backdrop-blur-sm border border-indigo-200 hover:shadow-md transition-all duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Submit for Dispensing"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"The pharmacist will receive the prescription and dispense the medicines to your patient"})]})]})]})})]})})]}),e.jsx(xe,{open:ee,onOpenChange:D,children:e.jsxs(pe,{className:"max-w-2xl",children:[e.jsx(he,{children:e.jsx(ge,{children:"Create Diagnosis"})}),e.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"patient_selection",className:"text-sm font-semibold text-gray-700 block",children:"Select Patient *"}),e.jsxs(B,{value:se,onValueChange:te,children:[e.jsx(O,{className:"mt-1 w-full",children:e.jsx($,{placeholder:"Choose a patient"})}),e.jsx(z,{children:A?.filter(s=>s.status===5).map(s=>e.jsx(G,{value:s.id.toString(),children:e.jsxs("div",{className:"font-medium text-sm",children:[s.firstname," ",s.lastname]})},s.id))})]})]}),H&&N.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"appointment_selection",className:"text-sm font-semibold text-gray-700 block",children:"Select Appointment *"}),e.jsxs(B,{value:f?.id?.toString()||"",onValueChange:ae,children:[e.jsx(O,{className:"mt-1 w-full",children:e.jsx($,{placeholder:"Choose an appointment"})}),e.jsx(z,{children:N.map(s=>e.jsx(G,{value:s.id.toString(),children:e.jsx("div",{className:"font-medium text-sm",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("span",{children:[s.service_name," - ",new Date(s.appointment_date).toLocaleDateString()]}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["ID: ",s.id]})]})})},s.id))})]})]}),H&&N.length===0&&e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-5 w-5 text-yellow-600"}),e.jsx("p",{className:"text-yellow-800 text-sm",children:"This patient has no confirmed appointments available for diagnosis."})]})}),f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"pertinent_findings",className:"text-sm font-semibold text-gray-700 block",children:"Pertinent Findings *"}),e.jsx(v,{id:"pertinent_findings",value:c.pertinent_findings,onChange:s=>p("pertinent_findings",s.target.value),placeholder:"Enter pertinent findings from examination",className:"w-full",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"diagnosis",className:"text-sm font-semibold text-gray-700 block",children:"Diagnosis *"}),e.jsx(me,{id:"diagnosis",type:"text",value:c.diagnosis,onChange:s=>p("diagnosis",s.target.value),placeholder:"Enter the primary diagnosis",className:"w-full",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"symptoms",className:"text-sm font-semibold text-gray-700 block",children:"Symptoms *"}),e.jsx(v,{id:"symptoms",value:c.symptoms,onChange:s=>p("symptoms",s.target.value),placeholder:"Describe the patient's symptoms",className:"w-full",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"notes",className:"text-sm font-semibold text-gray-700 block",children:"Assessment *"}),e.jsx(v,{id:"notes",value:c.notes,onChange:s=>p("notes",s.target.value),placeholder:"Assessment for the patient",className:"w-full",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"treatment_plan",className:"text-sm font-semibold text-gray-700 block",children:"Treatment Plan *"}),e.jsx(v,{id:"treatment_plan",value:c.treatment_plan,onChange:s=>p("treatment_plan",s.target.value),placeholder:"Describe the recommended treatment plan",className:"w-full",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(r,{type:"button",variant:"outline",onClick:V,disabled:k,children:"Cancel"}),e.jsx(r,{type:"submit",disabled:k||!f,className:"bg-blue-600 hover:bg-blue-700",children:k?"Creating...":"Create Diagnosis"})]})]})]})})]})}export{zs as default};
