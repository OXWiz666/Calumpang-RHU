import{j as e}from"./app-Ci6FsPEI.js";import{r as c,R as le}from"./vendor-DkBadjUr.js";import{A as Nt}from"./AdminLayout-DvrTmQBr.js";import{C as R,a as F,b as B,c as A}from"./card-aZhT47Dl.js";import{B as m}from"./button-CNgURIMK.js";import{B as I}from"./badge-B0i2gCu5.js";import{I as U}from"./input-CCqrrlXQ.js";import{S as w,a as S,b as D,c as _,d as i}from"./select-Bs3uVyOJ.js";import vt from"./BatchDisposalModal-Bi1LnbiU.js";import{m as h}from"./proxy-bGmOedB6.js";import{B as fe}from"./building-2-DmPcAwng.js";import{S as ne}from"./shield-B7gr9OVN.js";import{A as wt}from"./award-CPjvI0Ja.js";import{P as St}from"./printer-CfgcPaUh.js";import{S as je}from"./settings-D_MeB5oN.js";import{F as k}from"./file-text-YZXa1D2L.js";import{C as Ne}from"./circle-check-big-BQVCuGNJ.js";import{P as V}from"./package-L7rgkkVO.js";import{T as ve}from"./trending-up-BFbz08q-.js";import{T as oe}from"./triangle-alert-BslwqqvL.js";import{C as X}from"./circle-x-Cf2XhiVO.js";import{C as ce}from"./calendar-D9APQM2e.js";import{S as we}from"./search-Cye_TdpF.js";import{F as Se}from"./filter-BAwJ6QQu.js";import{D as Y}from"./download-BH8XyxCx.js";import{C as De}from"./chart-column-yMaSKbSU.js";import{C as Dt}from"./chevron-left-B36-TXNE.js";import{C as _t}from"./chevron-right-B3qqnx4D.js";import{T as _e}from"./trash-2-DJ5zXW8D.js";import{C as ke}from"./circle-alert-D8zT41fC.js";import{C as kt}from"./clock-D6yUBuGv.js";import"./pusher-DVtoYAOu.js";import"./index-BpVWxWkG.js";import"./avatar-CDwiAaCj.js";import"./react-icons.esm-Cg1Z9ZGK.js";import"./separator-XmNd4rCi.js";import"./index-PUx0SOs8.js";import"./index-D0_reY7q.js";import"./moment-C5S46NFB.js";import"./dialog-NMjAdLkI.js";import"./index-BYyo8n0W.js";import"./tslib.es6-M_FJ09fS.js";import"./label-Bsu9V-2p.js";import"./calendar-C_O0gbX6.js";import"./index-DbZPFhJ9.js";import"./index-CuaviD7G.js";import"./format-Dp3w_Y3x.js";import"./isBefore-COsor6RJ.js";import"./isSameMonth-BOwz-_mK.js";import"./TextInput-ZPi1BB0P.js";import"./createLucideIcon-BKWaAi2G.js";import"./x-b8JahagL.js";import"./house-CSq-WFst.js";import"./users-D4PhO1-D.js";import"./pusher-AxtNKRPu.js";import"./pill-DIGxtF-3.js";import"./bell-HhCf5F9O.js";import"./index-BAO1aZYw.js";import"./autoprefixer-uFe7yxdA.js";import"./unit-CopbpOEH.js";import"./Toaster-DfG7JimY.js";import"./toast-CfLCVPii.js";import"./index-B6i_t9H1.js";import"./index-MVKj6Ku2.js";import"./layers-OK8ayVTK.js";import"./index-DqxisvwK.js";import"./textarea-CmmM-UAe.js";import"./hash-AgYeaIxt.js";function Hs({analytics:Ce={},expiredBatches:Q=[],expiringSoonBatches:Re=[],expiredBatchesCount:L=0,expiringSoonBatchesCount:M=0,inventoryItems:Ae=[],dispensingData:Ee=[],dispensingSummary:Te={},topDispensedItems:Ie=[]}){const[d,Pe]=c.useState(""),[$,Fe]=c.useState("30d"),[Le,Me]=c.useState(""),[J,Oe]=c.useState(!1),[C,z]=c.useState(null),[de,G]=c.useState(!1),[v,me]=c.useState([]),[Be,K]=c.useState(!1),[Ue,W]=c.useState(null),[pe,Z]=c.useState(!1),[E,ee]=c.useState(1),[q]=c.useState(5),[u,$e]=c.useState("all"),[g,ze]=c.useState("all"),[y,Ge]=c.useState("all"),[r,P]=c.useState({selectedReportTypes:[],includeInventorySummary:!1,includeDispensingActivity:!1,includeExpiryReport:!1,includeDisposalReport:!1,includeExpiredBatches:!1,customTitle:"",customDescription:""}),[Ct,Rt]=c.useState(!1),te=E*q,xe=te-q,he=v.slice(xe,te),se=Math.ceil(v.length/q),qe=t=>{ee(t)},He=()=>{E>1&&ee(E-1)},Ve=()=>{E<se&&ee(E+1)},[b,Xe]=c.useState("name"),[f,Ye]=c.useState("asc"),[j,Qe]=c.useState(100),[ue,Je]=c.useState({analytics:Ce||{},inventoryItems:Ae||[],expiredBatches:Q||[],expiringSoonBatches:Re||[],expiredBatchesCount:L||0,expiringSoonBatchesCount:M||0,dispensingData:Ee||[],dispensingSummary:Te||{},topDispensedItems:Ie||[]}),[At,ge]=c.useState(!1),[re,Ke]=c.useState(!1),[We,H]=c.useState(!1),[p,T]=c.useState({defaultFormat:"pdf",autoRefresh:!1,emailNotifications:!1,defaultDateRange:"30d",defaultSortBy:"name",defaultSortOrder:"asc",maxResults:100});le.useEffect(()=>{const t=localStorage.getItem("pharmacist_reports_history");if(t)try{const s=JSON.parse(t);me(s)}catch(s){console.error("Error loading report history:",s)}},[]);const Ze=async()=>{ge(!0);try{const t=await fetch("/pharmacist/inventory-reports/dashboard-analytics",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=await t.json();Je(s)}catch(t){console.error("Error loading dashboard analytics:",t)}finally{ge(!1)}};le.useEffect(()=>{(!ue.analytics||Object.keys(ue.analytics).length===0)&&Ze()},[]);const et=async()=>{try{const s=["inventory_summary","expiry_report","dispensing_report","low_stock_alert"].map(async a=>{const l=`/pharmacist/inventory-reports/${a}?format=pdf`;return window.open(l,"_blank")});await Promise.all(s),showToast("Success","All reports are being generated and opened in new tabs","success")}catch(t){console.error("Error printing all reports:",t),showToast("Error","Failed to print all reports. Please try again.","error")}},tt=()=>{H(!0)},st=()=>{localStorage.setItem("pharmacist_report_settings",JSON.stringify(p)),showToast("Success","Report settings saved successfully","success"),H(!1)};le.useEffect(()=>{const t=localStorage.getItem("pharmacist_report_settings");if(t)try{T(JSON.parse(t))}catch(s){console.error("Error loading report settings:",s)}},[]);const rt=t=>{const s=JSON.stringify(t);return`${(new Blob([s]).size/(1024*1024)).toFixed(1)} MB`},O=t=>({inventory_summary:"Inventory Summary",dispensing_report:"Dispensing Report",low_stock_alert:"Disposal Report",expiry_report:"Stock Movement Reports",expired_batches:"Expired Batches Report",custom_report:"Custom Report"})[t]||"Unknown Report",ye=(t,s)=>{const l=[{id:Date.now(),name:`${O(s)} - ${new Date().toLocaleDateString()}`,type:s,generated:new Date().toISOString().split("T")[0],size:rt(t),status:"completed",data:t,generatedAt:new Date().toISOString()},...v].slice(0,10);me(l),localStorage.setItem("pharmacist_reports_history",JSON.stringify(l))},at=t=>{t.data&&(z(t.data),setTimeout(()=>{be()},100))},it=t=>{W(t),Z(!1),K(!0)},lt=()=>{W(null),Z(!0),K(!0)},nt=()=>{K(!1),W(null),Z(!1)},ot=[{id:"inventory_summary",title:"Inventory Summary Report",description:"Official comprehensive overview of pharmaceutical inventory status",icon:V,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",hoverColor:"hover:border-blue-400",official:!0,category:"Inventory Management"},{id:"dispensing_report",title:"Dispensing Activity Report",description:"Detailed official record of all dispensed medications and prescriptions",icon:ve,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",hoverColor:"hover:border-green-400",official:!0,category:"Patient Care"},{id:"low_stock_alert",title:"Disposal Report",description:"Comprehensive report of items requiring disposal or disposal tracking",icon:oe,color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",hoverColor:"hover:border-amber-400",official:!0,category:"Critical Alerts"},{id:"expiry_report",title:"Stock Movement Reports",description:"Comprehensive tracking of all stock movements and inventory transactions",icon:ve,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",hoverColor:"hover:border-blue-400",official:!0,category:"Inventory Management"},{id:"expired_batches",title:"Expired Batches Report",description:"Official summary of all expired medication batches for disposal",icon:X,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",hoverColor:"hover:border-red-400",official:!0,category:"Quality Control"},{id:"custom_report",title:"Custom Official Report",description:"Create comprehensive reports by selecting specific report types and criteria",icon:k,color:"text-indigo-600",bgColor:"bg-indigo-50",borderColor:"border-indigo-200",hoverColor:"hover:border-indigo-400",official:!0,category:"Custom Reports"}],ct=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},dt=t=>!t||t.length===0?[]:t.map(s=>({id:s.id,name:s.name,category:s.category||"Uncategorized",manufacturer:s.manufacturer||"N/A",quantity:s.quantity||0,unit:s.unit||"pieces",batchNumber:s.batch_number||"N/A",expiryDate:s.expiry_date||"N/A",storageLocation:s.storage_location||"N/A",status:s.status||"Active",priority:s.priority||"Low",daysUntilExpiry:s.days_until_expiry,createdAt:s.created_at,updatedAt:s.updated_at})),mt=t=>!t||t.length===0?[]:t.map(s=>({id:s.id||Math.random(),name:s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",batchNumber:s["Batch Number"]||"N/A",quantityDisposed:s["Quantity Disposed"]||0,disposalDate:s["Disposal Date"]||"N/A",reason:s.Reason||"N/A",disposedBy:s["Disposed By"]||"Unknown",manufacturer:s.Manufacturer||"N/A",expiryDate:s["Expiry Date"]||"N/A",notes:s.Notes||"N/A"})),pt=t=>{try{if(!t||t==="N/A")return"N/A";const s=new Date(t);return isNaN(s.getTime())?"N/A":s.toLocaleDateString()}catch{return"N/A"}},xt=t=>{try{if(!t||t==="N/A")return"N/A";const s=new Date(t);return isNaN(s.getTime())?"N/A":s.toLocaleTimeString()}catch{return"N/A"}},ht=t=>!t||t.length===0?[]:t.map(s=>({id:s.id||Math.random(),name:s["Item Name"]||"Unknown Item",manufacturer:s.Manufacturer||"N/A",patientName:s["Patient Name"]||"N/A",prescriptionNumber:s["Prescription Number"]||"-",quantity:s["Total Dispensed"]||0,unit:s["Unit Type"]||"pieces",batchNumber:s["Batch Number"]||"N/A",staffName:s["Most Recent Staff"]||"N/A",reason:s.Reason||"Dispensed",date:s["Last Dispensed"]||"N/A",genericName:s["Generic Name"]||s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",totalDispensed:s["Total Dispensed"]||0,dispenseCount:s["Dispense Count"]||0,averagePerDispense:s["Average per Dispense"]||0,firstDispensed:s["First Dispensed"]||"N/A",lastDispensed:s["Last Dispensed"]||"N/A",expiryDate:s["Expiry Date"]||"N/A"})),ut=t=>!t||t.length===0?[]:t.map(s=>({id:s["Movement ID"]||Math.random(),name:s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",movementType:s["Movement Type"]||"Unknown",quantity:s.Quantity||0,batchNumber:s["Batch Number"]||"N/A",movementDate:s["Movement Date"]||"N/A",staffMember:s["Staff Member"]||"Unknown",reason:s.Reason||"N/A",manufacturer:s.Manufacturer||"N/A",expiryDate:s["Expiry Date"]||"N/A",notes:s.Notes||"N/A"})),gt=t=>!t||t.length===0?[]:t.map(s=>({id:s["Item Name"]||Math.random(),name:s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",batchNumber:s["Batch Number"]||"N/A",currentStock:s["Current Stock"]||0,unitType:s["Unit Type"]||"pieces",expiryDate:s["Expiry Date"]||"N/A",daysExpired:s["Days Expired"]||0,status:s.Status||"Expired",manufacturer:s.Manufacturer||"N/A",storageLocation:s["Storage Location"]||"N/A"})),ae=t=>{if(!t||t==="N/A")return!1;try{return new Date(t)<new Date}catch{return!1}},ie=t=>{if(!t||t==="N/A")return!1;try{const s=new Date(t),l=Math.ceil((s-new Date)/(1e3*60*60*24));return l<=30&&l>0}catch{return!1}},yt=t=>ae(t.expiryDate)?"expired":ie(t.expiryDate)?"expiring_soon":t.quantity===0?"out_of_stock":t.quantity<=t.minimumStock?"low_stock":"in_stock",bt=async()=>{if(d){G(!0);try{const t=new URLSearchParams;t.append("format","json"),u!=="all"&&t.append("category_id",u),g!=="all"&&t.append("status",g),y!=="all"&&t.append("priority",y),b!=="name"&&t.append("sort_by",b),f!=="asc"&&t.append("sort_order",f),j!==100&&t.append("limit",j);const s=new Date,a=new Date;switch($){case"7d":a.setDate(s.getDate()-7);break;case"30d":a.setDate(s.getDate()-30);break;case"90d":a.setDate(s.getDate()-90);break;case"1y":a.setFullYear(s.getFullYear()-1);break}t.append("start_date",a.toISOString().split("T")[0]),t.append("end_date",s.toISOString().split("T")[0]);let l="/pharmacist/inventory-reports/summary";switch(d){case"inventory_summary":l="/pharmacist/inventory-reports/summary";break;case"expiry_report":l="/pharmacist/inventory-reports/expiry";break;case"dispensing_report":l="/pharmacist/inventory-reports/dispensing";break;case"low_stock_alert":l="/pharmacist/inventory-reports/low-stock-alert";break;case"expired_batches":l="/pharmacist/inventory-reports/expired-batches";break;default:l="/pharmacist/inventory-reports/summary"}const n=await(await fetch(`${l}?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin"})).json();let o=[];d==="low_stock_alert"?o=mt(n.items||n.data||n):d==="dispensing_report"?o=ht(n.items||n.data||n):d==="expiry_report"?o=ut(n.items||n.data||n):d==="expired_batches"?o=gt(n.items||n.data||n):o=dt(n.items||n.data||n);const x={title:O(d),subtitle:`Generated on ${new Date().toLocaleString()}`,items:o,summary:n.analytics||{},generatedAt:new Date().toISOString(),filters:{category:u,status:g,priority:y,sortBy:b,sortOrder:f,limit:j}};z(x),ye(x,d)}catch(t){console.error("Error generating report:",t),alert("Error generating report: "+t.message)}finally{G(!1)}}},ft=async()=>{if(!(!r.includeInventorySummary&&!r.includeDispensingActivity&&!r.includeExpiryReport&&!r.includeDisposalReport&&!r.includeExpiredBatches)){G(!0);try{const t=new URLSearchParams;t.append("format","json"),t.append("custom_report","true"),r.includeInventorySummary&&t.append("include_types[]","inventory_summary"),r.includeDispensingActivity&&t.append("include_types[]","dispensing_report"),r.includeExpiryReport&&t.append("include_types[]","expiry_report"),r.includeDisposalReport&&t.append("include_types[]","low_stock_alert"),r.includeExpiredBatches&&t.append("include_types[]","expired_batches"),r.customTitle&&t.append("custom_title",r.customTitle),r.customDescription&&t.append("custom_description",r.customDescription),u!=="all"&&t.append("category_id",u),g!=="all"&&t.append("status",g),y!=="all"&&t.append("priority",y),t.append("sort_by",b),t.append("sort_order",f),t.append("limit",j);const s=await fetch(`/pharmacist/inventory-reports/custom?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json(),l={title:r.customTitle||"Custom Official Report",subtitle:`Generated on ${new Date().toLocaleString()}`,description:r.customDescription||"Comprehensive custom report with selected data sections",items:a.reportData||a,summary:a.analytics||{},customConfig:r,filters:{category:u,status:g,priority:y,sortBy:b,sortOrder:f,limit:j},generatedAt:new Date().toISOString()};z(l),ye(l,"custom_report")}catch(t){console.error("Error generating custom report:",t),alert("Error generating custom report: "+t.message)}finally{G(!1)}}},be=async()=>{console.log("PDF download requested"),console.log("Selected report type:",d),console.log("Generated report available:",!!C);const t=d||"inventory_summary";try{let s;switch(t){case"inventory_summary":s="/pharmacist/inventory-reports/summary?format=pdf";break;case"expiry_report":s="/pharmacist/inventory-reports/expiry?format=pdf";break;case"dispensing_report":s="/pharmacist/inventory-reports/dispensing?format=pdf";break;case"low_stock_alert":s="/pharmacist/inventory-reports/low-stock-alert?format=pdf";break;case"expired_batches":s="/pharmacist/inventory-reports/expired-batches?format=pdf";break;case"custom_report":const x=new URLSearchParams;x.append("format","pdf"),x.append("custom_report","true"),r.includeInventorySummary&&x.append("include_types[]","inventory_summary"),r.includeDispensingActivity&&x.append("include_types[]","dispensing_report"),r.includeExpiryReport&&x.append("include_types[]","expiry_report"),r.includeDisposalReport&&x.append("include_types[]","low_stock_alert"),r.includeExpiredBatches&&x.append("include_types[]","expired_batches"),r.customTitle&&x.append("custom_title",r.customTitle),r.customDescription&&x.append("custom_description",r.customDescription),x.append("include_charts",r.includeCharts?"1":"0"),x.append("include_analytics",r.includeAnalytics?"1":"0"),s=`/pharmacist/inventory-reports/custom?${x.toString()}`;break;default:s="/pharmacist/inventory-reports/summary?format=pdf"}const a=new URLSearchParams;u&&u!=="all"&&a.append("category_id",u),g&&g!=="all"&&a.append("status",g),y&&y!=="all"&&a.append("priority",y),b&&b!=="name"&&a.append("sort_by",b),f&&f!=="asc"&&a.append("sort_order",f),j&&j!==100&&a.append("limit",j);const l=new Date,N=new Date;switch($){case"7d":N.setDate(l.getDate()-7);break;case"30d":N.setDate(l.getDate()-30);break;case"90d":N.setDate(l.getDate()-90);break;case"1y":N.setFullYear(l.getFullYear()-1);break}a.append("start_date",N.toISOString().split("T")[0]),a.append("end_date",l.toISOString().split("T")[0]);const n=`${s}${a.toString()?"&"+a.toString():""}`;console.log("Generated PDF URL:",n),console.log("Downloading PDF from:",n);const o=document.createElement("a");o.href=n,o.download=`${O(t).replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(s){console.error("Error generating PDF:",s),alert(`Error generating PDF: ${s.message}. Please try again.`)}},jt=async()=>{if(d)try{let t;switch(d){case"inventory_summary":t="/pharmacist/inventory-reports/summary?format=excel";break;case"expiry_report":t="/pharmacist/inventory-reports/expiry?format=excel";break;case"dispensing_report":t="/pharmacist/inventory-reports/dispensing?format=excel";break;case"low_stock_alert":t="/pharmacist/inventory-reports/low-stock-alert?format=excel";break;case"expired_batches":t="/pharmacist/inventory-reports/expired-batches?format=excel";break;case"custom_report":const o=new URLSearchParams;o.append("format","excel"),o.append("custom_report","true"),r.includeInventorySummary&&o.append("include_types[]","inventory_summary"),r.includeDispensingActivity&&o.append("include_types[]","dispensing_report"),r.includeExpiryReport&&o.append("include_types[]","expiry_report"),r.includeDisposalReport&&o.append("include_types[]","low_stock_alert"),r.includeExpiredBatches&&o.append("include_types[]","expired_batches"),r.customTitle&&o.append("custom_title",r.customTitle),r.customDescription&&o.append("custom_description",r.customDescription),o.append("include_charts",r.includeCharts?"1":"0"),o.append("include_analytics",r.includeAnalytics?"1":"0"),t=`/pharmacist/inventory-reports/custom?${o.toString()}`;break;default:t="/pharmacist/inventory-reports/summary?format=excel"}const s=new URLSearchParams;u&&u!=="all"&&s.append("category_id",u),g&&g!=="all"&&s.append("status",g),y&&y!=="all"&&s.append("priority",y),b&&b!=="name"&&s.append("sort_by",b),f&&f!=="asc"&&s.append("sort_order",f),j&&j!==100&&s.append("limit",j);const a=new Date,l=new Date;switch($){case"7d":l.setDate(a.getDate()-7);break;case"30d":l.setDate(a.getDate()-30);break;case"90d":l.setDate(a.getDate()-90);break;case"1y":l.setFullYear(a.getFullYear()-1);break}s.append("start_date",l.toISOString().split("T")[0]),s.append("end_date",a.toISOString().split("T")[0]);const N=`${t}${s.toString()?"&"+s.toString():""}`;console.log("Generated Excel URL:",N),console.log("Downloading Excel from:",N);const n=document.createElement("a");n.href=N,n.download=`${O(d).replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(t){console.error("Error generating Excel:",t),alert("Error generating Excel file. Please try again.")}};return e.jsxs(Nt,{header:"Reports",children:[e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden bg-gradient-to-r from-blue-900 via-blue-800 to-indigo-900 rounded-xl p-8 text-white",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(fe,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"RURAL HEALTH UNIT CALUMPANG"}),e.jsx("p",{className:"text-blue-100 text-lg font-medium",children:"Pharmacy Department - Reports & Analytics"})]})]}),e.jsx("p",{className:"text-blue-100 text-lg max-w-2xl",children:"Professional inventory management and pharmaceutical reporting system for government healthcare services"}),e.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-200"}),e.jsx("span",{className:"text-blue-100 font-medium",children:"Official Government System"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"h-5 w-5 text-blue-200"}),e.jsx("span",{className:"text-blue-100 font-medium",children:"Certified Healthcare Reports"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[e.jsxs(m,{variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm",onClick:et,children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),"Print All Reports"]}),e.jsxs(m,{className:"bg-white text-blue-900 hover:bg-blue-50 font-semibold",onClick:tt,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Report Settings"]})]})]})})]}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:e.jsxs(R,{className:"border-2 border-blue-200 shadow-lg",children:[e.jsx(F,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b-2 border-blue-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(k,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(B,{className:"text-2xl font-bold text-blue-900",children:"Generate Official Report"}),e.jsx("p",{className:"text-blue-700 text-base",children:"Create professional government healthcare reports"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(I,{className:"bg-blue-100 text-blue-800 border-blue-200 px-3 py-1",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Official Document"]})})]})}),e.jsxs(A,{className:"p-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ot.map(t=>e.jsx(h.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},transition:{duration:.2},children:e.jsx("button",{onClick:()=>Pe(t.id),className:`w-full p-6 rounded-xl border-2 transition-all duration-300 text-left group ${d===t.id?`border-blue-500 bg-blue-50 shadow-lg ${t.hoverColor}`:`${t.borderColor} hover:shadow-md ${t.hoverColor}`}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${t.bgColor} group-hover:scale-110 transition-transform duration-200`,children:e.jsx(t.icon,{className:`h-6 w-6 ${t.color}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:t.title}),t.official&&e.jsxs(I,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs",children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),"Official"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:t.description}),e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(I,{variant:"outline",className:"text-xs",children:t.category})})]})]})})},t.id))}),d&&e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-12 p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(je,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Report Configuration"}),e.jsx("p",{className:"text-blue-700 text-base",children:"Configure your official government report parameters"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-blue-900 mb-3",children:[e.jsx(ce,{className:"h-4 w-4 inline mr-2"}),"Report Period"]}),e.jsxs(w,{value:$,onValueChange:Fe,children:[e.jsx(S,{className:"border-blue-300 focus:border-blue-500 h-12",children:e.jsx(D,{placeholder:"Select date range"})}),e.jsxs(_,{children:[e.jsx(i,{value:"7d",children:"Last 7 days"}),e.jsx(i,{value:"30d",children:"Last 30 days"}),e.jsx(i,{value:"90d",children:"Last 90 days"}),e.jsx(i,{value:"1y",children:"Last year"}),e.jsx(i,{value:"custom",children:"Custom range"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-blue-900 mb-3",children:[e.jsx(we,{className:"h-4 w-4 inline mr-2"}),"Search Filter"]}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-3 h-4 w-4 text-blue-400"}),e.jsx(U,{placeholder:"Search items...",value:Le,onChange:t=>Me(t.target.value),className:"pl-10 border-blue-300 focus:border-blue-500 h-12"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-blue-900 mb-2",children:[e.jsx(k,{className:"h-4 w-4 inline mr-2"}),"Generate Report"]}),e.jsx(m,{onClick:bt,disabled:de,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3",children:de?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Official Report..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Generate Official Report"]})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs(m,{variant:"outline",onClick:()=>Ke(!re),className:"mb-4 border-blue-300 text-blue-700 hover:bg-blue-50",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),re?"Hide":"Show"," Advanced Filters"]}),re&&e.jsxs(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-bold text-blue-900",children:"Category"}),e.jsxs(w,{value:u,onValueChange:$e,children:[e.jsx(S,{className:"border-blue-300",children:e.jsx(D,{placeholder:"All Categories"})}),e.jsxs(_,{children:[e.jsx(i,{value:"all",children:"All Categories"}),e.jsx(i,{value:"medicine",children:"Medicine"}),e.jsx(i,{value:"vaccine",children:"Vaccine"}),e.jsx(i,{value:"supplies",children:"Medical Supplies"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-bold text-blue-900",children:"Status"}),e.jsxs(w,{value:g,onValueChange:ze,children:[e.jsx(S,{className:"border-blue-300",children:e.jsx(D,{placeholder:"All Statuses"})}),e.jsxs(_,{children:[e.jsx(i,{value:"all",children:"All Statuses"}),e.jsx(i,{value:"active",children:"Active"}),e.jsx(i,{value:"low_stock",children:"Low Stock Items"}),e.jsx(i,{value:"out_of_stock",children:"Out of Stock Items"}),e.jsx(i,{value:"expired",children:"Expired Items"}),e.jsx(i,{value:"expiring_soon",children:"Expiring Soon Items"}),e.jsx(i,{value:"critical_expiry",children:"Critical Expiry"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-bold text-blue-900",children:"Priority"}),e.jsxs(w,{value:y,onValueChange:Ge,children:[e.jsx(S,{className:"border-blue-300",children:e.jsx(D,{placeholder:"All Priorities"})}),e.jsxs(_,{children:[e.jsx(i,{value:"all",children:"All Priorities"}),e.jsx(i,{value:"high",children:"High Priority"}),e.jsx(i,{value:"medium",children:"Medium Priority"}),e.jsx(i,{value:"low",children:"Low Priority"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-bold text-blue-900",children:"Sort By"}),e.jsxs(w,{value:b,onValueChange:Xe,children:[e.jsx(S,{className:"border-blue-300",children:e.jsx(D,{placeholder:"Sort by"})}),e.jsxs(_,{children:[e.jsx(i,{value:"name",children:"Name"}),e.jsx(i,{value:"category",children:"Category"}),e.jsx(i,{value:"stock",children:"Stock Level"}),e.jsx(i,{value:"expiry",children:"Expiry Date"}),e.jsx(i,{value:"status",children:"Status"}),e.jsx(i,{value:"priority",children:"Priority"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-bold text-blue-900",children:"Sort Order"}),e.jsxs(w,{value:f,onValueChange:Ye,children:[e.jsx(S,{className:"border-blue-300",children:e.jsx(D,{placeholder:"Sort order"})}),e.jsxs(_,{children:[e.jsx(i,{value:"asc",children:"Ascending"}),e.jsx(i,{value:"desc",children:"Descending"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-bold text-blue-900",children:"Limit Results"}),e.jsx(U,{type:"number",placeholder:"100",value:j,onChange:t=>Qe(parseInt(t.target.value)||100),className:"border-blue-300",min:"1",max:"1000"})]})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"This will generate an official government document with proper authentication and formatting."})]})})]})]})]})}),d==="custom_report"&&e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-6",children:e.jsxs(R,{className:"border-indigo-200 bg-indigo-50",children:[e.jsxs(F,{children:[e.jsxs(B,{className:"flex items-center gap-3 text-indigo-900",children:[e.jsx(k,{className:"h-6 w-6"}),"Custom Report Configuration"]}),e.jsx("p",{className:"text-indigo-700 text-sm",children:"Select which report types to include in your custom report"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Select Report Types"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"inventory-summary",checked:r.includeInventorySummary,onChange:t=>P(s=>({...s,includeInventorySummary:t.target.checked})),className:"h-4 w-4 text-indigo-600 border-indigo-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"inventory-summary",className:"text-sm font-medium text-indigo-900",children:"Inventory Summary Report"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"dispensing-activity",checked:r.includeDispensingActivity,onChange:t=>P(s=>({...s,includeDispensingActivity:t.target.checked})),className:"h-4 w-4 text-indigo-600 border-indigo-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"dispensing-activity",className:"text-sm font-medium text-indigo-900",children:"Dispensing Activity Report"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"expiry-report",checked:r.includeExpiryReport,onChange:t=>P(s=>({...s,includeExpiryReport:t.target.checked})),className:"h-4 w-4 text-indigo-600 border-indigo-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"expiry-report",className:"text-sm font-medium text-indigo-900",children:"Stock Movement Reports"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"disposal-report",checked:r.includeDisposalReport,onChange:t=>P(s=>({...s,includeDisposalReport:t.target.checked})),className:"h-4 w-4 text-indigo-600 border-indigo-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"disposal-report",className:"text-sm font-medium text-indigo-900",children:"Disposal Report"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"expired-batches",checked:r.includeExpiredBatches,onChange:t=>P(s=>({...s,includeExpiredBatches:t.target.checked})),className:"h-4 w-4 text-indigo-600 border-indigo-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"expired-batches",className:"text-sm font-medium text-indigo-900",children:"Expired Batches Report"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Report Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-indigo-900",children:"Custom Report Title"}),e.jsx(U,{value:r.customTitle,onChange:t=>P(s=>({...s,customTitle:t.target.value})),placeholder:"Enter custom report title",className:"border-indigo-300 focus:border-indigo-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-indigo-900",children:"Report Description"}),e.jsx(U,{value:r.customDescription,onChange:t=>P(s=>({...s,customDescription:t.target.value})),placeholder:"Enter report description",className:"border-indigo-300 focus:border-indigo-500"})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-indigo-200",children:e.jsxs(m,{onClick:ft,disabled:!r.includeInventorySummary&&!r.includeDispensingActivity&&!r.includeExpiryReport&&!r.includeDisposalReport&&!r.includeExpiredBatches,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Generate Custom Report"]})})]})]})}),C&&e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(R,{className:"border-2 border-gray-300 shadow-lg",children:[e.jsxs(F,{className:"bg-gradient-to-r from-gray-800 to-gray-700 text-white border-b-4 border-gray-600",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"REPUBLIC OF THE PHILIPPINES"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-200 mb-1",children:"RURAL HEALTH UNIT OF CALUMPANG"}),e.jsx("p",{className:"text-gray-300 text-lg",children:"Calumpang, General Santos City."})]}),e.jsxs("div",{className:"border-t border-gray-500 pt-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:C.title}),e.jsxs("div",{className:"flex justify-center items-center space-x-6 text-sm text-gray-200",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),"RHU Calumpang Management System"]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(ce,{className:"h-4 w-4 mr-1"}),"Generated: ",new Date(C.generatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"outline",size:"sm",className:"bg-white text-gray-800 hover:bg-gray-50 border-white",onClick:()=>z(null),children:"Close"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(m,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white text-blue-900 hover:bg-blue-50 border-white",onClick:be,children:[e.jsx(Y,{className:"h-4 w-4"}),"PDF"]}),e.jsxs(m,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white text-blue-900 hover:bg-blue-50 border-white",onClick:jt,children:[e.jsx(Y,{className:"h-4 w-4"}),"Excel"]})]})]})})]}),e.jsxs(A,{id:"report-content",children:[Object.keys(C.summary).length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-900 mb-2 flex items-center",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),"Executive Summary"]}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Comprehensive inventory analysis and status overview"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:Object.entries(C.summary).map(([t,s])=>{const a={total_items:"bg-blue-100 border-blue-300 text-blue-800",in_stock:"bg-green-100 border-green-300 text-green-800",low_stock_items:"bg-yellow-100 border-yellow-300 text-yellow-800",out_of_stock:"bg-red-100 border-red-300 text-red-800",expired_items:"bg-red-100 border-red-300 text-red-800",expiring_soon:"bg-orange-100 border-orange-300 text-orange-800",critical_alerts:"bg-purple-100 border-purple-300 text-purple-800"},l={total_items:e.jsx(V,{className:"h-5 w-5"}),in_stock:e.jsx(Ne,{className:"h-5 w-5"}),low_stock_items:e.jsx(oe,{className:"h-5 w-5"}),out_of_stock:e.jsx(X,{className:"h-5 w-5"}),expired_items:e.jsx(ke,{className:"h-5 w-5"}),expiring_soon:e.jsx(kt,{className:"h-5 w-5"}),critical_alerts:e.jsx(oe,{className:"h-5 w-5"})};return e.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${a[t]||"bg-gray-100 border-gray-300 text-gray-800"}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:l[t]||e.jsx(V,{className:"h-5 w-5"})}),e.jsx("p",{className:"text-3xl font-bold mb-1",children:s}),e.jsx("p",{className:"text-sm font-medium capitalize",children:t.replace(/_/g," ").replace(/([A-Z])/g," $1").trim()})]},t)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 border-l-4 border-gray-500 p-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx(k,{className:"h-5 w-5 mr-2"}),"Detailed Inventory Report"]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Complete listing of all inventory items (",C.items.length," items)"]})]}),C.items.length>0?e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:e.jsxs("table",{className:"w-full border-collapse bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gradient-to-r from-gray-800 to-gray-700 text-white",children:d==="dispensing_report"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Dispense Mode"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Batch Number"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Prescription #"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Dispensed By"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Date"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Batch Number"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Expiry Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Status"})]})})}),e.jsx("tbody",{children:C.items.map((t,s)=>{if(d==="dispensing_report")return e.jsxs("tr",{className:`border-b hover:bg-blue-50 transition-colors ${s%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.manufacturer})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.dispenseMode}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.patientName})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-bold text-lg text-gray-900",children:t.quantity}),e.jsx("span",{className:"text-xs text-gray-500 ml-2 bg-gray-100 px-2 py-1 rounded",children:t.unit})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded text-gray-800",children:t.batchNumber})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-blue-100 px-2 py-1 rounded text-blue-800",children:t.prescriptionNumber})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.staffName}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.reason})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-gray-900",children:pt(t.dispensedAt)}),e.jsx("p",{className:"text-xs text-gray-500",children:xt(t.dispensedAt)})]})})]},t.id);{const a=yt(t),l={in_stock:"bg-green-100 text-green-800 border-green-200",low_stock:"bg-yellow-100 text-yellow-800 border-yellow-200",out_of_stock:"bg-red-100 text-red-800 border-red-200",expired:"bg-red-100 text-red-800 border-red-200",expiring_soon:"bg-orange-100 text-orange-800 border-orange-200"},N={in_stock:"In Stock",low_stock:"Low Stock Items",out_of_stock:"Out of Stock Items",expired:"Expired Items",expiring_soon:"Expiring Soon Items"};return e.jsxs("tr",{className:`border-b hover:bg-blue-50 transition-colors ${s%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.manufacturer})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.category})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-bold text-lg text-gray-900",children:t.quantity}),e.jsx("span",{className:"text-xs text-gray-500 ml-2 bg-gray-100 px-2 py-1 rounded",children:t.unit})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded text-gray-800",children:t.batchNumber})}),e.jsx("td",{className:"py-4 px-6",children:t.expiryDate!=="N/A"?e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:`font-medium ${ae(t.expiryDate)?"text-red-600":ie(t.expiryDate)?"text-orange-600":"text-gray-600"}`,children:new Date(t.expiryDate).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ae(t.expiryDate)?"Expired":ie(t.expiryDate)?"Expiring Soon Items":"Valid"})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx(I,{className:`${l[a]} border`,children:N[a]})})]},t.id)}})})]})}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(V,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Inventory Data Available"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"There are currently no inventory items to display in this report."}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," This report will automatically populate once inventory items are added to the system."]})})]})]})]})]})}),e.jsxs(R,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Recent Reports"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Filter"})]})]})}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-4",children:[he.length>0?he.map((t,s)=>e.jsxs(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:s*.1},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Generated: ",new Date(t.generatedAt).toLocaleDateString()]}),e.jsxs("span",{children:["Size: ",t.size]}),e.jsxs("span",{children:["Type: ",O(t.type)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:ct(t.status),children:t.status}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(m,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>at(t),children:[e.jsx(Y,{className:"h-3 w-3"}),"Download"]})})]})]},t.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(k,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No reports generated yet"}),e.jsx("p",{className:"text-sm",children:"Generate your first report to see it here"})]}),v.length>q&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:["Showing ",xe+1," to ",Math.min(te,v.length)," of ",v.length," reports"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:He,disabled:E===1,className:"flex items-center gap-1",children:[e.jsx(Dt,{className:"h-3 w-3"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:se},(t,s)=>s+1).map(t=>e.jsx(m,{variant:E===t?"default":"outline",size:"sm",onClick:()=>qe(t),className:"w-8 h-8 p-0",children:t},t))}),e.jsxs(m,{variant:"outline",size:"sm",onClick:Ve,disabled:E===se,className:"flex items-center gap-1",children:["Next",e.jsx(_t,{className:"h-3 w-3"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsx(R,{children:e.jsx(A,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Reports"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]})]})})})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:e.jsx(R,{children:e.jsx(A,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Y,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.filter(t=>{const s=new Date(t.generatedAt),a=new Date;return s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear()}).length})]})]})})})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:e.jsx(R,{children:e.jsx(A,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(De,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Report Size"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length>0?(v.reduce((t,s)=>{const a=parseFloat(s.size);return t+(isNaN(a)?0:a)},0)/v.length).toFixed(1)+" MB":"0 MB"})]})]})})})})]}),(L>0||M>0)&&e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"space-y-6",children:[L>0&&e.jsxs(R,{className:"border-red-200 bg-red-50",children:[e.jsx(F,{children:e.jsxs(B,{className:"flex items-center gap-2 text-red-800",children:[e.jsx(X,{className:"h-5 w-5"}),"Expired Batches Alert",e.jsxs(I,{className:"bg-red-100 text-red-800 border-red-200",children:[L," batches"]})]})}),e.jsxs(A,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-sm text-red-600",children:"Total Expired Batches"}),e.jsx("p",{className:"text-2xl font-bold text-red-800",children:L})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-sm text-red-600",children:"Action Required"}),e.jsx("p",{className:"text-2xl font-bold text-red-800",children:"Dispose"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-red-700",children:"These batches have expired and should be disposed of immediately."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",onClick:()=>Oe(!J),children:J?"Hide Details":"View Details"}),e.jsxs(m,{variant:"destructive",className:"bg-red-600 hover:bg-red-700",onClick:lt,children:[e.jsx(_e,{className:"h-4 w-4 mr-1"}),"Dispose All"]})]})]}),J&&e.jsx(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-2 max-h-96 overflow-y-auto",children:Q.map((t,s)=>e.jsx("div",{className:"p-3 bg-white rounded-lg border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),e.jsx(I,{className:"bg-red-100 text-red-800 border-red-200 text-xs",children:"EXPIRED"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Batch: ",t.batch_number]}),e.jsxs("span",{children:["Qty: ",t.quantity," ",t.unit]}),e.jsxs("span",{children:["Expired: ",new Date(t.expiry_date).toLocaleDateString()]}),e.jsxs("span",{children:["Days: ",t.days_expired," ago"]})]})]}),e.jsxs(m,{variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-100",onClick:()=>it(t),children:[e.jsx(_e,{className:"h-4 w-4 mr-1"}),"Dispose"]})]})},t.id))})]})]}),M>0&&e.jsxs(R,{className:"border-amber-200 bg-amber-50",children:[e.jsx(F,{children:e.jsxs(B,{className:"flex items-center gap-2 text-amber-800",children:[e.jsx(ke,{className:"h-5 w-5"}),"Expiring Soon Items Alert",e.jsxs(I,{className:"bg-amber-100 text-amber-800 border-amber-200",children:[M," batches"]})]})}),e.jsxs(A,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg border border-amber-200",children:[e.jsx("p",{className:"text-sm text-amber-600",children:"Expiring Soon Items"}),e.jsx("p",{className:"text-2xl font-bold text-amber-800",children:M})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg border border-amber-200",children:[e.jsx("p",{className:"text-sm text-amber-600",children:"Action Required"}),e.jsx("p",{className:"text-2xl font-bold text-amber-800",children:"Use First"})]})]}),e.jsx("p",{className:"text-sm text-amber-700",children:"These batches are expiring within 30 days and should be prioritized for use."})]})]})]})]}),e.jsx(vt,{open:Be,onClose:nt,item:Ue,multi:pe,itemsForMulti:pe?Q:[]}),We&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(h.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reports Settings"}),e.jsx(m,{variant:"outline",onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(X,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Export Format"}),e.jsxs(w,{value:p.defaultFormat,onValueChange:t=>T({...p,defaultFormat:t}),children:[e.jsx(S,{children:e.jsx(D,{})}),e.jsxs(_,{children:[e.jsx(i,{value:"pdf",children:"PDF"}),e.jsx(i,{value:"excel",children:"Excel"}),e.jsx(i,{value:"csv",children:"CSV"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Date Range"}),e.jsxs(w,{value:p.defaultDateRange,onValueChange:t=>T({...p,defaultDateRange:t}),children:[e.jsx(S,{children:e.jsx(D,{})}),e.jsxs(_,{children:[e.jsx(i,{value:"7d",children:"Last 7 days"}),e.jsx(i,{value:"30d",children:"Last 30 days"}),e.jsx(i,{value:"90d",children:"Last 90 days"}),e.jsx(i,{value:"1y",children:"Last year"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Sort By"}),e.jsxs(w,{value:p.defaultSortBy,onValueChange:t=>T({...p,defaultSortBy:t}),children:[e.jsx(S,{children:e.jsx(D,{})}),e.jsxs(_,{children:[e.jsx(i,{value:"name",children:"Name"}),e.jsx(i,{value:"category",children:"Category"}),e.jsx(i,{value:"stock",children:"Stock Level"}),e.jsx(i,{value:"expiry",children:"Expiry Date"}),e.jsx(i,{value:"status",children:"Status"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),e.jsxs(w,{value:p.defaultSortOrder,onValueChange:t=>T({...p,defaultSortOrder:t}),children:[e.jsx(S,{children:e.jsx(D,{})}),e.jsxs(_,{children:[e.jsx(i,{value:"asc",children:"Ascending"}),e.jsx(i,{value:"desc",children:"Descending"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Results per Report"}),e.jsx(U,{type:"number",value:p.maxResults,onChange:t=>T({...p,maxResults:parseInt(t.target.value)||100}),min:"1",max:"1000"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Auto Refresh Reports"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically refresh dashboard analytics"})]}),e.jsx("input",{type:"checkbox",checked:p.autoRefresh,onChange:t=>T({...p,autoRefresh:t.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive email alerts for critical reports"})]}),e.jsx("input",{type:"checkbox",checked:p.emailNotifications,onChange:t=>T({...p,emailNotifications:t.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t",children:[e.jsx(m,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),e.jsx(m,{onClick:st,className:"bg-blue-600 hover:bg-blue-700",children:"Save Settings"})]})]})})]})}export{Hs as default};
