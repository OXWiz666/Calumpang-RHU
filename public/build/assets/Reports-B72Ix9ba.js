import{j as e}from"./app-CGmst3US.js";import{r as o,R as O}from"./vendor-DkBadjUr.js";import{A as nt}from"./AdminLayout-TeT-gGTa.js";import{C as E,a as W,b as xe,c as I}from"./card-y4JzwOh9.js";import{B as g}from"./button-DtZ_znIb.js";import{B as L}from"./badge-CUdLeb8d.js";import{I as lt}from"./input-BuECbsc9.js";import{S as M,a as T,b as B,c as F,d as r}from"./select-ejg9VjWT.js";import it from"./BatchDisposalModal-Czdn8_xl.js";import{m as b}from"./proxy-B4BHiAvn.js";import{B as pe}from"./building-2-DmPcAwng.js";import{S as Z}from"./shield-B7gr9OVN.js";import{A as ot}from"./award-CPjvI0Ja.js";import{F as A}from"./file-text-YZXa1D2L.js";import{C as he}from"./circle-check-big-BQVCuGNJ.js";import{P as q}from"./package-L7rgkkVO.js";import{T as ue}from"./trending-up-BFbz08q-.js";import{T as ee}from"./triangle-alert-BslwqqvL.js";import{C as te}from"./circle-x-Cf2XhiVO.js";import{S as ct}from"./settings-D_MeB5oN.js";import{C as ge}from"./calendar-D9APQM2e.js";import{D as z}from"./download-BH8XyxCx.js";import{C as ye}from"./chart-column-yMaSKbSU.js";import{C as fe}from"./chevron-left-B36-TXNE.js";import{C as be}from"./chevron-right-B3qqnx4D.js";import{F as dt}from"./filter-BAwJ6QQu.js";import{C as mt}from"./clock-D6yUBuGv.js";import{C as xt}from"./circle-alert-D8zT41fC.js";import"./pusher-DVtoYAOu.js";import"./index-B_PSVOSg.js";import"./avatar-By14zrPs.js";import"./react-icons.esm-BcXWgb92.js";import"./separator-CwgBH5e6.js";import"./index-2wpBnRWd.js";import"./index-BKpF1J_r.js";import"./moment-C5S46NFB.js";import"./dialog-Co4q8fL2.js";import"./index-Cjp041Hy.js";import"./tslib.es6-M_FJ09fS.js";import"./label-0pL2i4V4.js";import"./calendar-C23sgGMT.js";import"./index-CpVr_lH3.js";import"./index-D9Xmp41c.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput-B2xiSW1f.js";import"./createLucideIcon-BKWaAi2G.js";import"./x-b8JahagL.js";import"./house-CSq-WFst.js";import"./users-D4PhO1-D.js";import"./pill-DIGxtF-3.js";import"./pusher-Dqm3BktX.js";import"./printer-CfgcPaUh.js";import"./index-6duNZ0LI.js";import"./autoprefixer-BYNA87yI.js";import"./unit-CopbpOEH.js";import"./Toaster-ROX0d-F7.js";import"./toast-q4SBjA8F.js";import"./index-LtWw14r9.js";import"./index-BjixZ4b8.js";import"./use-toast-Dm0PN6fH.js";import"./layers-OK8ayVTK.js";import"./index-DqxisvwK.js";import"./textarea-CUIAzkg5.js";import"./toast-CCHTPXUI.js";import"./refresh-cw-D3hZ7e_O.js";import"./save-CAdd64LS.js";import"./square-pen-Bb1JtfBr.js";import"./trash-2-DJ5zXW8D.js";import"./archive-BwGVl8jP.js";import"./info-BVLwYIm5.js";import"./circle-check-F3PuHnLX.js";import"./hash-AgYeaIxt.js";function Ks({analytics:je={},expiredBatches:se=[],expiringSoonBatches:Ne=[],expiredBatchesCount:ve=0,expiringSoonBatchesCount:we=0,inventoryItems:G=[],dispensingData:De=[],dispensingSummary:Se={},topDispensedItems:Ce=[]}){const[c,ke]=o.useState(""),[pt,ht]=o.useState("30d"),[ut,gt]=o.useState(""),[yt,ft]=o.useState(!1),[x,H]=o.useState(null),[ae,re]=o.useState(!1),[f,V]=o.useState([]),[_e,Ae]=o.useState(!1),[Re,Ee]=o.useState(null),[ne,Ie]=o.useState(!1),[C,Q]=o.useState(1),[U]=o.useState(5),[j,$]=o.useState(1),[k]=o.useState(10),[N,bt]=o.useState("all"),[v,jt]=o.useState("all"),[w,Nt]=o.useState("all"),[vt,wt]=o.useState({selectedReportTypes:[],includeInventorySummary:!1,includeDispensingActivity:!1,includeExpiryReport:!1,includeDisposalReport:!1,includeExpiredBatches:!1,customTitle:"",customDescription:""}),[Dt,St]=o.useState(!1),X=C*U,le=X-U,ie=f.slice(le,X),J=Math.ceil(f.length/U),Le=t=>{Q(t)},Me=()=>{C>1&&Q(C-1)},Te=()=>{C<J&&Q(C+1)},Be=t=>{if(!t||t.length===0)return t;const s=[...t];return s.sort((a,n)=>{let l=null,i=null;switch(m){case"name":case"id":l=m==="id"?a.id||0:(a.name||"").toLowerCase(),i=m==="id"?n.id||0:(n.name||"").toLowerCase();break;case"category":l=(a.category||"").toLowerCase(),i=(n.category||"").toLowerCase();break;case"quantity":case"totalDispensed":case"quantityDisposed":l=parseFloat(a.quantity||a.totalDispensed||a.quantityDisposed||0),i=parseFloat(n.quantity||n.totalDispensed||n.quantityDisposed||0);break;case"unit":l=(a.unit||"").toLowerCase(),i=(n.unit||"").toLowerCase();break;case"batchNumber":l=(a.batchNumber||"").toLowerCase(),i=(n.batchNumber||"").toLowerCase();break;case"expiryDate":l=a.expiryDate?new Date(a.expiryDate):new Date(0),i=n.expiryDate?new Date(n.expiryDate):new Date(0);break;case"status":l=(a.status||Y(a)||"").toLowerCase(),i=(n.status||Y(n)||"").toLowerCase();break;case"manufacturer":l=(a.manufacturer||"").toLowerCase(),i=(n.manufacturer||"").toLowerCase();break;case"description":l=(a.description||"").toLowerCase(),i=(n.description||"").toLowerCase();break;case"storageLocation":l=(a.storageLocation||"").toLowerCase(),i=(n.storageLocation||"").toLowerCase();break;case"dispenseCount":l=parseFloat(a.dispenseCount||0),i=parseFloat(n.dispenseCount||0);break;case"movementType":l=(a.movementType||"").toLowerCase(),i=(n.movementType||"").toLowerCase();break;case"movementDate":case"disposalDate":l=a.movementDate||a.disposalDate?new Date(a.movementDate||a.disposalDate):new Date(0),i=n.movementDate||n.disposalDate?new Date(n.movementDate||n.disposalDate):new Date(0);break;case"staffMember":case"disposedBy":l=(a.staffMember||a.disposedBy||"").toLowerCase(),i=(n.staffMember||n.disposedBy||"").toLowerCase();break;case"reason":l=(a.reason||"").toLowerCase(),i=(n.reason||"").toLowerCase();break;case"notes":l=(a.notes||"").toLowerCase(),i=(n.notes||"").toLowerCase();break;default:l=a[m]||"",i=n[m]||""}return typeof l=="string"?h==="asc"?l.localeCompare(i):i.localeCompare(l):h==="asc"?l-i:i-l}),s},[m,Fe]=o.useState("name"),[h,Pe]=o.useState("asc"),[D,Ct]=o.useState(100),[oe,Oe]=o.useState({analytics:je||{},inventoryItems:G||[],expiredBatches:se||[],expiringSoonBatches:Ne||[],expiredBatchesCount:ve||0,expiringSoonBatchesCount:we||0,dispensingData:De||[],dispensingSummary:Se||{},topDispensedItems:Ce||[]}),[kt,ce]=o.useState(!1),[_t,At]=o.useState(!1),[Ue,K]=o.useState(!1),[p,_]=o.useState({defaultFormat:"pdf",autoRefresh:!1,emailNotifications:!1,defaultDateRange:"30d",defaultSortBy:"name",defaultSortOrder:"asc",maxResults:100});O.useEffect(()=>{const t=localStorage.getItem("pharmacist_reports_history");if(t)try{const s=JSON.parse(t);V(s)}catch(s){console.error("Error loading report history:",s)}},[]),O.useEffect(()=>{G.length===0&&(localStorage.removeItem("pharmacist_reports_history"),V([]))},[G.length]);const $e=async()=>{ce(!0);try{const t=await fetch("/pharmacist/inventory-reports/dashboard-analytics",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=await t.json();Oe(s)}catch(t){console.error("Error loading dashboard analytics:",t)}finally{ce(!1)}};O.useEffect(()=>{$(1)},[m,h]),O.useEffect(()=>{(!oe.analytics||Object.keys(oe.analytics).length===0)&&$e()},[]);const qe=()=>{localStorage.setItem("pharmacist_report_settings",JSON.stringify(p)),showToast("Success","Report settings saved successfully","success"),K(!1)};O.useEffect(()=>{const t=localStorage.getItem("pharmacist_report_settings");if(t)try{_(JSON.parse(t))}catch(s){console.error("Error loading report settings:",s)}},[]);const ze=t=>{const s=JSON.stringify(t);return`${(new Blob([s]).size/(1024*1024)).toFixed(1)} MB`},P=t=>({inventory_summary:"Inventory Summary",dispensing_report:"Dispensing Report",low_stock_alert:"Disposal Report",expiry_report:"Stock Movement Reports",expired_batches:"Expired Batches Report",custom_report:"Custom Report"})[t]||"Unknown Report",Ge=(t,s)=>{const n=[{id:Date.now(),name:`${P(s)} - ${new Date().toLocaleDateString()}`,type:s,generated:new Date().toISOString().split("T")[0],size:ze(t),status:"completed",data:t,generatedAt:new Date().toISOString()},...f].slice(0,10);V(n),localStorage.setItem("pharmacist_reports_history",JSON.stringify(n))},He=t=>{t.data&&(H(t.data),setTimeout(()=>{de()},100))},Ve=()=>{Ae(!1),Ee(null),Ie(!1)},Qe=[{id:"inventory_summary",title:"Inventory Summary Report",description:"Official comprehensive overview of pharmaceutical inventory status",icon:q,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",hoverColor:"hover:border-blue-400",official:!0,category:"Inventory Management"},{id:"dispensing_report",title:"Dispensing Activity Report",description:"Detailed official record of all dispensed medications and prescriptions",icon:ue,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",hoverColor:"hover:border-green-400",official:!0,category:"Patient Care"},{id:"low_stock_alert",title:"Disposal Report",description:"Comprehensive report of items requiring disposal or disposal tracking",icon:ee,color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",hoverColor:"hover:border-amber-400",official:!0,category:"Critical Alerts"},{id:"expiry_report",title:"Stock Movement Reports",description:"Comprehensive tracking of all stock movements and inventory transactions",icon:ue,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",hoverColor:"hover:border-blue-400",official:!0,category:"Inventory Management"},{id:"expired_batches",title:"Expired Batches Report",description:"Official summary of all expired medication batches for disposal",icon:te,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",hoverColor:"hover:border-red-400",official:!0,category:"Quality Control"}],Xe=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Je=t=>!t||t.length===0?[]:t.map(s=>({id:s.id,name:s.name,category:s.category||"Uncategorized",manufacturer:s.manufacturer||"N/A",quantity:s.quantity||0,unit:s.unit||"pieces",batchNumber:s.batch_number||"N/A",expiryDate:s.expiry_date||"N/A",storageLocation:s.storage_location||"N/A",status:s.status||"Active",description:s.description||"N/A",createdAt:s.created_at,updatedAt:s.updated_at})),Ke=t=>!t||t.length===0?[]:t.map(s=>({id:s.id||Math.random(),name:s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",batchNumber:s["Batch Number"]||"N/A",quantityDisposed:s["Quantity Disposed"]||0,disposalDate:s["Disposal Date"]||"N/A",reason:s.Reason||"N/A",disposedBy:s["Disposed By"]||"Unknown",manufacturer:s.Manufacturer||"N/A",expiryDate:s["Expiry Date"]||"N/A",notes:s.Notes||"N/A"})),Ye=t=>{try{if(!t||t==="N/A")return"N/A";const s=new Date(t);if(isNaN(s.getTime()))return"N/A";const a=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0"),l=s.getFullYear();return`${a}/${n}/${l}`}catch{return"N/A"}},We=t=>!t||t.length===0?[]:t.map(s=>({id:s.id||Math.random(),name:s["Item Name"]||"Unknown Item",manufacturer:s.Manufacturer||"N/A",patientName:s["Patient Name/Reason"]||"N/A",prescriptionNumber:s["Prescription Number"]||"-",quantity:s["Total Dispensed"]||0,unit:s["Unit Type"]||"pieces",batchNumber:s["Batch Number"]||"N/A",staffName:s["Most Recent Staff"]||"N/A",reason:s.Mode||"Dispensed",date:s["Last Dispensed"]||"N/A",genericName:s["Generic Name"]||s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",totalDispensed:s["Total Dispensed"]||0,dispenseCount:s["Dispense Count"]||0,averagePerDispense:s["Average per Dispense"]||0,firstDispensed:s["First Dispensed"]||"N/A",lastDispensed:s["Last Dispensed"]||"N/A",expiryDate:s["Expiry Date"]||"N/A"})),Ze=t=>!t||t.length===0?[]:t.map(s=>({id:s["Movement ID"]||Math.random(),name:s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",movementType:s["Movement Type"]||"Unknown",quantity:s.Quantity||0,batchNumber:s["Batch Number"]||"N/A",movementDate:s["Movement Date"]||"N/A",staffMember:s["Staff Member"]||"Unknown",reason:s.Reason||"N/A",manufacturer:s.Manufacturer||"N/A",expiryDate:s["Expiry Date"]||"N/A",notes:s.Notes||"N/A"})),et=t=>!t||t.length===0?[]:t.map(s=>({id:s["Item Name"]||Math.random(),name:s["Item Name"]||"Unknown Item",category:s.Category||"Uncategorized",batchNumber:s["Batch Number"]||"N/A",currentStock:s["Current Stock"]||0,unitType:s["Unit Type"]||"pieces",expiryDate:s["Expiry Date"]||"N/A",daysExpired:s["Days Expired"]||0,status:s.Status||"Expired",manufacturer:s.Manufacturer||"N/A",storageLocation:s["Storage Location"]||"N/A"})),tt=t=>{if(!t||t==="N/A")return!1;try{return new Date(t)<new Date}catch{return!1}},st=t=>{if(!t||t==="N/A")return!1;try{const s=new Date(t),n=Math.ceil((s-new Date)/(1e3*60*60*24));return n<=30&&n>0}catch{return!1}},Y=t=>tt(t.expiryDate)?"expired":st(t.expiryDate)?"expiring_soon":t.quantity===0?"out_of_stock":t.quantity<=t.minimumStock?"low_stock":"in_stock",at=async()=>{if(c){re(!0);try{const t=new URLSearchParams;t.append("format","json"),N!=="all"&&t.append("category_id",N),v!=="all"&&t.append("status",v),w!=="all"&&t.append("priority",w),m!=="name"&&t.append("sort_by",m),h!=="asc"&&t.append("sort_order",h),D!==100&&t.append("limit",D);const s=new Date,a=new Date("2020-01-01");console.log("ðŸŽ¯ USING ALL-TIME DATE RANGE - v2025-10-27-05:45:",{startDate:a.toISOString(),endDate:s.toISOString()});const n=new Date(s);n.setDate(n.getDate()+1);const l=a.toISOString().split("T")[0]+" 00:00:00",i=n.toISOString().split("T")[0]+" 23:59:59";t.append("start_date",l),t.append("end_date",i);let y="/pharmacist/inventory-reports/summary";switch(c){case"inventory_summary":y="/pharmacist/inventory-reports/summary";break;case"expiry_report":y="/pharmacist/inventory-reports/expiry";break;case"dispensing_report":y="/pharmacist/inventory-reports/dispensing";break;case"low_stock_alert":y="/pharmacist/inventory-reports/low-stock-alert";break;case"expired_batches":y="/pharmacist/inventory-reports/expired-batches";break;default:y="/pharmacist/inventory-reports/summary"}console.log("Fetching from:",`${y}?${t.toString()}`),console.log("Date range params:",{startDateStr:l,endDateStr:i});const d=await(await fetch(`${y}?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin"})).json();console.log("Report data received:",{selectedReport:c,dataKeys:Object.keys(d),itemsCount:Array.isArray(d.items)?d.items.length:"not array",dataCount:Array.isArray(d.data)?d.data.length:"not array",rawData:d});let u=[],S=[];Array.isArray(d.items)?S=d.items:Array.isArray(d.data)?S=d.data:Array.isArray(d)&&(S=d),console.log("Raw data array:",S),c==="low_stock_alert"?u=Ke(S):c==="dispensing_report"?u=We(S):c==="expiry_report"?u=Ze(S):c==="expired_batches"?u=et(S):u=Je(S),console.log("Processed items:",u);const me={title:P(c),subtitle:`Generated on ${new Date().toLocaleString()}`,items:u,summary:d.analytics||{},generatedAt:new Date().toISOString(),filters:{category:N,status:v,priority:w,sortBy:m,sortOrder:h,limit:D}};H(me),$(1),Ge(me,c)}catch(t){console.error("Error generating report:",t),alert("Error generating report: "+t.message)}finally{re(!1)}}},de=async()=>{console.log("PDF download requested"),console.log("Selected report type:",c),console.log("Generated report available:",!!x);const t=c||"inventory_summary";try{let s;switch(t){case"inventory_summary":s="/pharmacist/inventory-reports/summary?format=pdf";break;case"expiry_report":s="/pharmacist/inventory-reports/expiry?format=pdf";break;case"dispensing_report":s="/pharmacist/inventory-reports/dispensing?format=pdf";break;case"low_stock_alert":s="/pharmacist/inventory-reports/low-stock-alert?format=pdf";break;case"expired_batches":s="/pharmacist/inventory-reports/expired-batches?format=pdf";break;default:s="/pharmacist/inventory-reports/summary?format=pdf"}const a=new URLSearchParams;N&&N!=="all"&&a.append("category_id",N),v&&v!=="all"&&a.append("status",v),w&&w!=="all"&&a.append("priority",w),m&&m!=="name"&&a.append("sort_by",m),h&&h!=="asc"&&a.append("sort_order",h),D&&D!==100&&a.append("limit",D);const n=new Date,l=new Date("2020-01-01"),i=new Date(n);i.setDate(i.getDate()+1);const y=l.toISOString().split("T")[0]+" 00:00:00",R=i.toISOString().split("T")[0]+" 23:59:59";a.append("start_date",y),a.append("end_date",R);const d=`${s}${a.toString()?"&"+a.toString():""}`;console.log("Generated PDF URL:",d),console.log("Downloading PDF from:",d);const u=document.createElement("a");u.href=d,u.download=`${P(t).replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(s){console.error("Error generating PDF:",s),alert(`Error generating PDF: ${s.message}. Please try again.`)}},rt=async()=>{if(c)try{let t;switch(c){case"inventory_summary":t="/pharmacist/inventory-reports/summary?format=excel";break;case"expiry_report":t="/pharmacist/inventory-reports/expiry?format=excel";break;case"dispensing_report":t="/pharmacist/inventory-reports/dispensing?format=excel";break;case"low_stock_alert":t="/pharmacist/inventory-reports/low-stock-alert?format=excel";break;case"expired_batches":t="/pharmacist/inventory-reports/expired-batches?format=excel";break;default:t="/pharmacist/inventory-reports/summary?format=excel"}const s=new URLSearchParams;N&&N!=="all"&&s.append("category_id",N),v&&v!=="all"&&s.append("status",v),w&&w!=="all"&&s.append("priority",w),m&&m!=="name"&&s.append("sort_by",m),h&&h!=="asc"&&s.append("sort_order",h),D&&D!==100&&s.append("limit",D);const a=new Date,n=new Date("2020-01-01"),l=new Date(a);l.setDate(l.getDate()+1);const i=n.toISOString().split("T")[0]+" 00:00:00",y=l.toISOString().split("T")[0]+" 23:59:59";s.append("start_date",i),s.append("end_date",y);const R=`${t}${s.toString()?"&"+s.toString():""}`;console.log("Generated Excel URL:",R),console.log("Downloading Excel from:",R);const d=document.createElement("a");d.href=R,d.download=`${P(c).replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(d),d.click(),document.body.removeChild(d)}catch(t){console.error("Error generating Excel:",t),alert("Error generating Excel file. Please try again.")}};return e.jsxs(nt,{header:"Reports",children:[e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden bg-gradient-to-r from-blue-900 via-blue-800 to-indigo-900 rounded-xl p-8 text-white",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(pe,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"RURAL HEALTH UNIT CALUMPANG"}),e.jsx("p",{className:"text-blue-100 text-lg font-medium",children:"Pharmacy Department - Reports & Analytics"})]})]}),e.jsx("p",{className:"text-blue-100 text-lg max-w-2xl",children:"Professional inventory management and pharmaceutical reporting system for government healthcare services"}),e.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-blue-200"}),e.jsx("span",{className:"text-blue-100 font-medium",children:"Official Government System"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5 text-blue-200"}),e.jsx("span",{className:"text-blue-100 font-medium",children:"Certified Healthcare Reports"})]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-3"})]})})]}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:e.jsxs(E,{className:"border-2 border-blue-200 shadow-lg",children:[e.jsx(W,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b-2 border-blue-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(A,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(xe,{className:"text-2xl font-bold text-blue-900",children:"Generate Official Report"}),e.jsx("p",{className:"text-blue-700 text-base",children:"Create professional government healthcare reports"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(L,{className:"bg-blue-100 text-blue-800 border-blue-200 px-3 py-1",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Official Document"]})})]})}),e.jsxs(I,{className:"p-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Qe.map(t=>e.jsx(b.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},transition:{duration:.2},children:e.jsx("button",{onClick:()=>ke(t.id),className:`w-full p-6 rounded-xl border-2 transition-all duration-300 text-left group ${c===t.id?`border-blue-500 bg-blue-50 shadow-lg ${t.hoverColor}`:`${t.borderColor} hover:shadow-md ${t.hoverColor}`}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${t.bgColor} group-hover:scale-110 transition-transform duration-200`,children:e.jsx(t.icon,{className:`h-6 w-6 ${t.color}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:t.title}),t.official&&e.jsxs(L,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs",children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),"Official"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:t.description}),e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(L,{variant:"outline",className:"text-xs",children:t.category})})]})]})})},t.id))}),c&&e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-12 p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(ct,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Report Configuration"}),e.jsx("p",{className:"text-blue-700 text-base",children:"Configure your official government report parameters"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-blue-900 mb-2",children:[e.jsx(A,{className:"h-4 w-4 inline mr-2"}),"Generate Report"]}),e.jsx(g,{onClick:at,disabled:ae,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3",children:ae?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Official Report..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Generate Official Report"]})})]})}),e.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"This will generate an official government document with proper authentication and formatting."})]})})]})]})]})}),x&&e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(E,{className:"border-2 border-gray-300 shadow-lg",children:[e.jsxs(W,{className:"bg-gradient-to-r from-gray-800 to-gray-700 text-white border-b-4 border-gray-600",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"REPUBLIC OF THE PHILIPPINES"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-200 mb-1",children:"RURAL HEALTH UNIT OF CALUMPANG"}),e.jsx("p",{className:"text-gray-300 text-lg",children:"Calumpang, General Santos City."})]}),e.jsxs("div",{className:"border-t border-gray-500 pt-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:x.title}),e.jsxs("div",{className:"flex justify-center items-center space-x-6 text-sm text-gray-200",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"RHU Calumpang Management System"]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Generated: ",new Date(x.generatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:"outline",size:"sm",className:"bg-white text-gray-800 hover:bg-gray-50 border-white",onClick:()=>H(null),children:"Close"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(g,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white text-blue-900 hover:bg-blue-50 border-white",onClick:de,children:[e.jsx(z,{className:"h-4 w-4"}),"PDF"]}),e.jsxs(g,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white text-blue-900 hover:bg-blue-50 border-white",onClick:rt,children:[e.jsx(z,{className:"h-4 w-4"}),"Excel"]})]})]})})]}),e.jsxs(I,{id:"report-content",children:[Object.keys(x.summary).length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-900 mb-2 flex items-center",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Executive Summary"]}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Comprehensive inventory analysis and status overview"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:Object.entries(x.summary).map(([t,s])=>{const a={total_items:"bg-blue-100 border-blue-300 text-blue-800",in_stock:"bg-green-100 border-green-300 text-green-800",low_stock_items:"bg-yellow-100 border-yellow-300 text-yellow-800",out_of_stock:"bg-red-100 border-red-300 text-red-800",expired_items:"bg-red-100 border-red-300 text-red-800",expiring_soon:"bg-orange-100 border-orange-300 text-orange-800",critical_alerts:"bg-purple-100 border-purple-300 text-purple-800"},n={total_items:e.jsx(q,{className:"h-5 w-5"}),in_stock:e.jsx(he,{className:"h-5 w-5"}),low_stock_items:e.jsx(ee,{className:"h-5 w-5"}),out_of_stock:e.jsx(te,{className:"h-5 w-5"}),expired_items:e.jsx(xt,{className:"h-5 w-5"}),expiring_soon:e.jsx(mt,{className:"h-5 w-5"}),critical_alerts:e.jsx(ee,{className:"h-5 w-5"})};return e.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${a[t]||"bg-gray-100 border-gray-300 text-gray-800"}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:n[t]||e.jsx(q,{className:"h-5 w-5"})}),e.jsx("p",{className:"text-3xl font-bold mb-1",children:s}),e.jsx("p",{className:"text-sm font-medium capitalize",children:t.replace(/_/g," ").replace(/([A-Z])/g," $1").trim()})]},t)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 border-l-4 border-gray-500 p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx(A,{className:"h-5 w-5 mr-2"}),"Detailed Inventory Report"]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Complete listing of all inventory items (",x.items.length," items)"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),e.jsxs(M,{value:m,onValueChange:Fe,children:[e.jsx(T,{className:"w-[180px]",children:e.jsx(B,{})}),e.jsx(F,{children:c==="dispensing_report"?e.jsxs(e.Fragment,{children:[e.jsx(r,{value:"name",children:"Item Name"}),e.jsx(r,{value:"category",children:"Category"}),e.jsx(r,{value:"totalDispensed",children:"Total Dispensed"}),e.jsx(r,{value:"dispenseCount",children:"Dispense Count"}),e.jsx(r,{value:"batchNumber",children:"Batch Number"})]}):c==="expiry_report"?e.jsxs(e.Fragment,{children:[e.jsx(r,{value:"id",children:"Movement ID"}),e.jsx(r,{value:"name",children:"Item Name"}),e.jsx(r,{value:"category",children:"Category"}),e.jsx(r,{value:"movementType",children:"Movement Type"}),e.jsx(r,{value:"quantity",children:"Quantity"}),e.jsx(r,{value:"batchNumber",children:"Batch Number"}),e.jsx(r,{value:"movementDate",children:"Movement Date"}),e.jsx(r,{value:"staffMember",children:"Staff Member"}),e.jsx(r,{value:"reason",children:"Reason"}),e.jsx(r,{value:"notes",children:"Notes"})]}):c==="low_stock_alert"?e.jsxs(e.Fragment,{children:[e.jsx(r,{value:"name",children:"Item Name"}),e.jsx(r,{value:"category",children:"Category"}),e.jsx(r,{value:"batchNumber",children:"Batch Number"}),e.jsx(r,{value:"quantityDisposed",children:"Quantity Disposed"}),e.jsx(r,{value:"disposalDate",children:"Disposal Date"}),e.jsx(r,{value:"reason",children:"Reason"}),e.jsx(r,{value:"disposedBy",children:"Disposed By"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{value:"name",children:"Name"}),e.jsx(r,{value:"category",children:"Category"}),e.jsx(r,{value:"quantity",children:"Quantity"}),e.jsx(r,{value:"unit",children:"Unit"}),e.jsx(r,{value:"status",children:"Status"}),e.jsx(r,{value:"manufacturer",children:"Manufacturer"}),e.jsx(r,{value:"batchNumber",children:"Batch Number"}),e.jsx(r,{value:"expiryDate",children:"Expiry Date"}),e.jsx(r,{value:"description",children:"Description"}),e.jsx(r,{value:"storageLocation",children:"Storage Location"})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Order:"}),e.jsxs(M,{value:h,onValueChange:Pe,children:[e.jsx(T,{className:"w-[120px]",children:e.jsx(B,{})}),e.jsxs(F,{children:[e.jsx(r,{value:"asc",children:"Ascending"}),e.jsx(r,{value:"desc",children:"Descending"})]})]})]})]})]})}),x.items.length>0?e.jsxs("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:[e.jsxs("table",{className:"w-full border-collapse bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gradient-to-r from-gray-800 to-gray-700 text-white",children:c==="dispensing_report"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Total Dispensed"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Dispense Count"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"First Dispensed"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Last Dispensed"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Unit Type"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Staff Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Manufacturer"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Patient Name/Reason"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Batch Number"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Mode"})]}):c==="expiry_report"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Movement ID"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Movement Type"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Batch Number"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Movement Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Staff Member"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Manufacturer"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Expiry Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Notes"})]}):c==="low_stock_alert"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Batch Number"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Quantity Disposed"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Disposal Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Disposed By"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Manufacturer"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Notes"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Unit"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Manufacturer"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Batch number"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Expiry date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wider",children:"Storage location"})]})})}),e.jsx("tbody",{children:Be(x.items).slice((j-1)*k,j*k).map((t,s)=>{if(c==="dispensing_report")return e.jsxs("tr",{className:`border-b hover:bg-blue-50 transition-colors ${s%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:t.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.category})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-bold text-lg text-gray-900",children:t.totalDispensed||t.quantity})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.dispenseCount})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.firstDispensed||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.lastDispensed||t.date||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t.unit})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.staffName||t.dispensedBy})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.manufacturer})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.patientName})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded text-gray-800",children:t.batchNumber})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.reason})})]},t.id);if(c==="expiry_report")return e.jsxs("tr",{className:`border-b hover:bg-blue-50 transition-colors ${s%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded text-gray-800",children:t.id||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:t.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.category})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx(L,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:t.movementType||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-bold text-lg text-gray-900",children:t.quantity})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded text-gray-800",children:t.batchNumber})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.movementDate})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.staffMember})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.reason})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.manufacturer})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.expiryDate})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.notes})})]},t.id);if(c==="low_stock_alert")return e.jsxs("tr",{className:`border-b hover:bg-blue-50 transition-colors ${s%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:t.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.category})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded text-gray-800",children:t.batchNumber})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-bold text-lg text-gray-900",children:t.quantityDisposed})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.disposalDate})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.reason})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.disposedBy})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.manufacturer})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.notes})})]},t.id);{const a=Y(t),n={in_stock:"bg-green-100 text-green-800 border-green-200",low_stock:"bg-yellow-100 text-yellow-800 border-yellow-200",out_of_stock:"bg-red-100 text-red-800 border-red-200",expired:"bg-red-100 text-red-800 border-red-200",expiring_soon:"bg-orange-100 text-orange-800 border-orange-200"},l={in_stock:"In Stock",low_stock:"Low Stock Items",out_of_stock:"Out of Stock Items",expired:"Expired Items",expiring_soon:"Expiring Soon Items"};return e.jsxs("tr",{className:`border-b hover:bg-blue-50 transition-colors ${s%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:t.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.category})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-bold text-lg text-gray-900",children:t.quantity||0})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"text-sm text-gray-700",children:t.unit||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx(L,{className:`${n[a]} border`,children:l[a]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.manufacturer||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded text-gray-800",children:t.batchNumber||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:t.expiryDate!=="N/A"?e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:Ye(t.expiryDate)}):e.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.description||"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.storageLocation||"N/A"})})]},t.id)}})})]}),x.items.length>k&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(j-1)*k+1," to ",Math.min(j*k,x.items.length)," of ",x.items.length," items"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>$(Math.max(1,j-1)),disabled:j===1,children:[e.jsx(fe,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("span",{className:"text-sm text-gray-700 px-4",children:["Page ",j," of ",Math.ceil(x.items.length/k)]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>$(Math.min(Math.ceil(x.items.length/k),j+1)),disabled:j>=Math.ceil(x.items.length/k),children:["Next",e.jsx(be,{className:"h-4 w-4"})]})]})]})]}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(q,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Inventory Data Available"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"There are currently no inventory items to display in this report."}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," This report will automatically populate once inventory items are added to the system."]})})]})]})]})]})}),e.jsxs(E,{children:[e.jsx(W,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),"Recent Reports"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Filter"})]})]})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-4",children:[ie.length>0?ie.map((t,s)=>e.jsxs(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:s*.1},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Generated: ",new Date(t.generatedAt).toLocaleDateString()]}),e.jsxs("span",{children:["Size: ",t.size]}),e.jsxs("span",{children:["Type: ",P(t.type)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:Xe(t.status),children:t.status}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(g,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>He(t),children:[e.jsx(z,{className:"h-3 w-3"}),"Download"]})})]})]},t.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No reports generated yet"}),e.jsx("p",{className:"text-sm",children:"Generate your first report to see it here"})]}),f.length>U&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:["Showing ",le+1," to ",Math.min(X,f.length)," of ",f.length," reports"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(g,{variant:"outline",size:"sm",onClick:Me,disabled:C===1,className:"flex items-center gap-1",children:[e.jsx(fe,{className:"h-3 w-3"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:J},(t,s)=>s+1).map(t=>e.jsx(g,{variant:C===t?"default":"outline",size:"sm",onClick:()=>Le(t),className:"w-8 h-8 p-0",children:t},t))}),e.jsxs(g,{variant:"outline",size:"sm",onClick:Te,disabled:C===J,className:"flex items-center gap-1",children:["Next",e.jsx(be,{className:"h-3 w-3"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsx(E,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Reports"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]})]})})})}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:e.jsx(E,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(z,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.filter(t=>{const s=new Date(t.generatedAt),a=new Date;return s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear()}).length})]})]})})})}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:e.jsx(E,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(ye,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Report Size"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length>0?(f.reduce((t,s)=>{const a=parseFloat(s.size);return t+(isNaN(a)?0:a)},0)/f.length).toFixed(1)+" MB":"0 MB"})]})]})})})})]})]}),e.jsx(it,{open:_e,onClose:Ve,item:Re,multi:ne,itemsForMulti:ne?se:[]}),Ue&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reports Settings"}),e.jsx(g,{variant:"outline",onClick:()=>K(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(te,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Export Format"}),e.jsxs(M,{value:p.defaultFormat,onValueChange:t=>_({...p,defaultFormat:t}),children:[e.jsx(T,{children:e.jsx(B,{})}),e.jsxs(F,{children:[e.jsx(r,{value:"pdf",children:"PDF"}),e.jsx(r,{value:"excel",children:"Excel"}),e.jsx(r,{value:"csv",children:"CSV"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Date Range"}),e.jsxs(M,{value:p.defaultDateRange,onValueChange:t=>_({...p,defaultDateRange:t}),children:[e.jsx(T,{children:e.jsx(B,{})}),e.jsxs(F,{children:[e.jsx(r,{value:"7d",children:"Last 7 days"}),e.jsx(r,{value:"30d",children:"Last 30 days"}),e.jsx(r,{value:"90d",children:"Last 90 days"}),e.jsx(r,{value:"1y",children:"Last year"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Sort By"}),e.jsxs(M,{value:p.defaultSortBy,onValueChange:t=>_({...p,defaultSortBy:t}),children:[e.jsx(T,{children:e.jsx(B,{})}),e.jsxs(F,{children:[e.jsx(r,{value:"name",children:"Name"}),e.jsx(r,{value:"category",children:"Category"}),e.jsx(r,{value:"stock",children:"Stock Level"}),e.jsx(r,{value:"expiry",children:"Expiry Date"}),e.jsx(r,{value:"status",children:"Status"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),e.jsxs(M,{value:p.defaultSortOrder,onValueChange:t=>_({...p,defaultSortOrder:t}),children:[e.jsx(T,{children:e.jsx(B,{})}),e.jsxs(F,{children:[e.jsx(r,{value:"asc",children:"Ascending"}),e.jsx(r,{value:"desc",children:"Descending"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Results per Report"}),e.jsx(lt,{type:"number",value:p.maxResults,onChange:t=>_({...p,maxResults:parseInt(t.target.value)||100}),min:"1",max:"1000"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Auto Refresh Reports"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically refresh dashboard analytics"})]}),e.jsx("input",{type:"checkbox",checked:p.autoRefresh,onChange:t=>_({...p,autoRefresh:t.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive email alerts for critical reports"})]}),e.jsx("input",{type:"checkbox",checked:p.emailNotifications,onChange:t=>_({...p,emailNotifications:t.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t",children:[e.jsx(g,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),e.jsx(g,{onClick:qe,className:"bg-blue-600 hover:bg-blue-700",children:"Save Settings"})]})]})})]})}export{Ks as default};
