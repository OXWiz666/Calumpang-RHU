import{j as s,r as C}from"./app-Dq_Q3Qwg.js";import{r as x}from"./vendor-DkBadjUr.js";import{B as m}from"./button-C5uFo_s4.js";import{I as l}from"./input-onBXUy1Y.js";import{L as i}from"./label-D-GXHI76.js";import"./textarea-C9hsFzqx.js";import{C as u,a as j,b as g,e as f,c as v}from"./card-kiyN5UMh.js";import{S as D,a as F,b as I,c as _,d as p}from"./select-DVTvZC0C.js";import{D as E,a as k,b as q,c as A}from"./dialog-BOQ1IyqS.js";import{S as L}from"./stethoscope-QcN9KdKi.js";import{X as B}from"./x-b8JahagL.js";import{m as M}from"./proxy-CrAtMFvn.js";import{S as P}from"./save-CAdd64LS.js";import"./pusher-DVtoYAOu.js";import"./index-Cwj52g8w.js";import"./react-icons.esm-B4fS-S41.js";import"./index-DWmZ7jWL.js";import"./index-DZ3-Nn1l.js";import"./index-BLzoH2V5.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Z1kVBYZG.js";import"./index-BZWX2-NB.js";import"./index-DqxisvwK.js";import"./index-Bjz1F0Gi.js";import"./index-CTYbBDNA.js";import"./createLucideIcon-BKWaAi2G.js";function ds({doctor:t,isOpen:N,onClose:c,onSuccess:h}){const w=e=>({1:"active",2:"inactive",3:"suspended"})[e]||"active",[a,S]=x.useState({firstname:t?.firstname||"",lastname:t?.lastname||"",email:t?.email||"",contactno:t?.contactno||"",status:w(t?.status),role_id:t?.role_id||2,password:"",password_confirmation:""}),[o,d]=x.useState(!1),r=(e,n)=>{S(b=>({...b,[e]:n}))},y=e=>{e.preventDefault(),d(!0),C.put(`/admin/staff/doctors/${t.id}`,a,{onSuccess:n=>{n.props.flash?.success,h&&h(a),c(),d(!1)},onError:n=>{console.error("Update failed:",n),d(!1)}})};return s.jsx(E,{open:N,onOpenChange:c,children:s.jsxs(k,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(q,{children:s.jsxs(A,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(L,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Edit Doctor Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Update doctor information and medical credentials"})]})]}),s.jsx(m,{variant:"ghost",size:"sm",onClick:c,className:"h-8 w-8 p-0",children:s.jsx(B,{className:"h-4 w-4"})})]})}),s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs(u,{children:[s.jsxs(j,{className:"pb-3",children:[s.jsx(g,{className:"text-lg",children:"Personal Information"}),s.jsx(f,{children:"Basic doctor account details"})]}),s.jsxs(v,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"firstname",children:"First Name *"}),s.jsx(l,{id:"firstname",value:a.firstname,onChange:e=>r("firstname",e.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"lastname",children:"Last Name *"}),s.jsx(l,{id:"lastname",value:a.lastname,onChange:e=>r("lastname",e.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"email",children:"Email Address *"}),s.jsx(l,{id:"email",type:"email",value:a.email,onChange:e=>r("email",e.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"contactno",children:"Contact Number *"}),s.jsx(l,{id:"contactno",value:a.contactno,onChange:e=>r("contactno",e.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"status",children:"Account Status"}),s.jsxs(D,{value:a.status,onValueChange:e=>r("status",e),children:[s.jsx(F,{children:s.jsx(I,{placeholder:"Select status"})}),s.jsxs(_,{children:[s.jsx(p,{value:"active",children:"Active"}),s.jsx(p,{value:"inactive",children:"Inactive"}),s.jsx(p,{value:"suspended",children:"Suspended"})]})]})]})]})]}),s.jsxs(u,{children:[s.jsxs(j,{className:"pb-3",children:[s.jsx(g,{className:"text-lg",children:"Security Settings"}),s.jsx(f,{children:"Update account password"})]}),s.jsx(v,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"password",children:"New Password"}),s.jsx(l,{id:"password",type:"password",value:a.password,onChange:e=>r("password",e.target.value),placeholder:"Leave blank to keep current password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"password_confirmation",children:"Confirm New Password"}),s.jsx(l,{id:"password_confirmation",type:"password",value:a.password_confirmation,onChange:e=>r("password_confirmation",e.target.value),placeholder:"Confirm new password"})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(m,{type:"button",variant:"outline",onClick:c,disabled:o,children:"Cancel"}),s.jsx(m,{type:"submit",disabled:o,className:"min-w-[120px]",children:o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})})}export{ds as default};
