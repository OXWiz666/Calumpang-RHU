import{r as o,P as ce,q as W,j as e,b as N,a as I}from"./app-B9imbgwF.js";import{A as T}from"./AdminLayout-BNuPrpli.js";import"./moment-C5S46NFB.js";import{B as y}from"./button-Cp6C2OJZ.js";import{C as k,a as C,c as L}from"./card-Xb3yA3ez.js";import{I as me}from"./input-DrzP4N1f.js";import{A as P,a as F,b as U}from"./avatar-BniI04cJ.js";import{B as d}from"./badge-lpEXGIly.js";import{S as H,a as $,b as O,c as R,d as h}from"./select-DLnb01nw.js";import{C as xe}from"./CustomModal-ClY2Lzkf.js";import{S as he,T as pe,a as ue,b as E,c as p,d as ge,e as u}from"./table2-IW2acdXR.js";import{P as K}from"./PrimaryButton-C9iWoECT.js";import{I as je}from"./InputError-SPm6-4qW.js";import{F as be,z as v}from"./index-Dmefq7Kw.js";import{A as fe,a as Ne,b as ve,c as we,d as ye,e as ke,f as Ce,g as Le}from"./alert-dialog-PYYHSG9u.js";import{m as Ae}from"./proxy-YO7Y0R0s.js";import{S as Me}from"./search-DEoFfCfD.js";import{F as Se}from"./filter-C6dZ2B7Y.js";import{E as De}from"./eye-DFa68yZm.js";import{T as Be}from"./trash-2-Co04Ehrd.js";import{c as Ve}from"./createLucideIcon-CiaC_9KA.js";import{C as _e}from"./chevron-left-B-qjJ3tn.js";import{C as ze}from"./chevron-right-CsdLZoKQ.js";import"./utils-D5ZoOHm5.js";import"./separator-DANG88ht.js";import"./index-CPfQda0F.js";import"./index-DXqKCwml.js";import"./dialog-DPtsGNkJ.js";import"./Combination-BvFtu0HL.js";import"./label-1pz5fh5X.js";import"./popover-DA6Q4s6n.js";import"./format-Dp3w_Y3x.js";import"./isBefore-COsor6RJ.js";import"./isSameMonth-BOwz-_mK.js";import"./index-DBYg8BeE.js";import"./TextInput-C_S1V6wf.js";import"./x-DhUE4RBg.js";import"./settings-CRudl8-C.js";import"./house-BHa4YcxM.js";import"./calendar-BRhaHUHQ.js";import"./users-BUBR_VYh.js";import"./pusher-DqwEpbzq.js";import"./printer-GEznhNJa.js";import"./file-text-DMqEqKtg.js";import"./package-mXWpMwaL.js";import"./circle-check-big-Ben6InUX.js";import"./pill-DiYduGso.js";import"./bell-BoCbdBVr.js";import"./index-BnacA0tQ.js";import"./autoprefixer-CwEjcAz6.js";import"./Toaster-CUdt6Q1D.js";import"./toast-DTOijgLH.js";import"./index-CPs_XpmV.js";import"./index-DBY2uWYu.js";import"./layers-CvxPgSQV.js";import"./chart-column-BK4mYYJa.js";import"./index-Dm9R2YI4.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Ie=Ve("CircleArrowUp",We);function Os({appointments_:g}){const[b,Y]=o.useState(g.data||[]),[c,q]=o.useState(""),[w,G]=o.useState("all"),[m,Te]=o.useState({key:"date",direction:"ascending"}),f=s=>{if(!s)return"Not specified";try{const t=new Date(s);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},A=s=>{if(!s)return"Not specified";try{let t=s;s.includes(" ")&&(t=s.split(" ")[1]||s.split(" ")[0]);const[a,i]=t.split(":"),n=parseInt(a,10),z=parseInt(i,10);if(isNaN(n)||isNaN(z))return s;const le=n>=12?"PM":"AM",oe=n===0?12:n>12?n-12:n,de=z.toString().padStart(2,"0");return`${oe}:${de} ${le}`}catch(t){return console.error("Error formatting time:",t),s}},J=s=>{if(!s)return"Not specified";try{const t=new Date(s);return isNaN(t.getTime())?"Invalid date":t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"Invalid time"}},M=s=>{if(!s)return"UNKNOWN";try{const t=new Date(s);return isNaN(t.getTime())?"UNKNOWN":t.toISOString().slice(0,10).replace(/-/g,"")}catch{return"UNKNOWN"}};[...(b||[]).filter(s=>{const t=s.firstname?.toLowerCase().includes(c.toLowerCase())||s.lastname?.toLowerCase().includes(c.toLowerCase())||s.middlename?.toLowerCase().includes(c.toLowerCase())||s.email?.toLowerCase().includes(c.toLowerCase())||s.phone?.toLowerCase().includes(c.toLowerCase())||s.reference_number?.toLowerCase().includes(c.toLowerCase()),a=w==="all"||s.status===w;return t&&a})].sort((s,t)=>{const a=s[m.key],i=t[m.key];if(a==null)return m.direction==="ascending"?-1:1;if(i==null)return m.direction==="ascending"?1:-1;if(typeof a=="string"&&typeof i=="string"){const n=a.toLowerCase().localeCompare(i.toLowerCase());return m.direction==="ascending"?n:-n}return a<i?m.direction==="ascending"?-1:1:a>i?m.direction==="ascending"?1:-1:0});const S=()=>e.jsx(e.Fragment,{}),Q=s=>{if(!s)return null;switch(s){case 1:return e.jsx(d,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Scheduled"});case 2:return e.jsx(d,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Completed"});case 3:return e.jsx(d,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Cancelled"});case 4:return e.jsx(d,{className:"bg-orange-100 text-orange-800 hover:bg-orange-200",children:"Declined"});case 5:return e.jsx(d,{className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-200",children:"Confirmed"});case 6:return e.jsx(d,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Archived"});default:return e.jsx(d,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Unknown"})}},[X,D]=o.useState(!1),[r,Z]=o.useState({}),{data:x,setData:B,processing:V,errors:ee,post:se}=ce({status:null}),te=(s,t)=>{fetch(`/auth/appointment/get/${t}`).then(a=>a.json()).then(a=>{Z(a),B("status",a.status)}),D(!0)},_=s=>{D(!1)},{inertia:Fe}=W(),[l,j]=o.useState({isOpen:!1,type:null,appointmentId:null}),re=async s=>{try{const t=await I.post("/auth/appointments/archive",{appointment_id:s});v.success(t.data?.message||"Appointment archived successfully"),N.reload({only:["appointments_"]})}catch(t){console.error("Error archiving appointment:",t),v.error(t.response?.data?.message||"Failed to archive appointment")}finally{j({isOpen:!1,type:null,appointmentId:null})}},ae=async s=>{try{const t=await I.post("/auth/appointments/unarchive",{appointment_id:s});v.success(t.data?.message||"Appointment restored successfully"),N.reload({only:["appointments_"]})}catch(t){console.error("Error restoring appointment:",t),v.error(t.response?.data?.message||"Failed to restore appointment")}finally{j({isOpen:!1,type:null,appointmentId:null})}};o.useEffect(()=>{Y(g.data)},[g]);const ie=s=>{s.preventDefault(),se(route("admin.appointment.status.update",{appointment:r.id}),{onSuccess:()=>{_(),alert_toast("Success!","Status updated successfully!","success"),N.reload({only:["appointments_"]})}})},{links:ne}=W().props.appointments_;return!b||b.length===0?e.jsx(T,{header:"Appointments",tools:S(),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Appointments"})}),e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No appointments found."})})]})}):e.jsxs(T,{header:"Appointments",tools:S(),children:[e.jsx(be,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#363636",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}}),e.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"All Appointments"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and track all appointment records"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(me,{type:"text",placeholder:"Search appointments...",value:c,onChange:s=>q(s.target.value),className:"pl-10 w-full md:w-[250px] bg-gray-50 border-gray-200 focus:border-primary"})]}),e.jsxs(H,{value:w,onValueChange:G,children:[e.jsxs($,{className:"w-[180px] bg-gray-50 border-gray-200",children:[e.jsx(Se,{className:"h-4 w-4 mr-2 text-gray-400"}),e.jsx(O,{placeholder:"Filter by status"})]}),e.jsxs(R,{children:[e.jsx(h,{value:"all",children:"All Statuses"}),e.jsx(h,{value:1,children:"Scheduled"}),e.jsx(h,{value:2,children:"Completed"}),e.jsx(h,{value:3,children:"Cancelled"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(he,{data:b,defaultSort:{key:"user.firstname",direction:"asc"},children:({sortedData:s})=>e.jsxs(pe,{children:[e.jsx(ue,{children:e.jsxs(E,{children:[e.jsx(p,{sortKey:"user.firstname",sortable:!0,children:"Patient"}),e.jsx(p,{sortKey:"date",children:"Date & Time"}),e.jsx(p,{sortKey:"created_at",children:"Created Date & Time"}),e.jsx(p,{children:"Doctor"}),e.jsx(p,{sortKey:"service.servicename",children:"Purpose"}),e.jsx(p,{sortKey:"status",children:"Status"}),e.jsx(p,{children:"Actions"})]})}),e.jsxs(ge,{children:[s.length<=0&&e.jsx("div",{className:" m-5",children:"No Records Available."}),s.map((t,a)=>e.jsxs(E,{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(P,{children:[e.jsx(F,{src:t.profile_picture||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.firstname}`,alt:t.firstname||"Patient"}),e.jsx(U,{children:t.firstname?.split(" ")?.map(i=>i[0])?.join("")||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:`${t.firstname||""} ${t.middlename||""} ${t.lastname||""}`.trim()}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Patient ID: PAT_",t.firstname?.substring(0,3).toUpperCase(),"_",t.lastname?.substring(0,3).toUpperCase(),"_",M(t.created_at)]}),e.jsx("div",{className:"text-xs text-blue-600",children:"Patient"})]})]})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"font-semibold text-gray-800",children:f(t.date)})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:A(t.time)})]})]})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"font-semibold text-gray-800",children:f(t.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[e.jsx("div",{className:"p-1 bg-orange-100 rounded",children:e.jsx("svg",{className:"w-3 h-3 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:J(t.created_at)})]})]})}),e.jsx(u,{children:"Not Set"}),e.jsx(u,{children:t.service?.servicename}),e.jsx(u,{children:Q(t.status)}),e.jsx(u,{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{onClick:i=>{te(i,t.id)},className:"inline-flex items-center p-2 rounded-full hover:bg-gray-100",children:e.jsx(De,{className:"h-4 w-4"})}),t.status!==6?e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>j({isOpen:!0,type:"archive",appointmentId:t.id}),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors duration-200",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Archive"]}):e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>j({isOpen:!0,type:"unarchive",appointmentId:t.id}),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 transition-colors duration-200",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Restore"]})]})})]},a))]})]})})})}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",e.jsx("span",{className:"font-medium",children:g.from})," to"," ",e.jsx("span",{className:"font-medium",children:g.to})," of"," ",e.jsx("span",{className:"font-medium",children:g.total})," Results"]}),e.jsx("div",{className:"flex gap-2",children:ne.map((s,t)=>e.jsx(y,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url||s.active,onClick:()=>s.url&&N.get(s.url),className:"min-w-[40px] h-[36px]",children:s.label.includes("Previous")?e.jsx(_e,{className:"h-4 w-4"}):s.label.includes("Next")?e.jsx(ze,{className:"h-4 w-4"}):s.label},t))})]})]}),e.jsxs(xe,{isOpen:X,hasCancel:!0,onClose:_,maxWidth:"7xl",canceltext:"Close",savetext:"",className:"max-h-[95vh] overflow-y-auto w-full",children:[e.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 rounded-t-lg -m-6 mb-4 p-5 text-white",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Appointment Details"}),e.jsx("p",{className:"text-blue-100 mt-0.5 text-xs lg:text-sm",children:"Comprehensive appointment information and management"})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-blue-100 text-xs font-medium mb-0.5",children:"Status"}),e.jsx(d,{className:`${x.status==1?"bg-blue-500 text-white border-blue-400":x.status==5?"bg-green-500 text-white border-green-400":x.status==4?"bg-red-500 text-white border-red-400":"bg-gray-500 text-white border-gray-400"} text-xs font-semibold px-3 py-1 whitespace-nowrap`,children:x.status==1?"Scheduled":x.status==5?"Confirmed":x.status==4?"Declined":"Unknown"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-4",children:[e.jsx("div",{className:"xl:col-span-3",children:e.jsxs(k,{className:"h-full shadow-lg border-0 bg-gradient-to-br from-white to-blue-50/30",children:[e.jsx(C,{className:"pb-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Patient Information"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Personal details and contact information"})]})]})}),e.jsxs(L,{className:"p-3 space-y-3",children:[r?.profile_picture&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs(P,{className:"w-20 h-20 border-4 border-blue-200 shadow-lg",children:[e.jsx(F,{src:r.profile_picture,alt:r.firstname||"Patient"}),e.jsx(U,{children:r.firstname?.split(" ")?.map(s=>s[0])?.join("")||"N/A"})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]})}),e.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 shadow-sm",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-blue-800",children:"Appointment Patient"}),e.jsx("p",{className:"text-[10px] text-blue-600",children:"Verified record"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"sm:col-span-2 lg:col-span-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("p",{className:"text-xs font-semibold text-blue-700",children:"Full Name"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:r?`${r.firstname||""} ${r.middlename||""} ${r.lastname||""}`.trim():"No patient data"})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-purple-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Patient ID"})]}),e.jsx("p",{className:"text-xs font-mono bg-gray-100 px-2 py-1 rounded text-gray-800",children:r?`PAT_${r.firstname?.substring(0,3).toUpperCase()||"UNK"}_${r.lastname?.substring(0,3).toUpperCase()||"UNK"}_${M(r.created_at)}`:"No patient data"})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-green-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Email Address"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:r?.email||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-orange-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Phone Number"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:r?.phone||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-pink-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Date of Birth"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:r?.date_of_birth?new Date(r.date_of_birth).toLocaleDateString():e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-indigo-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Age"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:r?.date_of_birth?(()=>{const s=new Date(r.date_of_birth),t=new Date;let a=t.getFullYear()-s.getFullYear();const i=t.getMonth()-s.getMonth();return(i<0||i===0&&t.getDate()<s.getDate())&&a--,a})():e.jsx("span",{className:"text-gray-400 italic",children:"Not available"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-cyan-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Gender"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:r?.gender||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-teal-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Registration Date"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:r?.created_at?f(r.created_at):"Not available"})]})]})]})]})}),e.jsx("div",{className:"xl:col-span-2",children:e.jsxs(k,{className:"h-full shadow-lg border-0 bg-gradient-to-br from-white to-green-50/30",children:[e.jsx(C,{className:"pb-3 bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Appointment Details"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Service and scheduling information"})]})]})}),e.jsxs(L,{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-green-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-green-700",children:"Service"})]}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:r?.service?.servicename||e.jsx("span",{className:"text-gray-400 italic",children:"Not specified"})})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-xs font-semibold text-blue-700",children:"Appointment Date & Time"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-blue-600 font-medium",children:"Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:r?.date?f(r.date):"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-blue-600 font-medium",children:"Time"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:r?.time?A(r.time):e.jsx("span",{className:"text-gray-400 italic",children:"Not specified"})})]})]})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-purple-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Sub-service"})]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r?.subservice?.subservicename||e.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-orange-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Reference Number"})]}),e.jsx("p",{className:"text-xs font-mono bg-gray-100 px-2 py-1 rounded text-gray-800",children:r?.reference_number||e.jsx("span",{className:"text-gray-400 italic",children:"Not generated"})})]}),e.jsxs("div",{className:"p-2.5 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-red-500 rounded-md",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2M9 4a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Priority Number"})]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r?.priority_number||e.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]})]})]})})]}),r?.notes&&e.jsxs(k,{className:"mt-4 shadow-lg border-0 bg-gradient-to-br from-white to-yellow-50/30",children:[e.jsx(C,{className:"pb-3 bg-gradient-to-r from-yellow-50 to-amber-50 border-b border-yellow-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Additional Notes"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Important information and comments"})]})]})}),e.jsx(L,{className:"p-3",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-lg p-3 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"p-1.5 bg-yellow-500 rounded-md mt-0.5",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:r?.notes})})]})})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Update Status:"})]}),e.jsxs(H,{value:x.status,onValueChange:s=>{B("status",s)},children:[e.jsx($,{className:"w-full sm:w-[180px] bg-white border-2 border-gray-200 focus:border-blue-500 rounded-lg",children:e.jsx(O,{placeholder:"Select status"})}),e.jsxs(R,{children:[e.jsx(h,{value:1,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Scheduled"})]})}),e.jsx(h,{value:5,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Confirmed"})]})}),e.jsx(h,{value:4,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Declined"})]})})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(K,{disabled:V,onClick:ie,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 rounded-lg font-semibold shadow-lg text-sm",children:V?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3.5 w-3.5 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Save Changes"]})})})]}),e.jsx(je,{message:ee.status,className:"mt-3 text-red-600 font-medium"})]})]}),e.jsx(fe,{open:l.isOpen,onOpenChange:s=>j({isOpen:s,type:null,appointmentId:null}),children:e.jsxs(Ne,{className:"max-w-[400px]",children:[e.jsxs(ve,{children:[e.jsx(we,{className:"text-lg font-semibold",children:l.type==="archive"?"Archive Appointment":"Restore Appointment"}),e.jsx(ye,{className:"text-gray-600",children:l.type==="archive"?"Are you sure you want to archive this appointment? This will remove it from the active list.":"Are you sure you want to restore this appointment? This will return it to the active list."})]}),e.jsxs(ke,{children:[e.jsx(Ce,{className:"border-gray-200 hover:bg-gray-50",children:"Cancel"}),e.jsx(Le,{onClick:()=>{l.type==="archive"?re(l.appointmentId):ae(l.appointmentId)},className:`${l.type==="archive"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,children:l.type==="archive"?"Archive":"Restore"})]})]})})]})}export{Os as default};
