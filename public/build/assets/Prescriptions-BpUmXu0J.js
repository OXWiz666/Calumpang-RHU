import{j as e,H as E,L as g}from"./app-CpcWMaCr.js";import{r as d,R as T}from"./vendor-DkBadjUr.js";import{A as z}from"./AdminLayout-CzUCsc_E.js";import{B as i}from"./button-83KshekS.js";import{C as l,c as n}from"./card-i_W9PX4F.js";import{B as x}from"./badge-Cc1b6IgZ.js";import{P as A}from"./plus-MavOGQlj.js";import{F as y}from"./file-text-YZXa1D2L.js";import{U as D}from"./user-3RJR1iCA.js";import{C as F}from"./calendar-D9APQM2e.js";import{P as R}from"./pill-DIGxtF-3.js";import{E as M}from"./eye-mxYijkrE.js";import{C as U}from"./chevron-left-B36-TXNE.js";import{C as H}from"./chevron-right-B3qqnx4D.js";import{C as w}from"./clock-D6yUBuGv.js";import{C as b}from"./circle-check-big-BQVCuGNJ.js";import{C as I}from"./circle-x-Cf2XhiVO.js";import"./pusher-DVtoYAOu.js";import"./index-D-5lYtqK.js";import"./avatar-c-kVTmJN.js";import"./react-icons.esm-9ndgmCxB.js";import"./separator-R4CBDmT6.js";import"./index-BuhaAKb_.js";import"./index-DcuBkBaW.js";import"./select-B2DawXAC.js";import"./index-cyM4JHm5.js";import"./index-BWKolfP-.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Su2r44Ky.js";import"./index-DqxisvwK.js";import"./index-Bkpbp3ld.js";import"./moment-C5S46NFB.js";import"./dialog-CDdyR0jn.js";import"./input-FXb9p87Q.js";import"./label-Ci5QeB7S.js";import"./calendar-BOm8zBBd.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput-lKS1f1tZ.js";import"./createLucideIcon-BKWaAi2G.js";import"./x-b8JahagL.js";import"./settings-D_MeB5oN.js";import"./house-CSq-WFst.js";import"./users-D4PhO1-D.js";import"./pusher-BmsVLRTL.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./index-BH6rhEqw.js";import"./proxy-NKVFv3z7.js";import"./autoprefixer-CLGpDyKH.js";import"./unit-CopbpOEH.js";import"./Toaster-bRVMISGF.js";import"./toast-DJgp-ZGD.js";import"./use-toast-Dm0PN6fH.js";import"./layers-OK8ayVTK.js";import"./heart-pulse-BaF2IKdt.js";import"./chart-column-yMaSKbSU.js";function qe({prescriptions:o}){const[c,C]=d.useState(""),[r,P]=d.useState("all"),[t,u]=d.useState(1),[m]=d.useState(5),a=o.filter(s=>{const j=s.patient_name||"",L=s.prescription_number||"",v=c.toLowerCase(),k=j.toLowerCase().includes(v)||L.toLowerCase().includes(v),B=r==="all"||s.status===r;return k&&B}),f=Math.ceil(a.length/m),p=(t-1)*m,N=p+m,S=a.slice(p,N);T.useEffect(()=>{u(1)},[c,r]);const h=s=>{u(s)},_=s=>{switch(s){case"pending":return e.jsxs(x,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),"Pending"]});case"dispensed":return e.jsxs(x,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(b,{className:"h-3 w-3 mr-1"}),"Dispensed"]});case"cancelled":return e.jsxs(x,{variant:"outline",className:"text-red-600 border-red-600",children:[e.jsx(I,{className:"h-3 w-3 mr-1"}),"Cancelled"]});default:return e.jsx(x,{variant:"outline",children:s})}};return e.jsxs(z,{header:"Prescriptions",children:[e.jsx(E,{title:"Prescriptions"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prescriptions"}),e.jsx("p",{className:"text-gray-600",children:"Manage patient prescriptions"})]}),e.jsx(g,{href:route("doctor.prescriptions.create"),children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"New Prescription"]})})]}),e.jsx(l,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search by patient name or prescription number...",value:c,onChange:s=>C(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("select",{value:r,onChange:s=>P(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"dispensed",children:"Dispensed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})})}),e.jsxs("div",{className:"space-y-4",children:[a.length===0?e.jsx(l,{children:e.jsxs(n,{className:"p-8 text-center",children:[e.jsx(y,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No prescriptions found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:c||r!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating your first prescription."}),!c&&r==="all"&&e.jsx(g,{href:route("doctor.prescriptions.create"),children:e.jsx(i,{children:"Create Prescription"})})]})}):S.map(s=>e.jsx(l,{className:"hover:shadow-md transition-shadow",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.prescription_number}),_(s.status)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:s.patient_name||"Unknown Patient"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:s.prescription_date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.medicines_count," medicines"]})]})]}),s.notes&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',s.notes,'"']})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(g,{href:route("doctor.prescriptions.show",s.id),children:e.jsxs(i,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"View"]})})})]})})},s.id)),a.length>m&&e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",p+1," to ",Math.min(N,a.length)," of ",a.length," prescriptions"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>h(t-1),disabled:t===1,className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:f},(s,j)=>j+1).map(s=>e.jsx(i,{variant:t===s?"default":"outline",size:"sm",onClick:()=>h(s),className:`w-8 h-8 p-0 ${t===s?"bg-blue-600 text-white":"hover:bg-gray-50"}`,children:s},s))}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>h(t+1),disabled:t===f,className:"flex items-center gap-1",children:["Next",e.jsx(H,{className:"h-4 w-4"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(l,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.filter(s=>s.status==="pending").length})]})]})})}),e.jsx(l,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Dispensed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.filter(s=>s.status==="dispensed").length})]})]})})}),e.jsx(l,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]})]})})})]})]})]})}export{qe as default};
