import{r as a,j as e,b as ae,q as se,W as L}from"./app-CeIgF_ON.js";import{B as C}from"./button-Fpuf3gK7.js";import{B as ve}from"./badge-BoTmsD8x.js";import{h as Ne}from"./moment-C5S46NFB.js";import{N as we,P as ke}from"./pusher-DCkN6nwv.js";import{B as le}from"./bell-B4Bny3sk.js";import{A as Ce}from"./index-DGjbBNAT.js";import{m as Se}from"./proxy-CJR3EsRI.js";import{P as Me,t as Le}from"./PhilippinesAddressLookup-uStuTDHE.js";import{I as re}from"./input-BCfEL07B.js";import{L as U}from"./label-BoiibVKM.js";import{T as ce}from"./textarea-CHqauKob.js";import{S as Pe}from"./separator-Cw77xRaf.js";import{c as ne}from"./createLucideIcon-YALEnXJP.js";import{M as Ae}from"./map-pin-C2PYcTlD.js";import{P as ze}from"./phone-BRCHNrFL.js";import{M as Be}from"./mail-CJC9A5hE.js";import{C as Te}from"./chevron-up-CFknDtme.js";import{s as Ie}from"./toast-Bu_EgVQh.js";import{T as Ee}from"./Toaster-fp6k2nVx.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],We=ne("Facebook",Re);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Fe=ne("Instagram",He);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Ve=ne("Twitter",qe),De=({className:N="",datas:u})=>{const[x,o]=a.useState(!1),[d,m]=a.useState(!1),[r,f]=a.useState(null),[n,w]=a.useState(!1),[g,i]=a.useState(u.all_notifications??u.notifications);let k=g.filter(l=>!l.read_at).length;a.useEffect(()=>{i(u.all_notifications??u.notifications),k=g.filter(l=>!l.read_at).length},[u]);const y=()=>{if(o(!x),!x){const l=g.map(j=>({...j,read:!0}));i(l)}},W=l=>{f(l),w(!0),o(!1)},A=l=>{switch(l){case"appointment_resched":return"text-blue-500 bg-blue-100";default:return"text-gray-500 bg-gray-100"}};return e.jsxs("div",{className:`relative ${N}`,children:[e.jsxs(C,{variant:"ghost",size:"icon",className:"relative",onClick:y,"aria-label":"Notifications",children:[e.jsx(le,{className:"h-5 w-5"}),k>0&&e.jsx(ve,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0",children:k})]}),e.jsx(Ce,{children:x&&e.jsxs(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notifications"})}),e.jsx("form",{onSubmit:l=>{l.preventDefault(),ae.post(route("notifications.markAllRead"),{},{preserveScroll:!0})},children:e.jsx(C,{type:"submit",variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"Mark all as read"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-gray-200",children:(d?g:g.slice(0,3)).map(l=>e.jsx("div",{className:`p-3 hover:bg-accent/50 transition-colors cursor-pointer ${l.read_at?"":"bg-accent/20"}`,onClick:()=>W(l),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${A(l.data.type)}`,children:e.jsx(le,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-medium",children:l.data.title}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Ne(l.created_at).fromNow()}),e.jsx("div",{className:" text-sm",children:l.read_at?e.jsx("div",{children:"Read"}):e.jsx("div",{children:"Unread"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.data.message})]})]})},l.id))})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-accent/10",children:e.jsx(C,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",onClick:()=>m(l=>!l),children:d?"Show less":"View all notifications"})})]})}),e.jsx(we,{isOpen:n,onClose:()=>{w(!1),f(null)},notification:r})]})},Oe=({isOpen:N,onClose:u,onBackToSelection:x,showBackButton:o=!1})=>{const[d,m]=a.useState(1),[r,f]=a.useState({firstname:"",middlename:"",lastname:"",suffix:"",sex:"",birthdate:"",age:0,civilStatus:"",nationality:"FILIPINO",religion:"",country:"Philippines",region:"",province:"",city:"",barangay:"",street:"",zipCode:"",mobileNo:"",emailAddress:"",region_id:null,province_id:null,city_id:null,barangay_id:null,mobileCountryCode:"+63"}),[n,w]=a.useState(""),[g,i]=a.useState(!1),[k,y]=a.useState(""),[W,A]=a.useState(""),[l,j]=a.useState(null),[S,z]=a.useState(null),[h,I]=a.useState({}),[H,F]=a.useState(""),[G,O]=a.useState(!1),[B,$]=a.useState(null),[Q,R]=a.useState(null),[E,q]=a.useState(!1);a.useEffect(()=>()=>{B&&B.getTracks().forEach(t=>t.stop())},[B]);const Y=[{code:"+63",country:"Philippines",flag:"ðŸ‡µðŸ‡­"},{code:"+1",country:"United States",flag:"ðŸ‡ºðŸ‡¸"},{code:"+44",country:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§"},{code:"+86",country:"China",flag:"ðŸ‡¨ðŸ‡³"},{code:"+81",country:"Japan",flag:"ðŸ‡¯ðŸ‡µ"},{code:"+82",country:"South Korea",flag:"ðŸ‡°ðŸ‡·"},{code:"+65",country:"Singapore",flag:"ðŸ‡¸ðŸ‡¬"},{code:"+60",country:"Malaysia",flag:"ðŸ‡²ðŸ‡¾"},{code:"+66",country:"Thailand",flag:"ðŸ‡¹ðŸ‡­"},{code:"+84",country:"Vietnam",flag:"ðŸ‡»ðŸ‡³"},{code:"+62",country:"Indonesia",flag:"ðŸ‡®ðŸ‡©"},{code:"+61",country:"Australia",flag:"ðŸ‡¦ðŸ‡º"},{code:"+49",country:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{code:"+33",country:"France",flag:"ðŸ‡«ðŸ‡·"},{code:"+39",country:"Italy",flag:"ðŸ‡®ðŸ‡¹"},{code:"+34",country:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{code:"+7",country:"Russia",flag:"ðŸ‡·ðŸ‡º"},{code:"+91",country:"India",flag:"ðŸ‡®ðŸ‡³"},{code:"+55",country:"Brazil",flag:"ðŸ‡§ðŸ‡·"},{code:"+52",country:"Mexico",flag:"ðŸ‡²ðŸ‡½"},{code:"+1",country:"Canada",flag:"ðŸ‡¨ðŸ‡¦"},{code:"+971",country:"UAE",flag:"ðŸ‡¦ðŸ‡ª"},{code:"+966",country:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{code:"+974",country:"Qatar",flag:"ðŸ‡¶ðŸ‡¦"},{code:"+965",country:"Kuwait",flag:"ðŸ‡°ðŸ‡¼"},{code:"+973",country:"Bahrain",flag:"ðŸ‡§ðŸ‡­"},{code:"+968",country:"Oman",flag:"ðŸ‡´ðŸ‡²"},{code:"+20",country:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{code:"+27",country:"South Africa",flag:"ðŸ‡¿ðŸ‡¦"},{code:"+234",country:"Nigeria",flag:"ðŸ‡³ðŸ‡¬"},{code:"+254",country:"Kenya",flag:"ðŸ‡°ðŸ‡ª"},{code:"+233",country:"Ghana",flag:"ðŸ‡¬ðŸ‡­"},{code:"+212",country:"Morocco",flag:"ðŸ‡²ðŸ‡¦"},{code:"+213",country:"Algeria",flag:"ðŸ‡©ðŸ‡¿"},{code:"+216",country:"Tunisia",flag:"ðŸ‡¹ðŸ‡³"},{code:"+218",country:"Libya",flag:"ðŸ‡±ðŸ‡¾"},{code:"+220",country:"Gambia",flag:"ðŸ‡¬ðŸ‡²"},{code:"+221",country:"Senegal",flag:"ðŸ‡¸ðŸ‡³"},{code:"+222",country:"Mauritania",flag:"ðŸ‡²ðŸ‡·"},{code:"+223",country:"Mali",flag:"ðŸ‡²ðŸ‡±"},{code:"+224",country:"Guinea",flag:"ðŸ‡¬ðŸ‡³"},{code:"+225",country:"Ivory Coast",flag:"ðŸ‡¨ðŸ‡®"},{code:"+226",country:"Burkina Faso",flag:"ðŸ‡§ðŸ‡«"},{code:"+227",country:"Niger",flag:"ðŸ‡³ðŸ‡ª"},{code:"+228",country:"Togo",flag:"ðŸ‡¹ðŸ‡¬"},{code:"+229",country:"Benin",flag:"ðŸ‡§ðŸ‡¯"},{code:"+230",country:"Mauritius",flag:"ðŸ‡²ðŸ‡º"},{code:"+231",country:"Liberia",flag:"ðŸ‡±ðŸ‡·"},{code:"+232",country:"Sierra Leone",flag:"ðŸ‡¸ðŸ‡±"},{code:"+235",country:"Chad",flag:"ðŸ‡¹ðŸ‡©"},{code:"+236",country:"Central African Republic",flag:"ðŸ‡¨ðŸ‡«"},{code:"+237",country:"Cameroon",flag:"ðŸ‡¨ðŸ‡²"},{code:"+238",country:"Cape Verde",flag:"ðŸ‡¨ðŸ‡»"},{code:"+239",country:"SÃ£o TomÃ© and PrÃ­ncipe",flag:"ðŸ‡¸ðŸ‡¹"},{code:"+240",country:"Equatorial Guinea",flag:"ðŸ‡¬ðŸ‡¶"},{code:"+241",country:"Gabon",flag:"ðŸ‡¬ðŸ‡¦"},{code:"+242",country:"Republic of the Congo",flag:"ðŸ‡¨ðŸ‡¬"},{code:"+243",country:"Democratic Republic of the Congo",flag:"ðŸ‡¨ðŸ‡©"},{code:"+244",country:"Angola",flag:"ðŸ‡¦ðŸ‡´"},{code:"+245",country:"Guinea-Bissau",flag:"ðŸ‡¬ðŸ‡¼"},{code:"+246",country:"British Indian Ocean Territory",flag:"ðŸ‡®ðŸ‡´"},{code:"+248",country:"Seychelles",flag:"ðŸ‡¸ðŸ‡¨"},{code:"+249",country:"Sudan",flag:"ðŸ‡¸ðŸ‡©"},{code:"+250",country:"Rwanda",flag:"ðŸ‡·ðŸ‡¼"},{code:"+251",country:"Ethiopia",flag:"ðŸ‡ªðŸ‡¹"},{code:"+252",country:"Somalia",flag:"ðŸ‡¸ðŸ‡´"},{code:"+253",country:"Djibouti",flag:"ðŸ‡©ðŸ‡¯"},{code:"+255",country:"Tanzania",flag:"ðŸ‡¹ðŸ‡¿"},{code:"+256",country:"Uganda",flag:"ðŸ‡ºðŸ‡¬"},{code:"+257",country:"Burundi",flag:"ðŸ‡§ðŸ‡®"},{code:"+258",country:"Mozambique",flag:"ðŸ‡²ðŸ‡¿"},{code:"+260",country:"Zambia",flag:"ðŸ‡¿ðŸ‡²"},{code:"+261",country:"Madagascar",flag:"ðŸ‡²ðŸ‡¬"},{code:"+262",country:"RÃ©union",flag:"ðŸ‡·ðŸ‡ª"},{code:"+263",country:"Zimbabwe",flag:"ðŸ‡¿ðŸ‡¼"},{code:"+264",country:"Namibia",flag:"ðŸ‡³ðŸ‡¦"},{code:"+265",country:"Malawi",flag:"ðŸ‡²ðŸ‡¼"},{code:"+266",country:"Lesotho",flag:"ðŸ‡±ðŸ‡¸"},{code:"+267",country:"Botswana",flag:"ðŸ‡§ðŸ‡¼"},{code:"+268",country:"Swaziland",flag:"ðŸ‡¸ðŸ‡¿"},{code:"+269",country:"Comoros",flag:"ðŸ‡°ðŸ‡²"},{code:"+290",country:"Saint Helena",flag:"ðŸ‡¸ðŸ‡­"},{code:"+291",country:"Eritrea",flag:"ðŸ‡ªðŸ‡·"},{code:"+297",country:"Aruba",flag:"ðŸ‡¦ðŸ‡¼"},{code:"+298",country:"Faroe Islands",flag:"ðŸ‡«ðŸ‡´"},{code:"+299",country:"Greenland",flag:"ðŸ‡¬ðŸ‡±"},{code:"+350",country:"Gibraltar",flag:"ðŸ‡¬ðŸ‡®"},{code:"+351",country:"Portugal",flag:"ðŸ‡µðŸ‡¹"},{code:"+352",country:"Luxembourg",flag:"ðŸ‡±ðŸ‡º"},{code:"+353",country:"Ireland",flag:"ðŸ‡®ðŸ‡ª"},{code:"+354",country:"Iceland",flag:"ðŸ‡®ðŸ‡¸"},{code:"+355",country:"Albania",flag:"ðŸ‡¦ðŸ‡±"},{code:"+356",country:"Malta",flag:"ðŸ‡²ðŸ‡¹"},{code:"+357",country:"Cyprus",flag:"ðŸ‡¨ðŸ‡¾"},{code:"+358",country:"Finland",flag:"ðŸ‡«ðŸ‡®"},{code:"+359",country:"Bulgaria",flag:"ðŸ‡§ðŸ‡¬"},{code:"+370",country:"Lithuania",flag:"ðŸ‡±ðŸ‡¹"},{code:"+371",country:"Latvia",flag:"ðŸ‡±ðŸ‡»"},{code:"+372",country:"Estonia",flag:"ðŸ‡ªðŸ‡ª"},{code:"+373",country:"Moldova",flag:"ðŸ‡²ðŸ‡©"},{code:"+374",country:"Armenia",flag:"ðŸ‡¦ðŸ‡²"},{code:"+375",country:"Belarus",flag:"ðŸ‡§ðŸ‡¾"},{code:"+376",country:"Andorra",flag:"ðŸ‡¦ðŸ‡©"},{code:"+377",country:"Monaco",flag:"ðŸ‡²ðŸ‡¨"},{code:"+378",country:"San Marino",flag:"ðŸ‡¸ðŸ‡²"},{code:"+380",country:"Ukraine",flag:"ðŸ‡ºðŸ‡¦"},{code:"+381",country:"Serbia",flag:"ðŸ‡·ðŸ‡¸"},{code:"+382",country:"Montenegro",flag:"ðŸ‡²ðŸ‡ª"},{code:"+383",country:"Kosovo",flag:"ðŸ‡½ðŸ‡°"},{code:"+385",country:"Croatia",flag:"ðŸ‡­ðŸ‡·"},{code:"+386",country:"Slovenia",flag:"ðŸ‡¸ðŸ‡®"},{code:"+387",country:"Bosnia and Herzegovina",flag:"ðŸ‡§ðŸ‡¦"},{code:"+389",country:"North Macedonia",flag:"ðŸ‡²ðŸ‡°"},{code:"+420",country:"Czech Republic",flag:"ðŸ‡¨ðŸ‡¿"},{code:"+421",country:"Slovakia",flag:"ðŸ‡¸ðŸ‡°"},{code:"+423",country:"Liechtenstein",flag:"ðŸ‡±ðŸ‡®"},{code:"+500",country:"Falkland Islands",flag:"ðŸ‡«ðŸ‡°"},{code:"+501",country:"Belize",flag:"ðŸ‡§ðŸ‡¿"},{code:"+502",country:"Guatemala",flag:"ðŸ‡¬ðŸ‡¹"},{code:"+503",country:"El Salvador",flag:"ðŸ‡¸ðŸ‡»"},{code:"+504",country:"Honduras",flag:"ðŸ‡­ðŸ‡³"},{code:"+505",country:"Nicaragua",flag:"ðŸ‡³ðŸ‡®"},{code:"+506",country:"Costa Rica",flag:"ðŸ‡¨ðŸ‡·"},{code:"+507",country:"Panama",flag:"ðŸ‡µðŸ‡¦"},{code:"+508",country:"Saint Pierre and Miquelon",flag:"ðŸ‡µðŸ‡²"},{code:"+509",country:"Haiti",flag:"ðŸ‡­ðŸ‡¹"},{code:"+590",country:"Guadeloupe",flag:"ðŸ‡¬ðŸ‡µ"},{code:"+591",country:"Bolivia",flag:"ðŸ‡§ðŸ‡´"},{code:"+592",country:"Guyana",flag:"ðŸ‡¬ðŸ‡¾"},{code:"+593",country:"Ecuador",flag:"ðŸ‡ªðŸ‡¨"},{code:"+594",country:"French Guiana",flag:"ðŸ‡¬ðŸ‡«"},{code:"+595",country:"Paraguay",flag:"ðŸ‡µðŸ‡¾"},{code:"+596",country:"Martinique",flag:"ðŸ‡²ðŸ‡¶"},{code:"+597",country:"Suriname",flag:"ðŸ‡¸ðŸ‡·"},{code:"+598",country:"Uruguay",flag:"ðŸ‡ºðŸ‡¾"},{code:"+599",country:"Netherlands Antilles",flag:"ðŸ‡§ðŸ‡¶"},{code:"+670",country:"East Timor",flag:"ðŸ‡¹ðŸ‡±"},{code:"+672",country:"Antarctica",flag:"ðŸ‡¦ðŸ‡¶"},{code:"+673",country:"Brunei",flag:"ðŸ‡§ðŸ‡³"},{code:"+674",country:"Nauru",flag:"ðŸ‡³ðŸ‡·"},{code:"+675",country:"Papua New Guinea",flag:"ðŸ‡µðŸ‡¬"},{code:"+676",country:"Tonga",flag:"ðŸ‡¹ðŸ‡´"},{code:"+677",country:"Solomon Islands",flag:"ðŸ‡¸ðŸ‡§"},{code:"+678",country:"Vanuatu",flag:"ðŸ‡»ðŸ‡º"},{code:"+679",country:"Fiji",flag:"ðŸ‡«ðŸ‡¯"},{code:"+680",country:"Palau",flag:"ðŸ‡µðŸ‡¼"},{code:"+681",country:"Wallis and Futuna",flag:"ðŸ‡¼ðŸ‡«"},{code:"+682",country:"Cook Islands",flag:"ðŸ‡¨ðŸ‡°"},{code:"+683",country:"Niue",flag:"ðŸ‡³ðŸ‡º"},{code:"+684",country:"American Samoa",flag:"ðŸ‡¦ðŸ‡¸"},{code:"+685",country:"Samoa",flag:"ðŸ‡¼ðŸ‡¸"},{code:"+686",country:"Kiribati",flag:"ðŸ‡°ðŸ‡®"},{code:"+687",country:"New Caledonia",flag:"ðŸ‡³ðŸ‡¨"},{code:"+688",country:"Tuvalu",flag:"ðŸ‡¹ðŸ‡»"},{code:"+689",country:"French Polynesia",flag:"ðŸ‡µðŸ‡«"},{code:"+690",country:"Tokelau",flag:"ðŸ‡¹ðŸ‡°"},{code:"+691",country:"Micronesia",flag:"ðŸ‡«ðŸ‡²"},{code:"+692",country:"Marshall Islands",flag:"ðŸ‡²ðŸ‡­"},{code:"+850",country:"North Korea",flag:"ðŸ‡°ðŸ‡µ"},{code:"+852",country:"Hong Kong",flag:"ðŸ‡­ðŸ‡°"},{code:"+853",country:"Macau",flag:"ðŸ‡²ðŸ‡´"},{code:"+855",country:"Cambodia",flag:"ðŸ‡°ðŸ‡­"},{code:"+856",country:"Laos",flag:"ðŸ‡±ðŸ‡¦"},{code:"+880",country:"Bangladesh",flag:"ðŸ‡§ðŸ‡©"},{code:"+886",country:"Taiwan",flag:"ðŸ‡¹ðŸ‡¼"},{code:"+960",country:"Maldives",flag:"ðŸ‡²ðŸ‡»"},{code:"+961",country:"Lebanon",flag:"ðŸ‡±ðŸ‡§"},{code:"+962",country:"Jordan",flag:"ðŸ‡¯ðŸ‡´"},{code:"+963",country:"Syria",flag:"ðŸ‡¸ðŸ‡¾"},{code:"+964",country:"Iraq",flag:"ðŸ‡®ðŸ‡¶"},{code:"+967",country:"Yemen",flag:"ðŸ‡¾ðŸ‡ª"},{code:"+968",country:"Oman",flag:"ðŸ‡´ðŸ‡²"},{code:"+970",country:"Palestine",flag:"ðŸ‡µðŸ‡¸"},{code:"+972",country:"Israel",flag:"ðŸ‡®ðŸ‡±"},{code:"+973",country:"Bahrain",flag:"ðŸ‡§ðŸ‡­"},{code:"+974",country:"Qatar",flag:"ðŸ‡¶ðŸ‡¦"},{code:"+975",country:"Bhutan",flag:"ðŸ‡§ðŸ‡¹"},{code:"+976",country:"Mongolia",flag:"ðŸ‡²ðŸ‡³"},{code:"+977",country:"Nepal",flag:"ðŸ‡³ðŸ‡µ"},{code:"+992",country:"Tajikistan",flag:"ðŸ‡¹ðŸ‡¯"},{code:"+993",country:"Turkmenistan",flag:"ðŸ‡¹ðŸ‡²"},{code:"+994",country:"Azerbaijan",flag:"ðŸ‡¦ðŸ‡¿"},{code:"+995",country:"Georgia",flag:"ðŸ‡¬ðŸ‡ª"},{code:"+996",country:"Kyrgyzstan",flag:"ðŸ‡°ðŸ‡¬"},{code:"+998",country:"Uzbekistan",flag:"ðŸ‡ºðŸ‡¿"}],K=t=>{if(!t)return 0;const s=new Date,p=new Date(t);let v=s.getFullYear()-p.getFullYear();const T=s.getMonth()-p.getMonth();return(T<0||T===0&&s.getDate()<p.getDate())&&v--,v>=0?v:0},b=(t,s)=>{j({type:t,message:s}),setTimeout(()=>{j(null)},4e3)},X=async t=>{try{return(await(await fetch("/api/check-email-exists",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({email:t})})).json()).exists||!1}catch(s){return console.error("Error checking email:",s),!1}},c=async t=>{try{return(await(await fetch("/api/check-phone-exists",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({phone:t})})).json()).exists||!1}catch(s){return console.error("Error checking phone:",s),!1}},P=(t,s)=>{switch(t){case"civilStatus":return!s||s==="SELECT"?"Please select your civil status":"";case"nationality":return s.trim()?"":"Nationality is required";case"religion":return!s||s==="SELECT"?"Please select your religion":"";case"country":return s.trim()?"":"Country is required";case"region":return!s||s==="Select Region"?"Please select your region":"";case"province":return s.trim()?"":"Province is required";case"city":return s.trim()?"":"City is required";case"barangay":return s.trim()?"":"Barangay is required";case"street":return s.trim()?"":"Street address is required";case"zipCode":return s.trim()?/^\d{4}$/.test(s.trim())?"":"Zip code must be 4 digits":"Zip code is required";case"mobileNo":if(!s.trim())return"Mobile number is required";const p=s.replace(/[\s-]/g,"");return/^9\d{9}$/.test(p)?"":"Please enter a valid 10-digit mobile number starting with 9";case"emailAddress":return s.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim())?"":"Please enter a valid email address":"Email address is required";case"mobileCountryCode":return s.trim()?"":"Country code is required";default:return""}},J=async()=>{const t={};let s=!1;if(["civilStatus","nationality","religion","country","region","province","city","barangay","street","zipCode","mobileNo","mobileCountryCode","emailAddress"].forEach(v=>{const T=P(v,String(r[v]));T&&(t[v]=T,s=!0)}),r.emailAddress&&!t.emailAddress&&await X(r.emailAddress)&&(t.emailAddress="This email address is already taken. Please use a different email.",s=!0),r.mobileNo&&!t.mobileNo){const v=`${r.mobileCountryCode}${r.mobileNo}`;await c(v)&&(t.mobileNo="This phone number is already taken. Please use a different phone number.",s=!0)}return S?F(""):(F("Profile picture is required to complete verification"),s=!0),I(t),!s},M=(t,s)=>{f(p=>{const v={...p,[t]:s};return t==="birthdate"&&(v.age=K(s)),v}),h[t]&&I(p=>({...p,[t]:""}))},ie=async(t,s)=>{if(t==="emailAddress"&&s&&!h.emailAddress&&await X(s)&&I(v=>({...v,emailAddress:"This email address is already taken. Please use a different email."})),t==="mobileNo"&&s&&!h.mobileNo){const p=`${r.mobileCountryCode}${s}`;await c(p)&&I(T=>({...T,mobileNo:"This phone number is already taken. Please use a different phone number."}))}},ue=async()=>{i(!0),y(""),setTimeout(()=>{r.firstname&&r.lastname&&r.birthdate&&r.sex?(m(2),A("Basic information collected successfully")):y("Please fill in all required fields (First Name, Last Name, Sex, and Birth Date)"),i(!1)},1500)},me=async()=>{if(i(!0),y(""),!await J()){i(!1),S?b("error","Please correct the errors below before proceeding"):b("error","Profile picture is required to complete verification");return}setTimeout(()=>{A("Patient profile completed. Creating token session...");const s={firstname:r.firstname,middlename:r.middlename,lastname:r.lastname,suffix:r.suffix,sex:r.sex,birthdate:r.birthdate,age:r.age,email:r.emailAddress,phone:`${r.mobileCountryCode}${r.mobileNo}`,civilStatus:r.civilStatus,nationality:r.nationality,religion:r.religion,country:r.country,region:r.region,province:r.province,city:r.city,barangay:r.barangay,street:r.street,zipCode:r.zipCode,profileImage:S,region_id:r.region_id,province_id:r.province_id,city_id:r.city_id,barangay_id:r.barangay_id};Le.createTokenSession(s),localStorage.setItem("patientVerificationData",JSON.stringify(s)),fetch("/set-verification-session",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(()=>{u(),window.location.href="/appointments"}),i(!1)},1500)},he=()=>{z(null),b("success","Profile picture refreshed successfully!")},xe=async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});$(t),O(!0),b("info","Camera opened. Position yourself in the frame and click capture.")}catch(t){console.error("Error accessing camera:",t),b("error","Unable to access camera. Please check permissions or use file upload instead.")}},Z=()=>{B&&(B.getTracks().forEach(t=>t.stop()),$(null)),O(!1),R(null)},ge=()=>{if(!B)return;q(!0);const t=document.getElementById("camera-video"),s=document.createElement("canvas"),p=s.getContext("2d");if(t&&p){s.width=t.videoWidth,s.height=t.videoHeight,p.drawImage(t,0,0);const v=s.toDataURL("image/jpeg",.8);R(v),z(v),F(""),b("success","Photo captured successfully!"),Z()}q(!1)},fe=()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.style.display="none",t.addEventListener("change",s=>{const p=s.target.files?.[0];if(p){if(!p.type.startsWith("image/")){b("error","Please select a valid image file.");return}if(p.size>5*1024*1024){b("error","File size must be less than 5MB.");return}(T=>new Promise(ye=>{const ee=document.createElement("canvas"),be=ee.getContext("2d"),te=new Image;te.onload=()=>{let{width:V,height:D}=te;V>D?V>300&&(D=D*300/V,V=300):D>300&&(V=V*300/D,D=300),ee.width=V,ee.height=D,be?.drawImage(te,0,0,V,D);const je=ee.toDataURL("image/jpeg",.7);ye(je)},te.src=URL.createObjectURL(T)}))(p).then(T=>{z(T),F("")}),b("success",`Photo uploaded successfully: ${p.name}`)}}),document.body.appendChild(t),t.click(),document.body.removeChild(t)},pe=()=>{m(1),f({firstname:"",middlename:"",lastname:"",suffix:"",sex:"",birthdate:"",age:0,civilStatus:"",nationality:"FILIPINO",religion:"",country:"Philippines",region:"",province:"",city:"",barangay:"",street:"",zipCode:"",mobileNo:"",emailAddress:"",region_id:null,province_id:null,city_id:null,barangay_id:null,mobileCountryCode:"+63"}),w(""),y(""),A(""),z(null),I({}),F(""),Z()},oe=()=>{pe(),u()},_=({field:t})=>{const s=h[t];return s?e.jsxs("div",{className:"mt-1 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:s})]}):null};return N?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:oe}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-2xl w-full mx-auto border border-gray-100 ${d===1?"max-w-2xl":"max-w-6xl"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[d===1&&"Patient Information",d===2&&"Patient Profile"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d===1&&"Please provide your information to continue",d===2&&"Complete your patient profile to proceed to appointments"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[o&&d===1&&x&&e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 transition-all duration-200 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{children:"Back to Selection"})]}),e.jsx("button",{onClick:oe,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),l&&e.jsx("div",{className:"mx-8 mt-4 animate-in slide-in-from-top duration-300",children:e.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-sm border-l-4 ${l.type==="success"?"bg-green-50 border-green-400 text-green-800":l.type==="error"?"bg-red-50 border-red-400 text-red-800":"bg-blue-50 border-blue-400 text-blue-800"}`,children:[e.jsxs("div",{className:"flex-shrink-0",children:[l.type==="success"&&e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),l.type==="error"&&e.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),l.type==="info"&&e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:l.message})}),e.jsx("button",{onClick:()=>j(null),className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-8",children:[d===1&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 1 of 2"})]}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please provide your information to verify your identity and access appointment booking."})]}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),ue()},className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",value:r.firstname,onChange:t=>M("firstname",t.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your first name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx("input",{type:"text",value:r.middlename,onChange:t=>M("middlename",t.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your middle name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",value:r.lastname,onChange:t=>M("lastname",t.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your last name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Suffix"}),e.jsxs("select",{value:r.suffix,onChange:t=>M("suffix",t.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",children:[e.jsx("option",{value:"",children:"Select Suffix"}),e.jsx("option",{value:"Jr.",children:"Jr."}),e.jsx("option",{value:"Sr.",children:"Sr."}),e.jsx("option",{value:"II",children:"II"}),e.jsx("option",{value:"III",children:"III"}),e.jsx("option",{value:"IV",children:"IV"}),e.jsx("option",{value:"V",children:"V"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex *"}),e.jsxs("select",{value:r.sex,onChange:t=>M("sex",t.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",children:[e.jsx("option",{value:"",children:"Select Sex"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birth Date *"}),e.jsx("input",{type:"date",value:r.birthdate,onChange:t=>M("birthdate",t.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),e.jsx("div",{className:"w-full px-2 py-1.5 border border-gray-300 rounded-md bg-gradient-to-r from-blue-50 to-indigo-50 text-gray-700 flex items-center text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-medium",children:r.age>0?`${r.age}`:"Select birth date"})]})})]})]}),k&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-red-700 text-sm font-medium",children:k})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:oe,className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-all duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 rounded-lg transition-all duration-200 flex items-center space-x-2",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Verifying..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Verify Patient"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]})]})]}),d===2&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 2 of 2"})]}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Complete Patient Profile"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please provide additional information to complete your patient profile."})]}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),me()},className:"space-y-8",children:[e.jsx("div",{className:`bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-8 border-2 ${H?"border-red-300 bg-red-50":"border-transparent"}`,children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-28 h-28 bg-white rounded-full flex items-center justify-center shadow-lg border-4 overflow-hidden ${H?"border-red-300":"border-white"}`,children:S?e.jsx("img",{src:S,alt:"Profile",className:"w-full h-full object-cover rounded-full"}):e.jsx("svg",{className:"w-14 h-14 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsx("div",{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center shadow-lg ${H?"bg-red-500":"bg-green-500"}`,children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Profile Picture ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a clear photo of yourself for identification purposes"}),H&&e.jsxs("div",{className:"mb-4 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm text-red-600 font-medium",children:H})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{type:"button",onClick:he,className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"text-sm",children:"Refresh"})]}),e.jsxs("button",{type:"button",onClick:xe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-sm",children:"Camera"})]}),e.jsxs("button",{type:"button",onClick:fe,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("span",{className:"text-sm",children:"Upload"})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Civil Status *"}),e.jsxs("select",{value:r.civilStatus,onChange:t=>M("civilStatus",t.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${h.civilStatus?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"SELECT"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Widowed",children:"Widowed"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Separated",children:"Separated"})]}),e.jsx(_,{field:"civilStatus"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nationality *"}),e.jsx("input",{type:"text",value:r.nationality,onChange:t=>M("nationality",t.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Religion *"}),e.jsxs("select",{value:r.religion,onChange:t=>M("religion",t.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${h.religion?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"SELECT"}),e.jsx("option",{value:"Catholic",children:"Catholic"}),e.jsx("option",{value:"Protestant",children:"Protestant"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Buddhist",children:"Buddhist"}),e.jsx("option",{value:"Hindu",children:"Hindu"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(_,{field:"religion"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",value:r.country,onChange:t=>M("country",t.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-gray-50",readOnly:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Address Information"]}),e.jsx(Me,{formData:r,setFormData:f,isDisabled:!1})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street *"}),e.jsx("input",{type:"text",value:r.street,onChange:t=>M("street",t.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${h.street?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),e.jsx(_,{field:"street"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zip Code *"}),e.jsx("input",{type:"text",value:r.zipCode,onChange:t=>M("zipCode",t.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${h.zipCode?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter zip code"}),e.jsx(_,{field:"zipCode"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mobile No. *"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:r.mobileCountryCode,onChange:t=>M("mobileCountryCode",t.target.value),className:`h-12 px-3 pr-8 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white border-r-0 text-sm appearance-none cursor-pointer min-w-[120px] ${h.mobileCountryCode?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,style:{backgroundImage:"none",WebkitAppearance:"none",MozAppearance:"none"},children:Y.map(t=>e.jsxs("option",{value:t.code,children:[t.flag," ",t.code]},t.code))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),e.jsx("input",{type:"tel",value:r.mobileNo,onChange:t=>M("mobileNo",t.target.value),onBlur:t=>ie("mobileNo",t.target.value),required:!0,className:`flex-1 h-12 px-4 py-3 border rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${h.mobileNo?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"999-999-9999"})]}),e.jsx(_,{field:"mobileNo"}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Format: ",r.mobileCountryCode," 999-999-9999"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:r.emailAddress,onChange:t=>M("emailAddress",t.target.value),onBlur:t=>ie("emailAddress",t.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${h.emailAddress?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),e.jsx(_,{field:"emailAddress"})]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-8",children:[e.jsxs("button",{type:"button",onClick:()=>m(1),className:"px-8 py-3 text-sm font-semibold text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back"})]}),e.jsx("button",{type:"submit",disabled:g,className:`px-8 py-3 text-sm font-semibold text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2 transform hover:scale-105 ${S?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700"} disabled:opacity-50`,children:g?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:S?"Proceed to Appointments":"Upload Profile Picture Required"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})]})]})]})]})}),G&&e.jsx("div",{className:"fixed inset-0 z-60 bg-black bg-opacity-75 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Camera"}),e.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("video",{id:"camera-video",autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-96 bg-gray-900 rounded-lg",ref:t=>{t&&B&&(t.srcObject=B)}}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[e.jsx("button",{onClick:Z,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:ge,disabled:E,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors duration-200 flex items-center space-x-2",children:E?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Capturing..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:"Capture Photo"})]})})]})]})]})})]}):null},$e=({isOpen:N,onClose:u,onAccept:x})=>{const[o,d]=a.useState(!1),[m,r]=a.useState(!1),f=()=>{o&&m&&x()};return N?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:u}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Terms of Service & Community Guidelines"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please read and accept our terms before proceeding"})]})]}),e.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-8 max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Terms of Service"]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1. Service Usage:"})," By using our appointment booking system, you agree to provide accurate and truthful information about your health and personal details."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2. Data Privacy:"})," We are committed to protecting your personal information in accordance with the Data Privacy Act of 2012 (Republic Act No. 10173)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3. Appointment Policy:"})," Appointments must be scheduled at least 24 hours in advance. Same-day cancellations may be subject to rescheduling fees."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Medical Records:"})," All medical information provided will be kept confidential and used solely for healthcare purposes."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5. System Availability:"})," While we strive for 24/7 availability, we cannot guarantee uninterrupted service due to maintenance or technical issues."]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Community Guidelines"]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1. Respectful Communication:"})," Please maintain respectful and professional communication with our healthcare staff and other patients."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2. Accurate Information:"})," Provide accurate and complete information about your health condition and medical history."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3. Punctuality:"})," Arrive on time for your appointments. Late arrivals may result in rescheduling."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Privacy Respect:"})," Respect the privacy of other patients and maintain confidentiality of shared spaces."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5. Compliance:"})," Follow all health and safety protocols, including wearing masks and maintaining social distancing when required."]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"termsCheckbox",checked:o,onChange:n=>d(n.target.checked),className:"mt-1 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"termsCheckbox",className:"text-sm text-gray-700",children:["I have read and agree to the ",e.jsx("strong",{children:"Terms of Service"})," and understand my rights and responsibilities as a patient."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"guidelinesCheckbox",checked:m,onChange:n=>r(n.target.checked),className:"mt-1 w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"guidelinesCheckbox",className:"text-sm text-gray-700",children:["I have read and agree to follow the ",e.jsx("strong",{children:"Community Guidelines"})," and will maintain respectful behavior."]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 p-8 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx("button",{onClick:u,className:"px-6 py-3 text-sm font-semibold text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Cancel"}),e.jsxs("button",{onClick:f,disabled:!o||!m,className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Accept & Continue"})]})]})]})})]}):null},_e=({isOpen:N,onClose:u,onReschedule:x})=>{const[o,d]=a.useState(""),[m,r]=a.useState(!1),[f,n]=a.useState(""),w=async()=>{if(!o.trim()){n("Please enter your reference number");return}r(!0),n("");try{const k=await(await fetch(`/api/patient-lookup/${o.trim()}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();k.success?(localStorage.setItem("rescheduleAppointmentData",JSON.stringify(k.patient)),u(),ae.visit("/appointments?mode=reschedule")):n(k.message||"Reference number not found. Please check your reference number and try again.")}catch(i){console.error("Error looking up appointment:",i),n("An error occurred while looking up your appointment. Please try again.")}finally{r(!1)}},g=()=>{d(""),n(""),u()};return N?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:g}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-orange-50 to-red-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reschedule Appointment"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter your reference number to reschedule"})]})]}),e.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"How to Reschedule"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Enter your current appointment reference number"}),e.jsx("li",{children:"â€¢ Only the appointment date can be changed"}),e.jsx("li",{children:"â€¢ All other details will remain the same"}),e.jsx("li",{children:"â€¢ You'll receive a new confirmation"})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number *"}),e.jsx("input",{type:"text",value:o,onChange:i=>{d(i.target.value),n("")},placeholder:"Enter your reference number (e.g., REF-2024-001234)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You can find this on your appointment confirmation email or SMS."}),f&&e.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx(C,{onClick:g,variant:"outline",className:"px-6 py-3",children:"Cancel"}),e.jsx(C,{onClick:w,disabled:!o.trim()||m,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reschedule Appointment"]})})]})]})]})}):null},Ue=({isOpen:N,onClose:u,onProceed:x})=>{const[o,d]=a.useState(""),[m,r]=a.useState(""),[f,n]=a.useState(!1),[w,g]=a.useState(""),[i,k]=a.useState(null),[y,W]=a.useState([]),[A,l]=a.useState(!1),[j,S]=a.useState(1),z=5,[h,I]=a.useState(!1),H=async()=>{o==="existing"&&m.trim()?await F():o==="new"&&x(o)},F=async()=>{if(!m.trim()){g("Please enter your reference number");return}n(!0),g("");try{const P=await(await fetch(`/api/patient-lookup/${m.trim()}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();P.success?(k(P.patient),localStorage.setItem("existingPatientData",JSON.stringify(P.patient)),localStorage.setItem("selectedPatientType","existing"),await G(P.patient.reference_number),l(!0)):g(P.message||"Reference number not found. Please check your reference number and try again.")}catch(c){console.error("Error looking up patient:",c),g("An error occurred while looking up your information. Please try again.")}finally{n(!1)}},G=async c=>{try{const J=await(await fetch(`/api/patient-appointments/${c}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();J.success?(W(J.appointments||[]),S(1)):(console.error("Error fetching appointment history:",J.message),W([]))}catch(P){console.error("Error fetching appointment history:",P),W([])}},O=()=>{I(!0)},B=()=>{I(!1)},$=()=>{l(!1),k(null),W([]),r(""),d(""),g(""),S(1)},Q=()=>{u(),ae.visit("/appointments")},R=Math.ceil(y.length/z),E=(j-1)*z,q=E+z,Y=y.slice(E,q),K=c=>{S(c)},b=()=>{j>1&&S(j-1)},X=()=>{j<R&&S(j+1)};return N?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:u}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Patient Type Selection"}),e.jsx("p",{className:"text-gray-600",children:"Please select your patient type to continue"})]})]}),e.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-8",children:A&&i?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-900",children:["Welcome back, ",i.firstname," ",i.lastname,"!"]}),e.jsx("p",{className:"text-blue-700",children:"Here's your appointment history. You can book a new appointment or reschedule an existing one."})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Your Appointment History"}),y.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",E+1,"-",Math.min(q,y.length)," of ",y.length," appointments"]})]}),y.length>0?e.jsx("div",{className:"space-y-4",children:Y.map((c,P)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:c.service?.servicename||"Service"}),c.subservice&&e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",c.subservice.subservicename]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(c.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",c.time]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reference:"})," ",c.reference_number]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"}),e.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs ${c.status===1?"bg-blue-100 text-blue-800":c.status===2?"bg-green-100 text-green-800":c.status===3||c.status===4?"bg-red-100 text-red-800":c.status===5?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.status===1?"Scheduled":c.status===2?"Completed":c.status===3?"Cancelled":c.status===4?"Declined":c.status===5?"Confirmed":"Unknown"})]})]})]})})},P))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{children:"No appointment history found."})]}),y.length>z&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(C,{onClick:b,disabled:j===1,variant:"outline",size:"sm",className:"px-3 py-1",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:R},(c,P)=>P+1).map(c=>e.jsx(C,{onClick:()=>K(c),variant:j===c?"default":"outline",size:"sm",className:`px-3 py-1 ${j===c?"bg-blue-600 text-white":"hover:bg-gray-50"}`,children:c},c))}),e.jsxs(C,{onClick:X,disabled:j===R,variant:"outline",size:"sm",className:"px-3 py-1",children:["Next",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",j," of ",R]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsxs(C,{onClick:$,variant:"outline",className:"px-6 py-2",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Selection"]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(C,{onClick:Q,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Book New Appointment"]})})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Select Patient Type"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Please choose whether you are a new patient or an existing patient."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${o==="new"?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-green-300 hover:bg-green-50"}`,onClick:()=>d("new"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="new"?"border-green-500 bg-green-500":"border-gray-300"}`,children:o==="new"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"New Patient"}),e.jsx("p",{className:"text-sm text-gray-600",children:"First time visiting our clinic"})]})]})}),e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${o==="existing"?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>d("existing"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="existing"?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:o==="existing"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Existing Patient"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Previously visited our clinic"})]})]})}),o==="existing"&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number from Last Appointment"}),e.jsx("input",{type:"text",value:m,onChange:c=>r(c.target.value),placeholder:"Enter your reference number (e.g., REF-2024-001234)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You can find this on your previous appointment confirmation email or SMS."}),w&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Quick Actions"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Need to change your existing appointment?"}),e.jsx("div",{className:"space-y-3",children:e.jsx(C,{variant:"outline",className:"w-full justify-start text-left h-auto p-4 border-orange-200 hover:border-orange-300 hover:bg-orange-50",onClick:O,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Reschedule Appointment"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Change your existing appointment"})]})]})})})]})})]})}),!A&&e.jsxs("div",{className:"flex justify-end space-x-4 p-8 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx(C,{onClick:u,variant:"outline",className:"px-6 py-3",children:"Cancel"}),e.jsx(C,{onClick:H,disabled:!o||o==="existing"&&!m.trim()||f,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o==="existing"?"Lookup & Continue":"Continue to Verification"]})})]})]})}),e.jsx(_e,{isOpen:h,onClose:B,onReschedule:()=>{}})]}):null},Ge=({isOpen:N,onClose:u})=>{const[x,o]=a.useState({fullName:"",email:"",phone:"",birthDate:"",requestType:"medical-records",reason:"",additionalInfo:""}),[d,m]=a.useState(!1),[r,f]=a.useState(!1),n=(i,k)=>{o(y=>({...y,[i]:k}))},w=async i=>{i.preventDefault(),m(!0),setTimeout(()=>{m(!1),f(!0)},2e3)},g=()=>{o({fullName:"",email:"",phone:"",birthDate:"",requestType:"medical-records",reason:"",additionalInfo:""}),f(!1),u()};return N?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Request Medical Records"}),e.jsx("p",{className:"text-gray-600",children:"Fill out the form below to request your medical records"})]})]}),e.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),r?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Request Submitted Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your medical records request has been submitted. We will contact you within 3-5 business days to verify your information and process your request."}),e.jsx(C,{onClick:g,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white",children:"Close"})]}):e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(U,{htmlFor:"fullName",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),e.jsx(re,{id:"fullName",type:"text",value:x.fullName,onChange:i=>n("fullName",i.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx(U,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address *"}),e.jsx(re,{id:"email",type:"email",value:x.email,onChange:i=>n("email",i.target.value),required:!0,className:"mt-1",placeholder:"your.email@example.com"})]}),e.jsxs("div",{children:[e.jsx(U,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number *"}),e.jsx(re,{id:"phone",type:"tel",value:x.phone,onChange:i=>n("phone",i.target.value),required:!0,className:"mt-1",placeholder:"+63 912 345 6789"})]}),e.jsxs("div",{children:[e.jsx(U,{htmlFor:"birthDate",className:"text-sm font-medium text-gray-700",children:"Birth Date *"}),e.jsx(re,{id:"birthDate",type:"date",value:x.birthDate,onChange:i=>n("birthDate",i.target.value),required:!0,className:"mt-1"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(U,{htmlFor:"reason",className:"text-sm font-medium text-gray-700",children:"Reason for Request *"}),e.jsx(ce,{id:"reason",value:x.reason,onChange:i=>n("reason",i.target.value),required:!0,className:"mt-1",rows:3,placeholder:"Please specify why you need your medical records (e.g., for insurance, second opinion, personal records)"})]}),e.jsxs("div",{children:[e.jsx(U,{htmlFor:"additionalInfo",className:"text-sm font-medium text-gray-700",children:"Additional Information"}),e.jsx(ce,{id:"additionalInfo",value:x.additionalInfo,onChange:i=>n("additionalInfo",i.target.value),className:"mt-1",rows:2,placeholder:"Any additional information that might help us locate your records"})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Important Notice:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Medical records will be processed within 3-5 business days"}),e.jsx("li",{children:"You will be contacted via email or phone for verification"}),e.jsx("li",{children:"Records can be picked up at the health center or sent via secure email"}),e.jsx("li",{children:"Valid ID is required for record pickup"})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(C,{type:"button",variant:"outline",onClick:g,className:"px-6 py-2",children:"Cancel"}),e.jsx(C,{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Request"})]})]})]})})}):null},de=()=>{const[N,u]=a.useState(!1);return a.useEffect(()=>{const o=()=>{const m=window.location.pathname,r=localStorage.getItem("patientTokenSession"),f=m.includes("/appointments");u(f||!!r)};o();const d=()=>{o()};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}},[]),a.useEffect(()=>{const o=()=>{window.location.pathname.includes("/appointments")||(localStorage.removeItem("patientTokenSession"),localStorage.removeItem("patientVerificationData"),u(!1))};return window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o)}},[]),{isInAppointmentSession:N,handleAppointmentClick:o=>N?(o.preventDefault(),o.stopPropagation(),alert("You are already in an appointment session. Please complete your current appointment or refresh the page to start a new one."),!1):(window.dispatchEvent(new CustomEvent("openTermsOfServiceModal")),!0)}},Ye=({auth:N,isLoggedin:u})=>{const[x,o]=a.useState(!1),[d,m]=a.useState(!1),[r,f]=a.useState(!1),[n,w]=a.useState(!1),[g,i]=a.useState(!1),[k,y]=a.useState(!1),[W,A]=a.useState(!1),[l,j]=a.useState(!1),[S,z]=a.useState(!1),{isInAppointmentSession:h}=de(),I=()=>o(!x),H=()=>m(!d),F=()=>w(!n),G=()=>{y(!1),window.isTermsModalOpen=!1,A(!0)},O=()=>{y(!1),window.isTermsModalOpen=!1},B=b=>{A(!1),localStorage.setItem("selectedPatientType",b),z(!0),i(!0)},$=()=>{A(!1)},Q=()=>{i(!1),z(!1),A(!0)},R=b=>{if(h)return b.preventDefault(),b.stopPropagation(),alert("You are already in an appointment session. Please complete your current appointment or refresh the page to start a new one."),!1;y(!0)},E=se().props.auth.user,q=se().props.auth,[Y,K]=a.useState(q);return a.useEffect(()=>{K(q)},[q]),a.useEffect(()=>{const b=()=>{if(window.isTermsModalOpen){console.warn("Terms modal already open, ignoring duplicate request");return}window.isTermsModalOpen=!0,y(!0)};return window.addEventListener("openTermsOfServiceModal",b),()=>{window.removeEventListener("openTermsOfServiceModal",b)}},[]),e.jsxs("header",{className:"w-full h-16 bg-white border-b border-gray-200 header-shadow fixed top-0 left-0 z-50",children:[e.jsxs("div",{className:"container mx-auto h-full flex items-center justify-between px-4",children:[e.jsxs(L,{href:"/",className:"flex items-center group",children:[e.jsx("img",{src:"https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",alt:"Barangay Calumpang Health Center",className:"h-8 w-auto transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"ml-2 font-semibold text-base text-gray-800 group-hover:text-black transition-colors duration-300",children:"Calumpang RHU"})]}),e.jsx("div",{className:"md:hidden ml-auto",children:e.jsx("button",{onClick:I,className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition-all duration-300 transform hover:scale-110 active:scale-95","aria-label":"toggle menu",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 fill-current",children:e.jsx("path",{fillRule:"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"})})})}),e.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-b from-gray-50 to-white shadow-2xl overflow-y-auto transition-transform duration-300 ease-in-out ${x?"translate-x-0":"-translate-x-full"}`,style:{display:x?"block":"none"},children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs(L,{href:"/",className:"flex items-center group",children:[e.jsx("img",{src:"https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",alt:"Barangay Calumpang Health Center",className:"h-8 w-auto transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"ml-2 font-semibold text-base text-gray-800 group-hover:text-black transition-colors duration-300",children:"Calumpang RHU"})]}),e.jsx("button",{onClick:I,className:"text-gray-600 hover:text-gray-800 focus:outline-none focus:text-gray-800 transition-all duration-300 transform hover:rotate-180 active:scale-95",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("nav",{className:"px-6 py-8",children:[e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsxs(L,{href:"/",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:H,className:"flex items-center justify-between w-full py-2 px-3 text-base font-medium text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-50 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2m14 0V5a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Services"]}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),d&&e.jsxs("div",{className:"pl-10 pr-3 py-1 space-y-1",children:[e.jsxs("button",{onClick:R,disabled:h,className:`w-full flex items-start py-2 px-2 text-sm font-medium rounded-md transition-all duration-300 transform ${h?"text-gray-400 cursor-not-allowed opacity-50":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-r hover:from-gray-100 hover:to-transparent hover:translate-x-1 hover:shadow-sm"}`,style:{textAlign:"left",border:"none",background:"none",outline:"none",font:"inherit"},title:h?"You are already in an appointment session":"Schedule an appointment",children:[e.jsx("svg",{className:`w-4 h-4 mr-2 mt-0.5 flex-shrink-0 ${h?"text-gray-400":"text-blue-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:h?"Appointments (Active)":"Appointments"}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"Schedule your visit to the health center"})]})]}),e.jsxs("button",{onClick:()=>j(!0),className:"flex items-start py-2 px-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gradient-to-r hover:from-gray-100 hover:to-transparent rounded-md transition-all duration-300 transform hover:translate-x-1 hover:shadow-sm w-full text-left",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:"Medical Records"}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"Request an Medical Certificate"})]})]}),e.jsxs(L,{href:"#",className:"flex items-start py-2 px-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gradient-to-r hover:from-gray-100 hover:to-transparent rounded-md transition-all duration-300 transform hover:translate-x-1 hover:shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:"Seasonal Programs"}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"View seasonal programs and availability"})]})]})]})]}),e.jsx("li",{children:e.jsxs(L,{href:"/about",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"About"]})}),e.jsx("li",{children:e.jsxs(L,{href:"/contact",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact"]})}),e.jsx("li",{children:e.jsxs(L,{href:"/faq",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"FAQ"]})})]}),E&&e.jsx("div",{className:"mt-8",children:e.jsx(L,{href:"/logout",method:"post",className:"flex items-center justify-center w-full py-3 px-4 bg-gray-800 text-white text-center font-semibold rounded-lg transition-all duration-300 transform hover:bg-gray-700 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 active:scale-95 hover:shadow-lg",children:"Logout"})})]})]}),e.jsx("nav",{className:"hidden md:block",children:e.jsxs("ul",{className:"flex space-x-6",children:[e.jsx("li",{children:e.jsx(L,{href:"/",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"Home"})}),e.jsxs("li",{className:"relative",children:[e.jsxs("button",{onClick:()=>f(b=>!b),className:`nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative ${r?"bg-gray-100 text-gray-900":""}`,children:[e.jsx("span",{children:"Services"}),e.jsx("svg",{className:`ml-1 h-4 w-4 transition-transform duration-300 ${r?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&e.jsx("div",{className:"absolute left-0 mt-2 w-72 origin-top-right rounded-xl bg-white p-4 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none",onMouseEnter:()=>f(!0),onMouseLeave:()=>setTimeout(()=>f(!1),500),children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:R,disabled:h,className:`w-full group flex items-center rounded-lg p-3 transition-all duration-300 transform min-h-[60px] ${h?"opacity-50 cursor-not-allowed":"hover:bg-gray-50 hover:translate-x-1"}`,title:h?"You are already in an appointment session":"Schedule an appointment",children:[e.jsx("svg",{className:`mr-3 h-5 w-5 transition-colors duration-300 ${h?"text-gray-400":"text-gray-400 group-hover:text-black"}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${h?"text-gray-400":"text-gray-900 group-hover:text-black"}`,children:h?"Appointments (Active)":"Appointments"}),e.jsx("p",{className:`text-xs transition-colors duration-300 ${h?"text-gray-400":"text-gray-500 group-hover:text-gray-600"}`,children:h?"Complete your current appointment first":"Schedule your visit to the health center"})]})]}),e.jsxs("button",{onClick:()=>j(!0),className:"group flex items-center rounded-lg p-3 hover:bg-gray-50 transition-all duration-300 transform hover:translate-x-1 min-h-[60px] w-full text-left",children:[e.jsxs("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-black transition-colors duration-300",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-black transition-colors duration-300",children:"Medical Records"}),e.jsx("p",{className:"text-xs text-gray-500 group-hover:text-gray-600 transition-colors duration-300",children:"Request an Medical Certificate"})]})]}),e.jsxs(L,{href:"/services/seasonal-programs",className:"group flex items-center rounded-lg p-3 hover:bg-gray-50 transition-all duration-300 transform hover:translate-x-1 min-h-[60px]",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-black transition-colors duration-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-black transition-colors duration-300",children:"Seasonal Programs"}),e.jsx("p",{className:"text-xs text-gray-500 group-hover:text-gray-600 transition-colors duration-300",children:"View seasonal programs and availability"})]})]})]})})]}),e.jsx("li",{children:e.jsx(L,{href:"/about",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"About"})}),e.jsx("li",{children:e.jsx(L,{href:"/contact",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"Contact"})}),e.jsx("li",{children:e.jsx(L,{href:"/faq",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"FAQ"})})]})}),e.jsx("div",{className:"flex items-center",children:E&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{datas:Y}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:F,className:`group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative ${n?"bg-gray-100 text-gray-900":""}`,children:[e.jsxs("span",{children:[E.firstname," ",E.lastname]}),e.jsx("svg",{className:`ml-1 h-4 w-4 transition-transform duration-300 ${n?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),n&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx(L,{href:"/patient/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-all duration-300",children:"Profile"}),e.jsx(L,{href:"/logout",method:"post",as:"button",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-all duration-300 w-full text-left",children:"Logout"})]})})]})]})})]}),e.jsx(Oe,{isOpen:g,onClose:()=>{i(!1),z(!1)},onBackToSelection:Q,showBackButton:S}),e.jsx($e,{isOpen:k,onClose:O,onAccept:G}),e.jsx(Ue,{isOpen:W,onClose:$,onProceed:B}),e.jsx(Ge,{isOpen:l,onClose:()=>j(!1)})]})},Ke=({logoSrc:N="https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",logoStyle:u={width:"150px",height:"150px",objectFit:"contain"},socialLinks:x=[{platform:"Facebook",url:"https://facebook.com"},{platform:"Twitter",url:"https://twitter.com"},{platform:"Instagram",url:"https://instagram.com"}],contactInfo:o={address:"Calumpang, General Santos, Soccsksargen, Philippines",phone:"(083) 554-0146",email:"calumpangrhu@gmail.com"},quickLinks:d=[{title:"Home",url:"/"},{title:"Services",url:"/#services"},{title:"Appointments",url:"/appointments"},{title:"About Us",url:"/about"},{title:"Contact",url:"/#contact"},{title:"Terms of Service",url:"/terms"},{title:"FAQ",url:"/faq"}]})=>{const{isInAppointmentSession:m,handleAppointmentClick:r}=de(),f=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("footer",{className:"bg-slate-900 text-white py-12 px-4 md:px-8 lg:px-16",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-8 gap-8",children:[e.jsxs("div",{className:"md:w-1/3",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:N,alt:"Barangay Calumpang Health Center",style:{...u,width:"40px",height:"40px"},className:"mr-3 filter drop-shadow-md rounded-full"}),e.jsx("h3",{className:"text-xl font-bold",children:"Calumpang Rural Health Unit"})]}),e.jsx("p",{className:"text-slate-300 mb-4",children:"Providing quality healthcare services to the residents of Barangay Calumpang through our innovative digital health management system."}),e.jsx("div",{className:"flex space-x-4",children:x.map((n,w)=>e.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-300 hover:text-white transition-colors","aria-label":n.platform,children:[n.platform==="Facebook"&&e.jsx(We,{size:20}),n.platform==="Twitter"&&e.jsx(Ve,{size:20}),n.platform==="Instagram"&&e.jsx(Fe,{size:20})]},w))})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map((n,w)=>n.title==="Appointments"?e.jsx("button",{onClick:r,disabled:m,className:`text-left py-1 transition-colors ${m?"text-gray-500 cursor-not-allowed opacity-50":"text-slate-300 hover:text-white"}`,title:m?"You are already in an appointment session":"Schedule an appointment",children:m?"Appointments (Active)":n.title},w):e.jsx("a",{href:n.url,className:"text-slate-300 hover:text-white transition-colors py-1",children:n.title},w))})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ae,{className:"mr-2 h-5 w-5 text-slate-300 mt-0.5"}),e.jsx("span",{className:"text-slate-300",children:o.address})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ze,{className:"mr-2 h-5 w-5 text-slate-300"}),e.jsx("span",{className:"text-slate-300",children:o.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"mr-2 h-5 w-5 text-slate-300"}),e.jsx("span",{className:"text-slate-300",children:o.email})]})]})]})]}),e.jsx(Pe,{className:"bg-slate-700 my-6"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-slate-400 text-sm mb-4 md:mb-0",children:[new Date().getFullYear()," Barangay Calumpang Rural Health Unit. All rights reserved."]}),e.jsx(C,{variant:"outline",size:"icon",className:"rounded-full bg-slate-800 border-slate-700 hover:bg-slate-700",onClick:f,"aria-label":"Back to top",children:e.jsx(Te,{className:"h-5 w-5"})})]})]})})};function yt({children:N,className:u,footer:x=!1}){const{flash:o}=se().props;return a.useEffect(()=>{o&&Ie(o.title,o.message,o.icon)},[o]),e.jsxs("div",{className:u,children:[e.jsx(ke,{channelName:"notification",eventName:"notification-event",onEvent:d=>{ae.reload({only:["auth"],preserveScroll:!0})}}),e.jsx(Ye,{isLoggedIn:se().props?.auth?.user}),N,x&&e.jsx(Ke,{}),e.jsx(Ee,{})]})}export{yt as L,de as u};
