import{r as c,j as t}from"./app-DEFozhoW.js";import{I as p}from"./input-BnOurZGA.js";import{B as C}from"./button-lEoanUQi.js";import{S as y}from"./search-CHhP7c9k.js";import"./createLucideIcon-vhwH4hYf.js";const N=({items:n,onSearch:i})=>{const[a,m]=c.useState(""),[d,u]=c.useState([]),[f,l]=c.useState(!1);c.useEffect(()=>{if(a.length>1){const e=n.map(r=>r.name),s=[...new Set(n.map(r=>r.category.name))],o=e.filter(r=>r.toLowerCase().includes(a.toLowerCase())),x=s.filter(r=>r.toLowerCase().includes(a.toLowerCase()));u([...o,...x]),l(!0)}else u([]),l(!1)},[a,n]);const h=()=>{const e=n.filter(s=>s.name.toLowerCase().includes(a.toLowerCase())||s.category.name.toLowerCase().includes(a.toLowerCase()));i(e),l(!1)},w=e=>{e.key==="Enter"&&h()},g=e=>{m(e),l(!1);const s=n.filter(o=>o.name===e||o.category.name===e);i(s.length>0?s:n.filter(o=>o.name.toLowerCase().includes(e.toLowerCase())||o.category.name.toLowerCase().includes(e.toLowerCase())))};return t.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[t.jsxs("div",{className:"flex",children:[t.jsx(p,{type:"text",placeholder:"Search by medicine name or category...",value:a,onChange:e=>m(e.target.value),onKeyDown:w,className:"flex-grow rounded-r-none focus-visible:ring-2 focus-visible:ring-primary"}),t.jsxs(C,{onClick:h,className:"rounded-l-none",children:[t.jsx(y,{className:"h-4 w-4 mr-2"}),"Search"]})]}),f&&d.length>0&&t.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-200 rounded-md shadow-lg mt-1 max-h-60 overflow-y-auto",children:d.map((e,s)=>t.jsx("div",{className:"px-4 py-2 hover:bg-muted cursor-pointer",onClick:()=>g(e),children:e},s))})]})};export{N as default};
