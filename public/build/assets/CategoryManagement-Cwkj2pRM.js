import{u as O,j as e,r as v}from"./app-DbEHk-Y1.js";import{r as x}from"./vendor-DkBadjUr.js";import{D as Z,a as R,b as V,c as q,d as K}from"./dialog-CHHHHR8_.js";import{B as r}from"./button-hTaAscVM.js";import{B as S}from"./badge-BjEm-iAn.js";import{D,a as E,b as P,e as h}from"./dropdown-menu-Cx_Yxr73.js";import{C as A,c as I}from"./card-CuNX9n6Z.js";import{T as L}from"./tag-DwpkVkgc.js";import{m as M}from"./proxy-BRuk2j5t.js";import{c as G}from"./createLucideIcon-BKWaAi2G.js";import{S as U}from"./square-pen-Bb1JtfBr.js";import{a as J,A as Q}from"./archive-BwGVl8jP.js";import{P as H}from"./package-L7rgkkVO.js";import{P as W}from"./pill-DIGxtF-3.js";import{S as X}from"./syringe-CKDJ4xso.js";import{S as Y}from"./stethoscope-QcN9KdKi.js";import{F as ee}from"./flask-conical-30tS4pFx.js";import{H as ae}from"./heart-CDAohmX9.js";import{S as se}from"./shield-B7gr9OVN.js";import{Z as te}from"./zap-BCMzj8QL.js";import{A as ne}from"./activity-C-sjEU5t.js";import{U as re}from"./users-D4PhO1-D.js";import{H as oe}from"./house-CSq-WFst.js";import{S as ie}from"./star-sc8DcFnL.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],F=G("EllipsisVertical",ce),le=({open:_,onClose:t,categories:y=[]})=>{const[o,p]=x.useState(null),[N,i]=x.useState(""),[n,c]=x.useState("Package"),[me,g]=x.useState(""),{put:u,processing:j,setData:l}=O({name:"",icon:"Package"}),m=[{name:"Package",component:H,color:"text-gray-600"},{name:"Pill",component:W,color:"text-blue-600"},{name:"Syringe",component:X,color:"text-green-600"},{name:"Stethoscope",component:Y,color:"text-purple-600"},{name:"FlaskConical",component:ee,color:"text-orange-600"},{name:"Heart",component:ae,color:"text-red-600"},{name:"Shield",component:se,color:"text-indigo-600"},{name:"Zap",component:te,color:"text-yellow-600"},{name:"Activity",component:ne,color:"text-cyan-600"},{name:"Users",component:re,color:"text-pink-600"},{name:"Home",component:oe,color:"text-emerald-600"},{name:"Star",component:ie,color:"text-amber-600"}],T=a=>{u(route("pharmacist.inventory.category.archive",a),{onSuccess:()=>{t(),v.visit(window.location.pathname,{method:"get"})}})},$=a=>{u(route("pharmacist.inventory.category.unarchive",a),{onSuccess:()=>{t(),v.visit(window.location.pathname,{method:"get"})}})},b=a=>{p(a),i(a.name),c(a.icon||"Package"),g(a.description||""),l({name:a.name,icon:a.icon||"Package"})},C=()=>{const a=N.trim();a===o.name&&n===(o.icon||"Package")||(l({name:a,icon:n}),u(route("pharmacist.inventory.category.update",o.id),{onSuccess:()=>{p(null),i(""),v.visit(window.location.pathname,{method:"get"}),c("Package"),g(""),t()},onError:s=>{console.error("Update error:",s)}}))},w=a=>{const s=a?.icon||"Package",d=m.find(B=>B.name===s)||m[0],z=d.component;return e.jsx(z,{className:`h-4 w-4 ${d.color}`})},k=y.filter(a=>a.status===1),f=y.filter(a=>a.status===0);return e.jsx(Z,{open:_,onOpenChange:t,children:e.jsxs(R,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[e.jsx(V,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(L,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xl font-semibold",children:"Category Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your inventory categories. Archive categories to hide them from new items, or permanently delete them."})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Active Categories (",k.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(a=>e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx(A,{className:"hover:shadow-md transition-all duration-300",children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:w(a)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.name}),e.jsx(S,{className:"bg-green-100 text-green-800 text-xs",children:"Active"})]})]}),e.jsxs(D,{children:[e.jsx(E,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsxs(P,{align:"end",children:[e.jsxs(h,{onClick:()=>b(a),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(h,{onClick:()=>T(a.id),className:"text-amber-600",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})]})})})},a.id))})]}),f.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),"Archived Categories (",f.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(a=>e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx(A,{className:"hover:shadow-md transition-all duration-300 opacity-75",children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:w(a)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-600",children:a.name}),e.jsx(S,{className:"bg-gray-100 text-gray-600 text-xs",children:"Archived"})]})]}),e.jsxs(D,{children:[e.jsx(E,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsxs(P,{align:"end",children:[e.jsxs(h,{onClick:()=>b(a),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(h,{onClick:()=>$(a.id),className:"text-green-600",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Unarchive"]})]})]})]})})})},a.id))})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 w-[400px] max-h-[80vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Edit Category"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),e.jsx("input",{type:"text",value:N,onChange:a=>{i(a.target.value),l("name",a.target.value)},onKeyDown:a=>{a.key==="Enter"&&(a.preventDefault(),C())},className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"Category name",autoFocus:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Icon"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded border border-gray-300 bg-gray-50",children:(()=>{const a=m.find(d=>d.name===n),s=a?.component||H;return e.jsx(s,{className:`h-4 w-4 ${a?.color||"text-gray-600"}`})})()}),e.jsx("span",{className:"text-xs text-gray-600",children:n})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Choose an icon:"}),e.jsx("div",{className:"grid grid-cols-6 gap-1",children:m.map(a=>{const s=a.component;return e.jsx("button",{type:"button",onClick:()=>{c(a.name),l("icon",a.name)},className:`flex items-center justify-center w-8 h-8 rounded border-2 transition-all hover:scale-105 ${n===a.name?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,title:a.name,children:e.jsx(s,{className:`h-4 w-4 ${a.color}`})},a.name)})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{onClick:C,disabled:j,className:"flex-1 text-sm py-2",style:{backgroundColor:"#2C3E50"},children:j?"Updating...":"Update Category"}),e.jsx(r,{variant:"outline",onClick:()=>{p(null),i(""),c("Package"),g("")},disabled:j,className:"flex-1 text-sm py-2",children:"Cancel"})]})]})})]}),e.jsx(K,{className:"flex gap-3 pt-6",children:e.jsx(r,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Close"})})]})})},Fe=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{le as C,F as E,Fe as a};
