import{q as M,r as a,P as O,j as e,b as X,y as m,d as T}from"./app-9IFjvyjq.js";import{B as y}from"./button-BWLYpXz0.js";import"./input-fLU5VnAr.js";import"./avatar-eTivO2nx.js";import{B as g}from"./badge-Da4cSqJP.js";import{d as Y}from"./dialog-BlSttdnZ.js";import"./label-C2QZitaL.js";import{S,a as N,b as k,c as C,d as r}from"./select-p8YEwkY-.js";import{S as Z,T as ee,a as se,b as B,c as x,d as te,e as p}from"./table2-D0uN2hlO.js";import{C as re}from"./CustomModal-B_1zsoCZ.js";import"./AdminLayout-B1EVrWwj.js";import{P as D}from"./PrimaryButton-B7Xo7hc8.js";import{I as ae}from"./InputLabel-DLivDGoa.js";import{d as oe}from"./card-BZqhk5Ws.js";import ie from"./Sidebar-Dt1ZV7YI.js";import ne from"./StaffLayout-BQWQYp7X.js";import{F as le}from"./filter-ppKoOxkI.js";import{C as ce}from"./chevron-left-0-p9DiDT.js";import{C as de}from"./chevron-right-CvfxXXcM.js";import"./utils-Dqxj4mrw.js";import"./index-C6jRhQFj.js";import"./index-DMLVHKle.js";import"./index-ZSsit5F4.js";import"./Combination-BD7y2hDp.js";import"./index-iJsz53jB.js";import"./react-icons.esm-CBUbwQJY.js";import"./index-5FqUdhJW.js";import"./index-D1R9fGnO.js";import"./index-Bhu2lbiL.js";import"./createLucideIcon-DsPw26Nq.js";import"./arrow-up-BuTJVTCc.js";import"./separator-Ck3s5O1g.js";import"./moment-C5S46NFB.js";import"./popover-D55FYzXF.js";import"./format-BtYX0kVO.js";import"./isBefore-CNJkrGzj.js";import"./isSameMonth-CLqEvLGB.js";import"./TextInput-VzTatbZ2.js";import"./x-QWiAXd0n.js";import"./settings-RhmjAov2.js";import"./house-3fFlpYPo.js";import"./calendar-DQr9f7aC.js";import"./users-CRZKArp7.js";import"./bell-Oyzr8Ilp.js";import"./index-BkKJZgfk.js";import"./proxy-D62Q3uN7.js";import"./autoprefixer-CLq4rudv.js";import"./pusher-Dk5bIoJZ.js";import"./trending-up-_LM6MF-k.js";import"./file-text-2oyp6bUV.js";import"./layers-CYkgeNxD.js";import"./chart-column-Bqapy0n2.js";import"./alert-767SHTEN.js";import"./square-kanban-ByUig0jR.js";import"./shield-vMaeyr4a.js";import"./stethoscope-rIlb409y.js";import"./circle-plus-CgcoCmii.js";function Ls({doctorsitems:P,doctors:j,questions:me}){const{flash:u}=M().props,[ue,he]=a.useState(!1),[xe,v]=a.useState(!1),[pe,fe]=a.useState(!1),h=(s,t,o)=>{m(e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"font-bold",children:s}),e.jsx("p",{children:t})]})}),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})};a.useEffect(()=>{u&&u.message&&h(u.title,u.message,u.icon)},[u]),O({first_name:"",middlename:"",last_name:"",suffix:"",contactNumber:"",email:"",password:"",confirmPassword:"",gender:"",birth:"",isAdmin:"true"});const[ge,ve]=a.useState(!1),[je,be]=a.useState(!1),[we,ye]=a.useState(""),[Se,Ne]=a.useState(""),[F,E]=a.useState(null),[ke,H]=a.useState(1),V=s=>{A("status",s.status.toString()),E(s),H(s.status),I(!0)},{data:U,setData:A,post:W,processing:K}=O({status:""}),b=s=>{I(!1)},_=s=>{s.preventDefault(),W(route("doctor.update.status",{doctor:F.id}),{onSuccess:t=>{b(),h("Success!","Doctor status updated successfully")}})},[d,L]=a.useState({isOpen:!1,title:"",message:"",onConfirm:null,type:""}),$=(s,t,o,i)=>{L({isOpen:!0,title:s,message:t,onConfirm:o,type:i})},w=()=>{L({...d,isOpen:!1})},q=()=>{if(!d.isOpen)return null;const s=d.type==="archive";return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:w}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 overflow-hidden transform transition-all",children:[e.jsx("div",{className:`px-6 py-4 border-b ${s?"bg-red-50 dark:bg-red-900/20 border-red-100":"bg-blue-50 dark:bg-blue-900/20 border-blue-100"}`,children:e.jsxs("h3",{className:`text-lg font-medium ${s?"text-red-700 dark:text-red-400":"text-blue-700 dark:text-blue-400"} flex items-center`,children:[s?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),d.title]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:d.message})}),e.jsxs("div",{className:"px-6 py-3 bg-gray-50 dark:bg-gray-700/50 flex justify-end space-x-2",children:[e.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:w,children:"Cancel"}),e.jsx("button",{className:`px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ${s?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,onClick:()=>{d.onConfirm&&d.onConfirm(),w()},children:s?"Archive":"Unarchive"})]})]})]})},z=s=>{var i,l;const t=`${(i=s.user)==null?void 0:i.firstname} ${(l=s.user)==null?void 0:l.lastname}`,o=m.loading(`Archiving ${t}'s account...`,{position:"top-right"});v(!0),T.post(route("admin.staff.archive"),{staff_id:s.id}).then(n=>{m.dismiss(o),h("Account Archived",`${t}'s account has been archived successfully.`),window.location.reload()}).catch(n=>{var c,f;m.dismiss(o),h("Archive Failed",`There was a problem archiving ${t}'s account: ${((f=(c=n.response)==null?void 0:c.data)==null?void 0:f.message)||"Please try again."}`),console.error("Error archiving staff:",n)}).finally(()=>{v(!1)})},R=s=>{var i,l;const t=`${(i=s.user)==null?void 0:i.firstname} ${(l=s.user)==null?void 0:l.lastname}`,o=m.loading(`Unarchiving ${t}'s account...`,{position:"top-right"});v(!0),T.post(route("admin.staff.unarchive"),{staff_id:s.id}).then(n=>{m.dismiss(o),h("Account Unarchived",`${t}'s account has been unarchived successfully.`),window.location.reload()}).catch(n=>{var c,f;m.dismiss(o),h("Unarchive Failed",`There was a problem unarchiving ${t}'s account: ${((f=(c=n.response)==null?void 0:c.data)==null?void 0:f.message)||"Please try again."}`),console.error("Error unarchiving staff:",n)}).finally(()=>{v(!1)})},Q=s=>{if(!s||!s.status)return null;switch(s.status){case 1:return e.jsx(g,{variant:"solid",className:"bg-green-500 text-white rounded-full px-4 py-2 text-sm font-semibold",children:"Available"});case 2:return e.jsx(g,{variant:"outline",className:"text-gray-600 bg-gray-100 border border-gray-300 rounded-full px-4 py-2 text-sm font-semibold",children:"Inactive"});case 3:return e.jsx(g,{variant:"outline",className:"text-amber-700 bg-amber-200 border border-amber-300 rounded-full px-4 py-2 text-sm font-semibold",children:"On Leave"});case 4:return e.jsx(g,{variant:"outline",className:"text-blue-700 bg-blue-200 border border-blue-300 rounded-full px-4 py-2 text-sm font-semibold",children:"In Consultation"});case 5:return e.jsx(g,{variant:"outline",className:"text-red-700 bg-red-100 border border-red-300 rounded-full px-4 py-2 text-sm font-semibold",children:"Archived"});default:return null}},[G,I]=a.useState(!1),{links:J}=M().props.doctors;return e.jsxs(ne,{children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Doctors"}),e.jsx("p",{className:"text-muted-foreground"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx(ie,{activeTab:"doctors"}),e.jsxs("div",{className:" bg-accent  rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Filter by:"})]}),e.jsxs(S,{children:[e.jsx(N,{className:"w-[150px]",children:e.jsx(k,{placeholder:"Status"})}),e.jsxs(C,{children:[e.jsx(r,{value:"all",children:"All Statuses"}),e.jsx(r,{value:"In Stock",children:"In Stock"}),e.jsx(r,{value:"Low Stock",children:"Low Stock"}),e.jsx(r,{value:"Out of Stock",children:"Out of Stock"})]})]}),e.jsxs(S,{children:[e.jsx(N,{className:"w-[150px]",children:e.jsx(k,{placeholder:"Category"})}),e.jsxs(C,{children:[e.jsx(r,{value:"all",children:"All Categories"}),e.jsx(r,{value:"Medication",children:"Medication"}),e.jsx(r,{value:"Supplies",children:"Supplies"}),e.jsx(r,{value:"Equipment",children:"Equipment"})]})]})]})]}),e.jsx("div",{className:"rounded-md border text-sm",children:e.jsx(Z,{data:P,defaultSort:{key:"user.firstname",direction:"asc"},children:({sortedData:s})=>e.jsxs(ee,{children:[e.jsx(se,{children:e.jsxs(B,{children:[e.jsx(x,{sortKey:"id",sortable:!0,children:"ID"}),e.jsx(x,{sortKey:"user.firstname",sortable:!0,children:"Fullname"}),e.jsx(x,{sortKey:"specialty.specialty",sortable:!0,children:"Specialization"}),e.jsx(x,{sortKey:"user.contactno",sortable:!0,children:"Contact Information"}),e.jsx(x,{sortKey:"status",sortable:!0,children:"Availability Status"}),e.jsx(x,{sortable:!0,children:"Action"})]})}),e.jsx(te,{children:s.map(t=>{var o,i,l,n,c;return e.jsxs(B,{children:[e.jsxs(p,{children:["DOC - ",t.id]}),e.jsxs(p,{children:[(o=t.user)==null?void 0:o.firstname," ",(i=t.user)==null?void 0:i.lastname]}),e.jsx(p,{children:((l=t.specialty)==null?void 0:l.specialty)??"Not Set"}),e.jsxs(p,{children:[(n=t.user)==null?void 0:n.contactno," |"," ",(c=t.user)==null?void 0:c.email]}),e.jsx(p,{children:Q(t)}),e.jsx(p,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{className:"h-8 px-3 text-xs shadow-sm flex items-center justify-center rounded-md",onClick:()=>V(t),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),t.status===5?e.jsxs(D,{className:"h-8 px-3 bg-green-600 hover:bg-green-700 text-xs shadow-sm flex items-center justify-center rounded-md",onClick:()=>$("Unarchive Doctor",`Are you sure you want to unarchive ${t.user.firstname} ${t.user.lastname}'s account?`,()=>R(t),"unarchive"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Unarchive"]}):e.jsx(e.Fragment,{children:e.jsxs(D,{className:"h-8 px-3 bg-red-600 hover:bg-red-700 text-xs shadow-sm flex items-center justify-center rounded-md",onClick:()=>$("Archive Doctor",`Are you sure you want to archive ${t.user.firstname} ${t.user.lastname}'s account?`,()=>z(t),"archive"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Archive"]})})]})})]},t.id)})})]})})}),e.jsxs(oe,{className:" mt-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",j.from," to ",j.to," of"," ",j.total," Results"]}),e.jsx("div",{className:"flex ml-2 space-x-2",children:J.map((s,t)=>e.jsx(y,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url||s.active,onClick:()=>{s.url&&X.get(s.url)},children:s.label.includes("Previous")?e.jsx(ce,{className:"h-4 w-4"}):s.label.includes("Next")?e.jsx(de,{className:"h-4 w-4"}):s.label},t))})]})]})]}),e.jsx(re,{isOpen:G,maxWidth:"sm",onClose:b,children:e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(ae,{htmlFor:"status",className:"text-right",children:"Status"}),e.jsxs(S,{value:U.status,onValueChange:s=>{A("status",s)},children:[e.jsx(N,{className:"col-span-3",children:e.jsx(k,{placeholder:"Select status"})}),e.jsxs(C,{children:[e.jsx(r,{value:"1",children:"Available"}),e.jsx(r,{value:"2",children:"Inactive"}),e.jsx(r,{value:"4",children:"In Consultation"}),e.jsx(r,{value:"3",children:"On Leave"}),e.jsx(r,{value:"5",children:"Archived"})]})]})]})}),e.jsxs(Y,{children:[e.jsx(y,{type:"button",variant:"outline",onClick:b,children:"Cancel"}),e.jsx(y,{type:"button",disabled:K,onClick:_,children:"Save"})]})]})}),e.jsx(q,{})]})}export{Ls as default};
