import{j as e,r as D}from"./app-CBCVmnFq.js";import{r as O}from"./vendor-DkBadjUr.js";import{B as f}from"./button-BoxJUO42.js";import{I as t}from"./input-KnM2zJqx.js";import{L as l}from"./label-Cf5e644O.js";import{T as z}from"./textarea-BhzJSefs.js";import{C as o,a as m,b as h,e as x,c as u}from"./card-ByA8IRpR.js";import{S as g,a as j,b as p,c as v,d}from"./select-BX_wRdQy.js";import{D as I,a as M,b as P,c as _}from"./dialog-CXStznBU.js";import{m as A}from"./proxy-D8Ywddam.js";import{S as w}from"./save-CAdd64LS.js";import"./pusher-DVtoYAOu.js";import"./index-CCexkvXU.js";import"./react-icons.esm-Dpkz3fnS.js";import"./index-BJLF1GC9.js";import"./index-DFPBGz7D.js";import"./index-uz7BvUHi.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Ob89tzIx.js";import"./index-ZLRVY36w.js";import"./index-DqxisvwK.js";import"./index-BMzDL1Jg.js";import"./index-BT9_qCGV.js";import"./createLucideIcon-BKWaAi2G.js";function te({patient:r,onCancel:N,onSubmit:C,isOpen:b=!0}){const y=r?.id?.startsWith("PAT_"),S=a=>{if(!a)return"";const n=a.toString();return n==="M"||n==="Male"?"Male":n==="F"||n==="Female"?"Female":n==="Other"?"Other":n},[s,F]=O.useState({firstName:r.firstname||"",middleName:r.middlename||"",lastName:r.lastname||"",dateOfBirth:y?r.date_of_birth:r.birth,gender:S(r?.gender||r?.sex||""),phoneNumber:r.contactno||r.phone||"",email:r.email||"",status:r.status||"active",civilStatus:r.civil_status||"",nationality:r.nationality||"",religion:r.religion||"",country:r.country||"",region:r.region||"",province:r.province||"",city:r.city||"",barangay:r.barangay||"",street:r.street||"",zipCode:r.zip_code||"",address:r.address||""}),B=a=>{a.preventDefault();const n={firstname:s.firstName,middlename:s.middleName,lastname:s.lastName,email:s.email,status:s.status,...y?{date_of_birth:s.dateOfBirth,gender:s.gender,phone:s.phoneNumber,contactno:s.phoneNumber,civil_status:s.civilStatus,nationality:s.nationality,religion:s.religion,country:s.country,region:s.region,province:s.province,city:s.city,barangay:s.barangay,street:s.street,zip_code:s.zipCode}:{birth:s.dateOfBirth,sex:s.gender,contactno:s.phoneNumber,address:s.address}};D.put(`/auth/patients/${r.id}`,n,{onSuccess:()=>{C({...r,...n})},onError:c=>{console.error("Update failed:",c)}})},i=(a,n)=>{F(c=>({...c,[a]:n}))};return e.jsx(I,{open:b,onOpenChange:N,children:e.jsxs(M,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(P,{children:e.jsx(_,{children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Edit Patient"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Update patient information"})]})})}),e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"px-1",children:e.jsx("div",{className:"space-y-3 pb-0",children:e.jsxs("form",{onSubmit:B,className:"space-y-3 mb-0",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"pb-3",children:[e.jsx(h,{className:"text-lg",children:"Basic Information"}),e.jsx(x,{className:"text-sm",children:"Patient's personal details"})]}),e.jsxs(u,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"firstName",children:"First Name *"}),e.jsx(t,{id:"firstName",value:s.firstName,onChange:a=>i("firstName",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"middleName",children:"Middle Name"}),e.jsx(t,{id:"middleName",value:s.middleName,onChange:a=>i("middleName",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(t,{id:"lastName",value:s.lastName,onChange:a=>i("lastName",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),e.jsx(t,{id:"dateOfBirth",type:"date",value:s.dateOfBirth,onChange:a=>i("dateOfBirth",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"gender",children:"Gender *"}),e.jsxs(g,{value:s.gender,onValueChange:a=>i("gender",a),children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Select gender"})}),e.jsxs(v,{children:[e.jsx(d,{value:"Male",children:"Male"}),e.jsx(d,{value:"Female",children:"Female"}),e.jsx(d,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"phoneNumber",children:"Phone Number *"}),e.jsx(t,{id:"phoneNumber",value:s.phoneNumber,onChange:a=>i("phoneNumber",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(t,{id:"email",type:"email",value:s.email,onChange:a=>i("email",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(g,{value:s.status,onValueChange:a=>i("status",a),children:[e.jsx(j,{children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(d,{value:"active",children:"Active"}),e.jsx(d,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx(l,{htmlFor:"address",children:"Address *"}),e.jsx(z,{id:"address",value:s.address,onChange:a=>i("address",a.target.value),className:"min-h-[60px] max-h-[80px]",rows:3})]})]})]}),e.jsxs(o,{children:[e.jsxs(m,{className:"pb-3",children:[e.jsx(h,{className:"text-lg",children:"Personal Information"}),e.jsx(x,{className:"text-sm",children:"Additional personal details"})]}),e.jsxs(u,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"civilStatus",children:"Civil Status"}),e.jsxs(g,{value:s.civilStatus,onValueChange:a=>i("civilStatus",a),children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Select civil status"})}),e.jsxs(v,{children:[e.jsx(d,{value:"Single",children:"Single"}),e.jsx(d,{value:"Married",children:"Married"}),e.jsx(d,{value:"Widowed",children:"Widowed"}),e.jsx(d,{value:"Divorced",children:"Divorced"}),e.jsx(d,{value:"Separated",children:"Separated"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"nationality",children:"Nationality"}),e.jsx(t,{id:"nationality",value:s.nationality,onChange:a=>i("nationality",a.target.value),placeholder:"e.g., Filipino"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"religion",children:"Religion"}),e.jsx(t,{id:"religion",value:s.religion,onChange:a=>i("religion",a.target.value),placeholder:"e.g., Catholic"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"country",children:"Country"}),e.jsx(t,{id:"country",value:s.country,onChange:a=>i("country",a.target.value),placeholder:"e.g., Philippines"})]})]})]}),e.jsxs(o,{children:[e.jsxs(m,{className:"pb-3",children:[e.jsx(h,{className:"text-lg",children:"Address Information"}),e.jsx(x,{className:"text-sm",children:"Complete address details"})]}),e.jsxs(u,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"region",children:"Region"}),e.jsx(t,{id:"region",value:s.region,onChange:a=>i("region",a.target.value),placeholder:"e.g., Region IV-A"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"province",children:"Province"}),e.jsx(t,{id:"province",value:s.province,onChange:a=>i("province",a.target.value),placeholder:"e.g., Laguna"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"city",children:"City"}),e.jsx(t,{id:"city",value:s.city,onChange:a=>i("city",a.target.value),placeholder:"e.g., Calamba"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"barangay",children:"Barangay"}),e.jsx(t,{id:"barangay",value:s.barangay,onChange:a=>i("barangay",a.target.value),placeholder:"e.g., Barangay 1"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"street",children:"Street"}),e.jsx(t,{id:"street",value:s.street,onChange:a=>i("street",a.target.value),placeholder:"e.g., 123 Main Street"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:"zipCode",children:"Zip Code"}),e.jsx(t,{id:"zipCode",value:s.zipCode,onChange:a=>i("zipCode",a.target.value),placeholder:"e.g., 4027"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-3 pb-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),e.jsxs(f,{type:"submit",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})})})]})})}export{te as default};
