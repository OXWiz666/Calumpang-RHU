import{j as e,r as ne,b as ge,a as ae,L as A}from"./app-CBCVmnFq.js";import{r as o}from"./vendor-DkBadjUr.js";import{B as M}from"./button-BoxJUO42.js";import{B as Ne}from"./badge-B29933Kg.js";import{h as we}from"./moment-C5S46NFB.js";import{B as pe,N as ke,P as Ce}from"./pusher-BaoRBjJ7.js";import{A as Se}from"./index-BNlLVp44.js";import{m as Me}from"./proxy-D8Ywddam.js";import{P as Le,t as Pe}from"./PhilippinesAddressLookup-ml-wnG4o.js";import{C as Ae}from"./CustomModal-B7Z3aX19.js";import{F as ze,z as ee}from"./index-WHihrx3k.js";import{F as xe}from"./file-text-YZXa1D2L.js";import{P as Be}from"./printer-CfgcPaUh.js";import{E as fe}from"./eye-mxYijkrE.js";import{C as Ee}from"./check-BD0Yvgxs.js";import{S as Te}from"./separator-BFw2qPKG.js";import{c as he}from"./createLucideIcon-BKWaAi2G.js";import{M as De}from"./map-pin-Dkn0BYKY.js";import{P as Ie}from"./phone-BScbSfjU.js";import{M as $e}from"./mail-BoTx8fKY.js";import{C as Re}from"./chevron-up-BdDu7vFg.js";import{s as We}from"./toast-TqFnqXdi.js";import{T as Oe}from"./Toaster-Dz-wf0lm.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Fe=he("Facebook",He);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Ve=he("Instagram",_e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],qe=he("Twitter",Ue),Ge=({className:w="",datas:x})=>{const[v,i]=o.useState(!1),[m,h]=o.useState(!1),[r,p]=o.useState(null),[d,C]=o.useState(!1),[f,b]=o.useState(x.all_notifications??x.notifications);let L=f.filter(c=>!c.read_at).length;o.useEffect(()=>{b(x.all_notifications??x.notifications),L=f.filter(c=>!c.read_at).length},[x]);const g=()=>{if(i(!v),!v){const c=f.map(j=>({...j,read:!0}));b(c)}},I=c=>{p(c),C(!0),i(!1)},z=c=>{switch(c){case"appointment_resched":return"text-blue-500 bg-blue-100";default:return"text-gray-500 bg-gray-100"}};return e.jsxs("div",{className:`relative ${w}`,children:[e.jsxs(M,{variant:"ghost",size:"icon",className:"relative",onClick:g,"aria-label":"Notifications",children:[e.jsx(pe,{className:"h-5 w-5"}),L>0&&e.jsx(Ne,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0",children:L})]}),e.jsx(Se,{children:v&&e.jsxs(Me.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notifications"})}),e.jsx("form",{onSubmit:c=>{c.preventDefault(),ne.post(route("notifications.markAllRead"),{},{preserveScroll:!0})},children:e.jsx(M,{type:"submit",variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"Mark all as read"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-gray-200",children:(m?f:f.slice(0,3)).map(c=>e.jsx("div",{className:`p-3 hover:bg-accent/50 transition-colors cursor-pointer ${c.read_at?"":"bg-accent/20"}`,onClick:()=>I(c),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${z(c.data.type)}`,children:e.jsx(pe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-medium",children:c.data.title}),e.jsx("span",{className:"text-xs text-muted-foreground",children:we(c.created_at).fromNow()}),e.jsx("div",{className:" text-sm",children:c.read_at?e.jsx("div",{children:"Read"}):e.jsx("div",{children:"Unread"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.data.message})]})]})},c.id))})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-accent/10",children:e.jsx(M,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",onClick:()=>h(c=>!c),children:m?"Show less":"View all notifications"})})]})}),e.jsx(ke,{isOpen:d,onClose:()=>{C(!1),p(null)},notification:r})]})},Ye=({isOpen:w,onClose:x,onBackToSelection:v,showBackButton:i=!1})=>{const[m,h]=o.useState(1),[r,p]=o.useState({firstname:"",middlename:"",lastname:"",suffix:"",sex:"",birthdate:"",age:0,civilStatus:"",nationality:"FILIPINO",religion:"",religionOther:"",country:"Philippines",region:"",province:"",city:"",barangay:"",street:"",zipCode:"",mobileNo:"",emailAddress:"",region_id:null,province_id:null,city_id:null,barangay_id:null,mobileCountryCode:"+63"}),[d,C]=o.useState(""),[f,b]=o.useState(!1),[L,g]=o.useState(""),[I,z]=o.useState(""),[c,j]=o.useState(null),[u,D]=o.useState(null),[S,$]=o.useState({}),[R,T]=o.useState(""),[l,F]=o.useState(!1),[B,_]=o.useState(null),[se,U]=o.useState(null),[q,G]=o.useState(!1);o.useEffect(()=>()=>{B&&B.getTracks().forEach(s=>s.stop())},[B]);const Y=[{code:"+63",country:"Philippines",flag:"ðŸ‡µðŸ‡­"},{code:"+1",country:"United States",flag:"ðŸ‡ºðŸ‡¸"},{code:"+44",country:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§"},{code:"+86",country:"China",flag:"ðŸ‡¨ðŸ‡³"},{code:"+81",country:"Japan",flag:"ðŸ‡¯ðŸ‡µ"},{code:"+82",country:"South Korea",flag:"ðŸ‡°ðŸ‡·"},{code:"+65",country:"Singapore",flag:"ðŸ‡¸ðŸ‡¬"},{code:"+60",country:"Malaysia",flag:"ðŸ‡²ðŸ‡¾"},{code:"+66",country:"Thailand",flag:"ðŸ‡¹ðŸ‡­"},{code:"+84",country:"Vietnam",flag:"ðŸ‡»ðŸ‡³"},{code:"+62",country:"Indonesia",flag:"ðŸ‡®ðŸ‡©"},{code:"+61",country:"Australia",flag:"ðŸ‡¦ðŸ‡º"},{code:"+49",country:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{code:"+33",country:"France",flag:"ðŸ‡«ðŸ‡·"},{code:"+39",country:"Italy",flag:"ðŸ‡®ðŸ‡¹"},{code:"+34",country:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{code:"+7",country:"Russia",flag:"ðŸ‡·ðŸ‡º"},{code:"+91",country:"India",flag:"ðŸ‡®ðŸ‡³"},{code:"+55",country:"Brazil",flag:"ðŸ‡§ðŸ‡·"},{code:"+52",country:"Mexico",flag:"ðŸ‡²ðŸ‡½"},{code:"+1",country:"Canada",flag:"ðŸ‡¨ðŸ‡¦"},{code:"+971",country:"UAE",flag:"ðŸ‡¦ðŸ‡ª"},{code:"+966",country:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{code:"+974",country:"Qatar",flag:"ðŸ‡¶ðŸ‡¦"},{code:"+965",country:"Kuwait",flag:"ðŸ‡°ðŸ‡¼"},{code:"+973",country:"Bahrain",flag:"ðŸ‡§ðŸ‡­"},{code:"+968",country:"Oman",flag:"ðŸ‡´ðŸ‡²"},{code:"+20",country:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{code:"+27",country:"South Africa",flag:"ðŸ‡¿ðŸ‡¦"},{code:"+234",country:"Nigeria",flag:"ðŸ‡³ðŸ‡¬"},{code:"+254",country:"Kenya",flag:"ðŸ‡°ðŸ‡ª"},{code:"+233",country:"Ghana",flag:"ðŸ‡¬ðŸ‡­"},{code:"+212",country:"Morocco",flag:"ðŸ‡²ðŸ‡¦"},{code:"+213",country:"Algeria",flag:"ðŸ‡©ðŸ‡¿"},{code:"+216",country:"Tunisia",flag:"ðŸ‡¹ðŸ‡³"},{code:"+218",country:"Libya",flag:"ðŸ‡±ðŸ‡¾"},{code:"+220",country:"Gambia",flag:"ðŸ‡¬ðŸ‡²"},{code:"+221",country:"Senegal",flag:"ðŸ‡¸ðŸ‡³"},{code:"+222",country:"Mauritania",flag:"ðŸ‡²ðŸ‡·"},{code:"+223",country:"Mali",flag:"ðŸ‡²ðŸ‡±"},{code:"+224",country:"Guinea",flag:"ðŸ‡¬ðŸ‡³"},{code:"+225",country:"Ivory Coast",flag:"ðŸ‡¨ðŸ‡®"},{code:"+226",country:"Burkina Faso",flag:"ðŸ‡§ðŸ‡«"},{code:"+227",country:"Niger",flag:"ðŸ‡³ðŸ‡ª"},{code:"+228",country:"Togo",flag:"ðŸ‡¹ðŸ‡¬"},{code:"+229",country:"Benin",flag:"ðŸ‡§ðŸ‡¯"},{code:"+230",country:"Mauritius",flag:"ðŸ‡²ðŸ‡º"},{code:"+231",country:"Liberia",flag:"ðŸ‡±ðŸ‡·"},{code:"+232",country:"Sierra Leone",flag:"ðŸ‡¸ðŸ‡±"},{code:"+235",country:"Chad",flag:"ðŸ‡¹ðŸ‡©"},{code:"+236",country:"Central African Republic",flag:"ðŸ‡¨ðŸ‡«"},{code:"+237",country:"Cameroon",flag:"ðŸ‡¨ðŸ‡²"},{code:"+238",country:"Cape Verde",flag:"ðŸ‡¨ðŸ‡»"},{code:"+239",country:"SÃ£o TomÃ© and PrÃ­ncipe",flag:"ðŸ‡¸ðŸ‡¹"},{code:"+240",country:"Equatorial Guinea",flag:"ðŸ‡¬ðŸ‡¶"},{code:"+241",country:"Gabon",flag:"ðŸ‡¬ðŸ‡¦"},{code:"+242",country:"Republic of the Congo",flag:"ðŸ‡¨ðŸ‡¬"},{code:"+243",country:"Democratic Republic of the Congo",flag:"ðŸ‡¨ðŸ‡©"},{code:"+244",country:"Angola",flag:"ðŸ‡¦ðŸ‡´"},{code:"+245",country:"Guinea-Bissau",flag:"ðŸ‡¬ðŸ‡¼"},{code:"+246",country:"British Indian Ocean Territory",flag:"ðŸ‡®ðŸ‡´"},{code:"+248",country:"Seychelles",flag:"ðŸ‡¸ðŸ‡¨"},{code:"+249",country:"Sudan",flag:"ðŸ‡¸ðŸ‡©"},{code:"+250",country:"Rwanda",flag:"ðŸ‡·ðŸ‡¼"},{code:"+251",country:"Ethiopia",flag:"ðŸ‡ªðŸ‡¹"},{code:"+252",country:"Somalia",flag:"ðŸ‡¸ðŸ‡´"},{code:"+253",country:"Djibouti",flag:"ðŸ‡©ðŸ‡¯"},{code:"+255",country:"Tanzania",flag:"ðŸ‡¹ðŸ‡¿"},{code:"+256",country:"Uganda",flag:"ðŸ‡ºðŸ‡¬"},{code:"+257",country:"Burundi",flag:"ðŸ‡§ðŸ‡®"},{code:"+258",country:"Mozambique",flag:"ðŸ‡²ðŸ‡¿"},{code:"+260",country:"Zambia",flag:"ðŸ‡¿ðŸ‡²"},{code:"+261",country:"Madagascar",flag:"ðŸ‡²ðŸ‡¬"},{code:"+262",country:"RÃ©union",flag:"ðŸ‡·ðŸ‡ª"},{code:"+263",country:"Zimbabwe",flag:"ðŸ‡¿ðŸ‡¼"},{code:"+264",country:"Namibia",flag:"ðŸ‡³ðŸ‡¦"},{code:"+265",country:"Malawi",flag:"ðŸ‡²ðŸ‡¼"},{code:"+266",country:"Lesotho",flag:"ðŸ‡±ðŸ‡¸"},{code:"+267",country:"Botswana",flag:"ðŸ‡§ðŸ‡¼"},{code:"+268",country:"Swaziland",flag:"ðŸ‡¸ðŸ‡¿"},{code:"+269",country:"Comoros",flag:"ðŸ‡°ðŸ‡²"},{code:"+290",country:"Saint Helena",flag:"ðŸ‡¸ðŸ‡­"},{code:"+291",country:"Eritrea",flag:"ðŸ‡ªðŸ‡·"},{code:"+297",country:"Aruba",flag:"ðŸ‡¦ðŸ‡¼"},{code:"+298",country:"Faroe Islands",flag:"ðŸ‡«ðŸ‡´"},{code:"+299",country:"Greenland",flag:"ðŸ‡¬ðŸ‡±"},{code:"+350",country:"Gibraltar",flag:"ðŸ‡¬ðŸ‡®"},{code:"+351",country:"Portugal",flag:"ðŸ‡µðŸ‡¹"},{code:"+352",country:"Luxembourg",flag:"ðŸ‡±ðŸ‡º"},{code:"+353",country:"Ireland",flag:"ðŸ‡®ðŸ‡ª"},{code:"+354",country:"Iceland",flag:"ðŸ‡®ðŸ‡¸"},{code:"+355",country:"Albania",flag:"ðŸ‡¦ðŸ‡±"},{code:"+356",country:"Malta",flag:"ðŸ‡²ðŸ‡¹"},{code:"+357",country:"Cyprus",flag:"ðŸ‡¨ðŸ‡¾"},{code:"+358",country:"Finland",flag:"ðŸ‡«ðŸ‡®"},{code:"+359",country:"Bulgaria",flag:"ðŸ‡§ðŸ‡¬"},{code:"+370",country:"Lithuania",flag:"ðŸ‡±ðŸ‡¹"},{code:"+371",country:"Latvia",flag:"ðŸ‡±ðŸ‡»"},{code:"+372",country:"Estonia",flag:"ðŸ‡ªðŸ‡ª"},{code:"+373",country:"Moldova",flag:"ðŸ‡²ðŸ‡©"},{code:"+374",country:"Armenia",flag:"ðŸ‡¦ðŸ‡²"},{code:"+375",country:"Belarus",flag:"ðŸ‡§ðŸ‡¾"},{code:"+376",country:"Andorra",flag:"ðŸ‡¦ðŸ‡©"},{code:"+377",country:"Monaco",flag:"ðŸ‡²ðŸ‡¨"},{code:"+378",country:"San Marino",flag:"ðŸ‡¸ðŸ‡²"},{code:"+380",country:"Ukraine",flag:"ðŸ‡ºðŸ‡¦"},{code:"+381",country:"Serbia",flag:"ðŸ‡·ðŸ‡¸"},{code:"+382",country:"Montenegro",flag:"ðŸ‡²ðŸ‡ª"},{code:"+383",country:"Kosovo",flag:"ðŸ‡½ðŸ‡°"},{code:"+385",country:"Croatia",flag:"ðŸ‡­ðŸ‡·"},{code:"+386",country:"Slovenia",flag:"ðŸ‡¸ðŸ‡®"},{code:"+387",country:"Bosnia and Herzegovina",flag:"ðŸ‡§ðŸ‡¦"},{code:"+389",country:"North Macedonia",flag:"ðŸ‡²ðŸ‡°"},{code:"+420",country:"Czech Republic",flag:"ðŸ‡¨ðŸ‡¿"},{code:"+421",country:"Slovakia",flag:"ðŸ‡¸ðŸ‡°"},{code:"+423",country:"Liechtenstein",flag:"ðŸ‡±ðŸ‡®"},{code:"+500",country:"Falkland Islands",flag:"ðŸ‡«ðŸ‡°"},{code:"+501",country:"Belize",flag:"ðŸ‡§ðŸ‡¿"},{code:"+502",country:"Guatemala",flag:"ðŸ‡¬ðŸ‡¹"},{code:"+503",country:"El Salvador",flag:"ðŸ‡¸ðŸ‡»"},{code:"+504",country:"Honduras",flag:"ðŸ‡­ðŸ‡³"},{code:"+505",country:"Nicaragua",flag:"ðŸ‡³ðŸ‡®"},{code:"+506",country:"Costa Rica",flag:"ðŸ‡¨ðŸ‡·"},{code:"+507",country:"Panama",flag:"ðŸ‡µðŸ‡¦"},{code:"+508",country:"Saint Pierre and Miquelon",flag:"ðŸ‡µðŸ‡²"},{code:"+509",country:"Haiti",flag:"ðŸ‡­ðŸ‡¹"},{code:"+590",country:"Guadeloupe",flag:"ðŸ‡¬ðŸ‡µ"},{code:"+591",country:"Bolivia",flag:"ðŸ‡§ðŸ‡´"},{code:"+592",country:"Guyana",flag:"ðŸ‡¬ðŸ‡¾"},{code:"+593",country:"Ecuador",flag:"ðŸ‡ªðŸ‡¨"},{code:"+594",country:"French Guiana",flag:"ðŸ‡¬ðŸ‡«"},{code:"+595",country:"Paraguay",flag:"ðŸ‡µðŸ‡¾"},{code:"+596",country:"Martinique",flag:"ðŸ‡²ðŸ‡¶"},{code:"+597",country:"Suriname",flag:"ðŸ‡¸ðŸ‡·"},{code:"+598",country:"Uruguay",flag:"ðŸ‡ºðŸ‡¾"},{code:"+599",country:"Netherlands Antilles",flag:"ðŸ‡§ðŸ‡¶"},{code:"+670",country:"East Timor",flag:"ðŸ‡¹ðŸ‡±"},{code:"+672",country:"Antarctica",flag:"ðŸ‡¦ðŸ‡¶"},{code:"+673",country:"Brunei",flag:"ðŸ‡§ðŸ‡³"},{code:"+674",country:"Nauru",flag:"ðŸ‡³ðŸ‡·"},{code:"+675",country:"Papua New Guinea",flag:"ðŸ‡µðŸ‡¬"},{code:"+676",country:"Tonga",flag:"ðŸ‡¹ðŸ‡´"},{code:"+677",country:"Solomon Islands",flag:"ðŸ‡¸ðŸ‡§"},{code:"+678",country:"Vanuatu",flag:"ðŸ‡»ðŸ‡º"},{code:"+679",country:"Fiji",flag:"ðŸ‡«ðŸ‡¯"},{code:"+680",country:"Palau",flag:"ðŸ‡µðŸ‡¼"},{code:"+681",country:"Wallis and Futuna",flag:"ðŸ‡¼ðŸ‡«"},{code:"+682",country:"Cook Islands",flag:"ðŸ‡¨ðŸ‡°"},{code:"+683",country:"Niue",flag:"ðŸ‡³ðŸ‡º"},{code:"+684",country:"American Samoa",flag:"ðŸ‡¦ðŸ‡¸"},{code:"+685",country:"Samoa",flag:"ðŸ‡¼ðŸ‡¸"},{code:"+686",country:"Kiribati",flag:"ðŸ‡°ðŸ‡®"},{code:"+687",country:"New Caledonia",flag:"ðŸ‡³ðŸ‡¨"},{code:"+688",country:"Tuvalu",flag:"ðŸ‡¹ðŸ‡»"},{code:"+689",country:"French Polynesia",flag:"ðŸ‡µðŸ‡«"},{code:"+690",country:"Tokelau",flag:"ðŸ‡¹ðŸ‡°"},{code:"+691",country:"Micronesia",flag:"ðŸ‡«ðŸ‡²"},{code:"+692",country:"Marshall Islands",flag:"ðŸ‡²ðŸ‡­"},{code:"+850",country:"North Korea",flag:"ðŸ‡°ðŸ‡µ"},{code:"+852",country:"Hong Kong",flag:"ðŸ‡­ðŸ‡°"},{code:"+853",country:"Macau",flag:"ðŸ‡²ðŸ‡´"},{code:"+855",country:"Cambodia",flag:"ðŸ‡°ðŸ‡­"},{code:"+856",country:"Laos",flag:"ðŸ‡±ðŸ‡¦"},{code:"+880",country:"Bangladesh",flag:"ðŸ‡§ðŸ‡©"},{code:"+886",country:"Taiwan",flag:"ðŸ‡¹ðŸ‡¼"},{code:"+960",country:"Maldives",flag:"ðŸ‡²ðŸ‡»"},{code:"+961",country:"Lebanon",flag:"ðŸ‡±ðŸ‡§"},{code:"+962",country:"Jordan",flag:"ðŸ‡¯ðŸ‡´"},{code:"+963",country:"Syria",flag:"ðŸ‡¸ðŸ‡¾"},{code:"+964",country:"Iraq",flag:"ðŸ‡®ðŸ‡¶"},{code:"+967",country:"Yemen",flag:"ðŸ‡¾ðŸ‡ª"},{code:"+968",country:"Oman",flag:"ðŸ‡´ðŸ‡²"},{code:"+970",country:"Palestine",flag:"ðŸ‡µðŸ‡¸"},{code:"+972",country:"Israel",flag:"ðŸ‡®ðŸ‡±"},{code:"+973",country:"Bahrain",flag:"ðŸ‡§ðŸ‡­"},{code:"+974",country:"Qatar",flag:"ðŸ‡¶ðŸ‡¦"},{code:"+975",country:"Bhutan",flag:"ðŸ‡§ðŸ‡¹"},{code:"+976",country:"Mongolia",flag:"ðŸ‡²ðŸ‡³"},{code:"+977",country:"Nepal",flag:"ðŸ‡³ðŸ‡µ"},{code:"+992",country:"Tajikistan",flag:"ðŸ‡¹ðŸ‡¯"},{code:"+993",country:"Turkmenistan",flag:"ðŸ‡¹ðŸ‡²"},{code:"+994",country:"Azerbaijan",flag:"ðŸ‡¦ðŸ‡¿"},{code:"+995",country:"Georgia",flag:"ðŸ‡¬ðŸ‡ª"},{code:"+996",country:"Kyrgyzstan",flag:"ðŸ‡°ðŸ‡¬"},{code:"+998",country:"Uzbekistan",flag:"ðŸ‡ºðŸ‡¿"}],W=s=>{if(!s)return 0;const t=new Date,a=new Date(s);let N=t.getFullYear()-a.getFullYear();const E=t.getMonth()-a.getMonth();return(E<0||E===0&&t.getDate()<a.getDate())&&N--,N>=0?N:0},P=(s,t)=>{j({type:s,message:t}),setTimeout(()=>{j(null)},4e3)},K=async s=>{try{return(await(await fetch("/api/check-email-exists",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({email:s})})).json()).exists||!1}catch(t){return console.error("Error checking email:",t),!1}},J=async s=>{try{return(await(await fetch("/api/check-phone-exists",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({phone:s})})).json()).exists||!1}catch(t){return console.error("Error checking phone:",t),!1}},k=(s,t)=>{switch(s){case"civilStatus":return!t||t==="SELECT"?"Please select your civil status":"";case"nationality":return t.trim()?"":"Nationality is required";case"religion":return!t||t==="SELECT"?"Please select your religion":"";case"religionOther":return r.religion==="Other"&&(!t||t.trim()==="")?"Please specify your religion":"";case"country":return t.trim()?"":"Country is required";case"region":return!t||t==="Select Region"?"Please select your region":"";case"province":return t.trim()?"":"Province is required";case"city":return t.trim()?"":"City is required";case"barangay":return t.trim()?"":"Barangay is required";case"street":return t.trim()?"":"Street address is required";case"zipCode":return t.trim()?/^\d{4}$/.test(t.trim())?"":"Zip code must be 4 digits":"Zip code is required";case"mobileNo":if(!t.trim())return"Mobile number is required";const a=t.replace(/[\s-]/g,"");return/^9\d{9}$/.test(a)?"":"Please enter a valid 10-digit mobile number starting with 9";case"emailAddress":return t.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim())?"":"Please enter a valid email address":"Email address is required";case"mobileCountryCode":return t.trim()?"":"Country code is required";default:return""}},V=async()=>{const s={};let t=!1;const a=["civilStatus","nationality","religion","country","region","province","city","barangay","street","zipCode","mobileNo","mobileCountryCode","emailAddress"];if(r.religion==="Other"&&a.push("religionOther"),a.forEach(N=>{const E=k(N,String(r[N]));E&&(s[N]=E,t=!0)}),r.emailAddress&&!s.emailAddress&&await K(r.emailAddress)&&(s.emailAddress="This email address is already taken. Please use a different email.",t=!0),r.mobileNo&&!s.mobileNo){const N=`${r.mobileCountryCode}${r.mobileNo}`;await J(N)&&(s.mobileNo="This phone number is already taken. Please use a different phone number.",t=!0)}return u?T(""):(T("Profile picture is required to complete verification"),t=!0),$(s),!t},y=(s,t)=>{p(a=>{const N={...a,[s]:t};return s==="birthdate"&&(N.age=W(t)),N}),S[s]&&$(a=>({...a,[s]:""}))},Q=async(s,t)=>{if(s==="emailAddress"&&t&&!S.emailAddress&&await K(t)&&$(N=>({...N,emailAddress:"This email address is already taken. Please use a different email."})),s==="mobileNo"&&t&&!S.mobileNo){const a=`${r.mobileCountryCode}${t}`;await J(a)&&$(E=>({...E,mobileNo:"This phone number is already taken. Please use a different phone number."}))}},oe=async()=>{b(!0),g(""),setTimeout(()=>{r.firstname&&r.lastname&&r.birthdate&&r.sex?(h(2),z("Basic information collected successfully")):g("Please fill in all required fields (First Name, Last Name, Sex, and Birth Date)"),b(!1)},1500)},ie=async()=>{if(b(!0),g(""),!await V()){b(!1),u?P("error","Please correct the errors below before proceeding"):P("error","Profile picture is required to complete verification");return}setTimeout(()=>{z("Patient profile completed. Creating token session...");const t={firstname:r.firstname,middlename:r.middlename,lastname:r.lastname,suffix:r.suffix,sex:r.sex,birthdate:r.birthdate,age:r.age,email:r.emailAddress,phone:`${r.mobileCountryCode}${r.mobileNo}`,civilStatus:r.civilStatus,nationality:r.nationality,religion:r.religion==="Other"?r.religionOther:r.religion,country:r.country,region:r.region,province:r.province,city:r.city,barangay:r.barangay,street:r.street,zipCode:r.zipCode,profileImage:u,region_id:r.region_id,province_id:r.province_id,city_id:r.city_id,barangay_id:r.barangay_id};Pe.createTokenSession(t),localStorage.setItem("patientVerificationData",JSON.stringify(t)),fetch("/set-verification-session",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(()=>{x(),window.location.href="/appointments"}),b(!1)},1500)},le=()=>{D(null),P("success","Profile picture refreshed successfully!")},ce=async()=>{try{const s=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});_(s),F(!0),P("info","Camera opened. Position yourself in the frame and click capture.")}catch(s){console.error("Error accessing camera:",s),P("error","Unable to access camera. Please check permissions or use file upload instead.")}},X=()=>{B&&(B.getTracks().forEach(s=>s.stop()),_(null)),F(!1),U(null)},de=()=>{if(!B)return;G(!0);const s=document.getElementById("camera-video"),t=document.createElement("canvas"),a=t.getContext("2d");if(s&&a){t.width=s.videoWidth,t.height=s.videoHeight,a.drawImage(s,0,0);const N=t.toDataURL("image/jpeg",.8);U(N),D(N),T(""),P("success","Photo captured successfully!"),X()}G(!1)},me=()=>{const s=document.createElement("input");s.type="file",s.accept="image/*",s.style.display="none",s.addEventListener("change",t=>{const a=t.target.files?.[0];if(a){if(!a.type.startsWith("image/")){P("error","Please select a valid image file.");return}if(a.size>5*1024*1024){P("error","File size must be less than 5MB.");return}(E=>new Promise(ye=>{const te=document.createElement("canvas"),ve=te.getContext("2d"),re=new Image;re.onload=()=>{let{width:O,height:H}=re;O>H?O>300&&(H=H*300/O,O=300):H>300&&(O=O*300/H,H=300),te.width=O,te.height=H,ve?.drawImage(re,0,0,O,H);const je=te.toDataURL("image/jpeg",.7);ye(je)},re.src=URL.createObjectURL(E)}))(a).then(E=>{D(E),T("")}),P("success",`Photo uploaded successfully: ${a.name}`)}}),document.body.appendChild(s),s.click(),document.body.removeChild(s)},ue=()=>{h(1),p({firstname:"",middlename:"",lastname:"",suffix:"",sex:"",birthdate:"",age:0,civilStatus:"",nationality:"FILIPINO",religion:"",religionOther:"",country:"Philippines",region:"",province:"",city:"",barangay:"",street:"",zipCode:"",mobileNo:"",emailAddress:"",region_id:null,province_id:null,city_id:null,barangay_id:null,mobileCountryCode:"+63"}),C(""),g(""),z(""),D(null),$({}),T(""),X()},Z=()=>{ue(),x()},n=({field:s})=>{const t=S[s];return t?e.jsxs("div",{className:"mt-1 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:t})]}):null};return w?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:Z}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-2xl w-full mx-auto border border-gray-100 ${m===1?"max-w-2xl":"max-w-6xl"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[m===1&&"Patient Information",m===2&&"Patient Profile"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[m===1&&"Please provide your information to continue",m===2&&"Complete your patient profile to proceed to appointments"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[i&&m===1&&v&&e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 transition-all duration-200 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{children:"Back to Selection"})]}),e.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),c&&e.jsx("div",{className:"mx-8 mt-4 animate-in slide-in-from-top duration-300",children:e.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-sm border-l-4 ${c.type==="success"?"bg-green-50 border-green-400 text-green-800":c.type==="error"?"bg-red-50 border-red-400 text-red-800":"bg-blue-50 border-blue-400 text-blue-800"}`,children:[e.jsxs("div",{className:"flex-shrink-0",children:[c.type==="success"&&e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),c.type==="error"&&e.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),c.type==="info"&&e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:c.message})}),e.jsx("button",{onClick:()=>j(null),className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-8",children:[m===1&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 1 of 2"})]}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please provide your information to verify your identity and access appointment booking."})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),oe()},className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",value:r.firstname,onChange:s=>y("firstname",s.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your first name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx("input",{type:"text",value:r.middlename,onChange:s=>y("middlename",s.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your middle name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",value:r.lastname,onChange:s=>y("lastname",s.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your last name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Suffix"}),e.jsxs("select",{value:r.suffix,onChange:s=>y("suffix",s.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",children:[e.jsx("option",{value:"",children:"Select Suffix"}),e.jsx("option",{value:"Jr.",children:"Jr."}),e.jsx("option",{value:"Sr.",children:"Sr."}),e.jsx("option",{value:"II",children:"II"}),e.jsx("option",{value:"III",children:"III"}),e.jsx("option",{value:"IV",children:"IV"}),e.jsx("option",{value:"V",children:"V"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex *"}),e.jsxs("select",{value:r.sex,onChange:s=>y("sex",s.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",children:[e.jsx("option",{value:"",children:"Select Sex"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birth Date *"}),e.jsx("input",{type:"date",value:r.birthdate,onChange:s=>y("birthdate",s.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),e.jsx("div",{className:"w-full px-2 py-1.5 border border-gray-300 rounded-md bg-gradient-to-r from-blue-50 to-indigo-50 text-gray-700 flex items-center text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-medium",children:r.age>0?`${r.age}`:"Select birth date"})]})})]})]}),L&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-red-700 text-sm font-medium",children:L})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:Z,className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-all duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 rounded-lg transition-all duration-200 flex items-center space-x-2",children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Verifying..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Verify Patient"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]})]})]}),m===2&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 2 of 2"})]}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Complete Patient Profile"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please provide additional information to complete your patient profile."})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),ie()},className:"space-y-8",children:[e.jsx("div",{className:`bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-8 border-2 ${R?"border-red-300 bg-red-50":"border-transparent"}`,children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-28 h-28 bg-white rounded-full flex items-center justify-center shadow-lg border-4 overflow-hidden ${R?"border-red-300":"border-white"}`,children:u?e.jsx("img",{src:u,alt:"Profile",className:"w-full h-full object-cover rounded-full"}):e.jsx("svg",{className:"w-14 h-14 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsx("div",{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center shadow-lg ${R?"bg-red-500":"bg-green-500"}`,children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Profile Picture ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a clear photo of yourself for identification purposes"}),R&&e.jsxs("div",{className:"mb-4 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm text-red-600 font-medium",children:R})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{type:"button",onClick:le,className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"text-sm",children:"Refresh"})]}),e.jsxs("button",{type:"button",onClick:ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-sm",children:"Camera"})]}),e.jsxs("button",{type:"button",onClick:me,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("span",{className:"text-sm",children:"Upload"})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Civil Status *"}),e.jsxs("select",{value:r.civilStatus,onChange:s=>y("civilStatus",s.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.civilStatus?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"SELECT"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Widowed",children:"Widowed"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Separated",children:"Separated"})]}),e.jsx(n,{field:"civilStatus"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nationality *"}),e.jsx("input",{type:"text",value:r.nationality,onChange:s=>y("nationality",s.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Religion *"}),e.jsxs("select",{value:r.religion,onChange:s=>y("religion",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.religion?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"SELECT"}),e.jsx("option",{value:"Roman Catholic",children:"Roman Catholic"}),e.jsx("option",{value:"Iglesia ni Cristo",children:"Iglesia ni Cristo"}),e.jsx("option",{value:"Protestant",children:"Protestant"}),e.jsx("option",{value:"Baptist",children:"Baptist"}),e.jsx("option",{value:"Methodist",children:"Methodist"}),e.jsx("option",{value:"Adventist",children:"Adventist"}),e.jsx("option",{value:"Jehovah's Witness",children:"Jehovah's Witness"}),e.jsx("option",{value:"Mormon",children:"Mormon"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Buddhist",children:"Buddhist"}),e.jsx("option",{value:"Hindu",children:"Hindu"}),e.jsx("option",{value:"Agnostic",children:"Agnostic"}),e.jsx("option",{value:"Atheist",children:"Atheist"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(n,{field:"religion"}),r.religion==="Other"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Specify: *"}),e.jsx("input",{type:"text",value:r.religionOther||"",onChange:s=>y("religionOther",s.target.value),placeholder:"Please specify your religion",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.religionOther?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`}),e.jsx(n,{field:"religionOther"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",value:r.country,onChange:s=>y("country",s.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-gray-50",readOnly:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Address Information"]}),e.jsx(Le,{formData:r,setFormData:p,isDisabled:!1})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street *"}),e.jsx("input",{type:"text",value:r.street,onChange:s=>y("street",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.street?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),e.jsx(n,{field:"street"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zip Code *"}),e.jsx("input",{type:"text",value:r.zipCode,onChange:s=>y("zipCode",s.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.zipCode?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter zip code"}),e.jsx(n,{field:"zipCode"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mobile No. *"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:r.mobileCountryCode,onChange:s=>y("mobileCountryCode",s.target.value),className:`h-12 px-3 pr-8 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white border-r-0 text-sm appearance-none cursor-pointer min-w-[120px] ${S.mobileCountryCode?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,style:{backgroundImage:"none",WebkitAppearance:"none",MozAppearance:"none"},children:Y.map(s=>e.jsxs("option",{value:s.code,children:[s.flag," ",s.code]},s.code))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),e.jsx("input",{type:"tel",value:r.mobileNo,onChange:s=>y("mobileNo",s.target.value),onBlur:s=>Q("mobileNo",s.target.value),required:!0,className:`flex-1 h-12 px-4 py-3 border rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.mobileNo?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"999-999-9999"})]}),e.jsx(n,{field:"mobileNo"}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Format: ",r.mobileCountryCode," 999-999-9999"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:r.emailAddress,onChange:s=>y("emailAddress",s.target.value),onBlur:s=>Q("emailAddress",s.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.emailAddress?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),e.jsx(n,{field:"emailAddress"})]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-8",children:[e.jsxs("button",{type:"button",onClick:()=>h(1),className:"px-8 py-3 text-sm font-semibold text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back"})]}),e.jsx("button",{type:"submit",disabled:f,className:`px-8 py-3 text-sm font-semibold text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2 transform hover:scale-105 ${u?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700"} disabled:opacity-50`,children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:u?"Proceed to Appointments":"Upload Profile Picture Required"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})]})]})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 z-60 bg-black bg-opacity-75 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Camera"}),e.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("video",{id:"camera-video",autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-96 bg-gray-900 rounded-lg",ref:s=>{s&&B&&(s.srcObject=B)}}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[e.jsx("button",{onClick:X,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:de,disabled:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors duration-200 flex items-center space-x-2",children:q?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Capturing..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:"Capture Photo"})]})})]})]})]})})]}):null},Ke=({isOpen:w,onClose:x,onAccept:v})=>{const[i,m]=o.useState(!1),[h,r]=o.useState(!1),p=()=>{i&&h&&v()};return w?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:x}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Terms of Service & Community Guidelines"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please read and accept our terms before proceeding"})]})]}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-8 max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Terms of Service"]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1. Service Usage:"})," By using our appointment booking system, you agree to provide accurate and truthful information about your health and personal details."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2. Data Privacy:"})," We are committed to protecting your personal information in accordance with the Data Privacy Act of 2012 (Republic Act No. 10173)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3. Appointment Policy:"})," Appointments must be scheduled at least 24 hours in advance. Same-day cancellations may be subject to rescheduling."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Medical Records:"})," All medical information provided will be kept confidential and used solely for healthcare purposes."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5. System Availability:"})," While we strive for 24/7 availability, we cannot guarantee uninterrupted service due to maintenance or technical issues."]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Community Guidelines"]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1. Respectful Communication:"})," Please maintain respectful and professional communication with our healthcare staff and other patients."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2. Accurate Information:"})," Provide accurate and complete information about your health condition and medical history."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3. Punctuality:"})," Arrive on time for your appointments. Late arrivals may result in rescheduling."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Privacy Respect:"})," Respect the privacy of other patients and maintain confidentiality of shared spaces."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5. Compliance:"})," Follow all health and safety protocols, including wearing masks and maintaining social distancing when required."]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"termsCheckbox",checked:i,onChange:d=>m(d.target.checked),className:"mt-1 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"termsCheckbox",className:"text-sm text-gray-700",children:["I have read and agree to the ",e.jsx("strong",{children:"Terms of Service"})," and understand my rights and responsibilities as a patient."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"guidelinesCheckbox",checked:h,onChange:d=>r(d.target.checked),className:"mt-1 w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"guidelinesCheckbox",className:"text-sm text-gray-700",children:["I have read and agree to follow the ",e.jsx("strong",{children:"Community Guidelines"})," and will maintain respectful behavior."]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 p-8 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx("button",{onClick:x,className:"px-6 py-3 text-sm font-semibold text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Cancel"}),e.jsxs("button",{onClick:p,disabled:!i||!h,className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Accept & Continue"})]})]})]})})]}):null},Je=({isOpen:w,onClose:x,onReschedule:v})=>{const[i,m]=o.useState(""),[h,r]=o.useState(!1),[p,d]=o.useState(""),C=async()=>{if(!i.trim()){d("Please enter your reference number");return}r(!0),d("");try{const L=await(await fetch(`/api/patient-lookup/${i.trim()}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();L.success?(localStorage.setItem("rescheduleAppointmentData",JSON.stringify(L.patient)),x(),ne.visit("/appointments?mode=reschedule")):d(L.message||"Reference number not found. Please check your reference number and try again.")}catch(b){console.error("Error looking up appointment:",b),d("An error occurred while looking up your appointment. Please try again.")}finally{r(!1)}},f=()=>{m(""),d(""),x()};return w?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:f}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-orange-50 to-red-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reschedule Appointment"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter your reference number to reschedule"})]})]}),e.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"How to Reschedule"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Enter your current appointment reference number"}),e.jsx("li",{children:"â€¢ Only the appointment date can be changed"}),e.jsx("li",{children:"â€¢ All other details will remain the same"}),e.jsx("li",{children:"â€¢ You'll receive a new confirmation"})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number *"}),e.jsx("input",{type:"text",value:i,onChange:b=>{m(b.target.value),d("")},placeholder:"Enter your reference number (e.g., REF-2024-001234)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You can find this on your appointment confirmation email or SMS."}),p&&e.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx(M,{onClick:f,variant:"outline",className:"px-6 py-3",children:"Cancel"}),e.jsx(M,{onClick:C,disabled:!i.trim()||h,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reschedule Appointment"]})})]})]})]})}):null},Qe=({isOpen:w,onClose:x,onProceed:v})=>{const[i,m]=o.useState(""),[h,r]=o.useState(""),[p,d]=o.useState(!1),[C,f]=o.useState(""),[b,L]=o.useState(null),[g,I]=o.useState([]),[z,c]=o.useState(!1),[j,u]=o.useState(1),D=5,[S,$]=o.useState(!1),[R,T]=o.useState(!1),[l,F]=o.useState(null),[B,_]=o.useState(!1),[se,U]=o.useState(new Set);o.useEffect(()=>{g.length>0&&ue()},[g]);const q=async()=>{i==="existing"&&h.trim()?await G():i==="new"&&v(i)},G=async()=>{if(!h.trim()){f("Please enter your reference number");return}d(!0),f("");try{const s=await(await fetch(`/api/patient-lookup/${h.trim()}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();s.success?(L(s.patient),localStorage.setItem("existingPatientData",JSON.stringify(s.patient)),localStorage.setItem("selectedPatientType","existing"),await Y(s.patient.reference_number),c(!0)):f(s.message||"Reference number not found. Please check your reference number and try again.")}catch(n){console.error("Error looking up patient:",n),f("An error occurred while looking up your information. Please try again.")}finally{d(!1)}},Y=async n=>{try{const t=await(await fetch(`/api/patient-appointments/${n}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();t.success?(I(t.appointments||[]),u(1)):(console.error("Error fetching appointment history:",t.message),I([]))}catch(s){console.error("Error fetching appointment history:",s),I([])}},W=()=>{$(!0)},P=()=>{$(!1)},K=()=>{c(!1),L(null),I([]),r(""),m(""),f(""),u(1)},J=()=>{x(),ne.visit("/appointments")},k=Math.ceil(g.length/D),V=(j-1)*D,y=V+D,Q=g.slice(V,y),oe=n=>{u(n)},ie=()=>{j>1&&u(j-1)},le=()=>{j<k&&u(j+1)},ce=async n=>{_(!0),console.log("Fetching diagnosis for appointment ID:",n);try{const s=await ge.get(`/appointments/diagnosis/${n}`);console.log("Diagnosis API response:",s.data);const t=s.data.diagnosis;t&&t.diagnosis&&t.diagnosis.trim()!==""?(F(s.data),T(!0),ee.success("Diagnosis loaded successfully")):(console.log("No valid diagnosis found:",t),ee.error("No diagnosis found for this appointment"))}catch(s){console.error("Error fetching diagnosis:",s),console.error("Error response:",s.response?.data),s.response?.status===404?ee.error("No diagnosis available for this appointment"):s.response?.status===500?ee.error("Server error: "+(s.response?.data?.error||"Unknown error")):ee.error("Failed to load diagnosis data: "+(s.message||"Unknown error"))}finally{_(!1)}},X=n=>{ce(n)},de=()=>{T(!1),F(null)},me=async n=>{try{const s=await ge.get(`/appointments/diagnosis/${n}`);console.log(`Checking diagnosis for appointment ${n}:`,s.data);const t=s.data.diagnosis;if(!t)return console.log(`No diagnosis found for appointment ${n}`),!1;const a=t.diagnosis&&t.diagnosis.trim()!=="";return console.log(`Appointment ${n} has diagnosis content:`,a),a}catch(s){return console.log(`Error checking diagnosis for appointment ${n}:`,s),!1}},ue=async()=>{console.log("Checking appointments for diagnoses...",g);const n=new Set;for(const s of g)try{const t=await me(s.id);console.log(`Appointment ${s.id} has diagnosis:`,t),t&&n.add(s.id)}catch(t){console.error(`Error checking diagnosis for appointment ${s.id}:`,t)}console.log("Appointments with diagnosis:",Array.from(n)),U(n)},Z=()=>{const n=window.open("","_blank");if(n){const s=l,t=s?.appointment,a=s?.diagnosis||s;n.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Diagnosis Summary - ${t?.firstname} ${t?.lastname}</title>
                    <style>
                        * { margin: 0; padding: 0; box-sizing: border-box; }
                        body { 
                            font-family: Arial, sans-serif; 
                            font-size: 12px; 
                            line-height: 1.3; 
                            margin: 10px; 
                            max-width: 100%;
                        }
                        .header { 
                            text-align: center; 
                            margin-bottom: 15px; 
                            border-bottom: 2px solid #2563eb; 
                            padding-bottom: 10px; 
                        }
                        .header h1 { 
                            color: #2563eb; 
                            margin: 0; 
                            font-size: 18px; 
                        }
                        .header p { 
                            color: #666; 
                            margin: 2px 0; 
                            font-size: 10px; 
                        }
                        .content { 
                            display: grid; 
                            grid-template-columns: 1fr 1fr; 
                            gap: 10px; 
                            margin-bottom: 10px; 
                        }
                        .section { 
                            padding: 8px; 
                            border: 1px solid #e5e7eb; 
                            border-radius: 4px; 
                            background: #f9fafb; 
                        }
                        .section h3 { 
                            color: #374151; 
                            margin-bottom: 8px; 
                            font-size: 11px; 
                            border-bottom: 1px solid #d1d5db; 
                            padding-bottom: 2px; 
                        }
                        .info-row { 
                            margin-bottom: 4px; 
                            font-size: 10px; 
                        }
                        .label { 
                            font-weight: bold; 
                            color: #374151; 
                            display: inline-block; 
                            width: 80px; 
                        }
                        .value { 
                            color: #6b7280; 
                        }
                        .diagnosis-content { 
                            background: white; 
                            padding: 6px; 
                            border-radius: 3px; 
                            margin-top: 4px; 
                            border: 1px solid #e5e7eb; 
                        }
                        .full-width { 
                            grid-column: 1 / -1; 
                        }
                        .footer { 
                            margin-top: 10px; 
                            text-align: center; 
                            color: #6b7280; 
                            font-size: 9px; 
                            border-top: 1px solid #e5e7eb; 
                            padding-top: 5px; 
                        }
                        @media print { 
                            body { margin: 5px; font-size: 11px; }
                            .content { gap: 8px; }
                            .section { padding: 6px; }
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>DIAGNOSIS SUMMARY</h1>
                        <p>RHU Calumpang Health Center</p>
                        <p>Generated: ${new Date().toLocaleDateString()}</p>
                    </div>
                    
                    <div class="content">
                        <div class="section">
                            <h3>Patient Info</h3>
                            <div class="info-row">
                                <span class="label">Name:</span> 
                                <span class="value">${t?.firstname||"N/A"} ${t?.lastname||"N/A"}</span>
                            </div>
                            <div class="info-row">
                                <span class="label">Date:</span> 
                                <span class="value">${t?.date||"N/A"}</span>
                            </div>
                            <div class="info-row">
                                <span class="label">Time:</span> 
                                <span class="value">${t?.time||"N/A"}</span>
                            </div>
                            <div class="info-row">
                                <span class="label">Service:</span> 
                                <span class="value">${t?.service?.servicename||"General Consultation"}</span>
                            </div>
                            ${t?.subservice?.subservicename?`
                            <div class="info-row">
                                <span class="label">Subservice:</span> 
                                <span class="value">${t.subservice.subservicename}</span>
                            </div>
                            `:""}
                        </div>
                        
                        <div class="section">
                            <h3>Doctor Info</h3>
                            <div class="info-row">
                                <span class="label">Doctor:</span> 
                                <span class="value">Dr. ${a?.doctor?.firstname||a?.doctor?.firstname||"Unknown"} ${a?.doctor?.lastname||a?.doctor?.lastname||"Doctor"}</span>
                            </div>
                            <div class="info-row">
                                <span class="label">License:</span> 
                                <span class="value">${a?.doctor?.license_number||a?.doctor?.license_number||"N/A"}</span>
                            </div>
                            <div class="info-row">
                                <span class="label">Date:</span> 
                                <span class="value">${a?.created_at?new Date(a.created_at).toLocaleDateString():"N/A"}</span>
                            </div>
                        </div>
                        
                        <div class="section full-width">
                            <h3>Medical Diagnosis</h3>
                            <div class="diagnosis-content">
                                <div class="info-row">
                                    <span class="label">Diagnosis:</span>
                                    <div class="value" style="margin-top: 2px; font-size: 10px;">${a?.diagnosis||a?.diagnosis||"No diagnosis available"}</div>
                                </div>
                                ${a?.symptoms||a?.symptoms?`
                                <div class="info-row" style="margin-top: 4px;">
                                    <span class="label">Symptoms:</span>
                                    <div class="value" style="margin-top: 2px; font-size: 10px;">${a?.symptoms||a?.symptoms}</div>
                                </div>
                                `:""}
                            </div>
                        </div>
                        
                        ${a?.treatment||a?.treatment||a?.notes||a?.notes||a?.assessment||a?.assessment||a?.pertinent_findings||a?.pertinent_findings?`
                        <div class="section full-width">
                            <h3>Treatment Plan & Assessment</h3>
                            <div class="diagnosis-content">
                                ${a?.treatment||a?.treatment?`
                                <div class="info-row">
                                    <span class="label">Treatment Plan:</span>
                                    <div class="value" style="margin-top: 2px; font-size: 10px;">${a?.treatment||a?.treatment}</div>
                                </div>
                                `:""}
                                ${a?.assessment||a?.assessment?`
                                <div class="info-row" style="margin-top: 4px;">
                                    <span class="label">Assessment:</span>
                                    <div class="value" style="margin-top: 2px; font-size: 10px;">${a?.assessment||a?.assessment}</div>
                                </div>
                                `:""}
                                ${a?.pertinent_findings||a?.pertinent_findings?`
                                <div class="info-row" style="margin-top: 4px;">
                                    <span class="label">Pertinent Findings:</span>
                                    <div class="value" style="margin-top: 2px; font-size: 10px;">${a?.pertinent_findings||a?.pertinent_findings}</div>
                                </div>
                                `:""}
                                ${a?.notes||a?.notes?`
                                <div class="info-row" style="margin-top: 4px;">
                                    <span class="label">Additional Notes:</span>
                                    <div class="value" style="margin-top: 2px; font-size: 10px;">${a?.notes||a?.notes}</div>
                                </div>
                                `:""}
                            </div>
                        </div>
                        `:""}
                    </div>
                    
                    <div class="footer">
                        <p>Generated electronically - RHU Calumpang Health Center ${new Date().getFullYear()}</p>
                    </div>
                </body>
                </html>
            `),n.document.close(),n.focus(),n.print()}};return w?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:x}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Patient Type Selection"}),e.jsx("p",{className:"text-gray-600",children:"Please select your patient type to continue"})]})]}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-8",children:z&&b?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-900",children:["Welcome back, ",b.firstname," ",b.lastname,"!"]}),e.jsx("p",{className:"text-blue-700",children:"Here's your appointment history. You can book a new appointment."})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Your Appointment History"}),g.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",V+1,"-",Math.min(y,g.length)," of ",g.length," appointments"]})]}),g.length>0?e.jsx("div",{className:"space-y-4",children:Q.map((n,s)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:n.service?.servicename||"Service"}),n.subservice&&e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",n.subservice.subservicename]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(n.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",n.time]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reference:"})," ",n.reference_number]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"}),e.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs ${n.status===1?"bg-blue-100 text-blue-800":n.status===2?"bg-green-100 text-green-800":n.status===3||n.status===4?"bg-red-100 text-red-800":n.status===5?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n.status===1?"Scheduled":n.status===2?"Completed":n.status===3?"Cancelled":n.status===4?"Declined":n.status===5?"Confirmed":"Unknown"})]})]}),e.jsx("div",{className:"mt-3",children:se.has(n.id)?e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>X(n.id),disabled:B,className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[B?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1"}):e.jsx(xe,{className:"h-3 w-3 mr-1"}),"Diagnosis Summary"]}):e.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"No diagnosis available"})})]})})},s))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{children:"No appointment history found."})]}),g.length>D&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(M,{onClick:ie,disabled:j===1,variant:"outline",size:"sm",className:"px-3 py-1",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:k},(n,s)=>s+1).map(n=>e.jsx(M,{onClick:()=>oe(n),variant:j===n?"default":"outline",size:"sm",className:`px-3 py-1 ${j===n?"bg-blue-600 text-white":"hover:bg-gray-50"}`,children:n},n))}),e.jsxs(M,{onClick:le,disabled:j===k,variant:"outline",size:"sm",className:"px-3 py-1",children:["Next",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",j," of ",k]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsxs(M,{onClick:K,variant:"outline",className:"px-6 py-2",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Selection"]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(M,{onClick:J,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Book New Appointment"]})})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Select Patient Type"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Please choose whether you are a new patient or an existing patient."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${i==="new"?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-green-300 hover:bg-green-50"}`,onClick:()=>m("new"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${i==="new"?"border-green-500 bg-green-500":"border-gray-300"}`,children:i==="new"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"New Patient"}),e.jsx("p",{className:"text-sm text-gray-600",children:"First time visiting our clinic"})]})]})}),e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${i==="existing"?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>m("existing"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${i==="existing"?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:i==="existing"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Existing Patient"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Previously visited our clinic"})]})]})}),i==="existing"&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number from Last Appointment"}),e.jsx("input",{type:"text",value:h,onChange:n=>r(n.target.value),placeholder:"Enter your reference number (e.g., REF-2024-001234)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You can find this on your previous appointment confirmation email or SMS."}),C&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:C})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Quick Actions"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Need to change your existing appointment?"}),e.jsx("div",{className:"space-y-3",children:e.jsx(M,{variant:"outline",className:"w-full justify-start text-left h-auto p-4 border-orange-200 hover:border-orange-300 hover:bg-orange-50",onClick:W,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Reschedule Appointment"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Change your existing appointment"})]})]})})})]})})]})}),!z&&e.jsxs("div",{className:"flex justify-end space-x-4 p-8 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx(M,{onClick:x,variant:"outline",className:"px-6 py-3",children:"Cancel"}),e.jsx(M,{onClick:q,disabled:!i||i==="existing"&&!h.trim()||p,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i==="existing"?"Lookup & Continue":"Continue to Verification"]})})]})]})}),e.jsx(Je,{isOpen:S,onClose:P,onReschedule:()=>{}}),e.jsxs(Ae,{isOpen:R,hasCancel:!0,onClose:de,maxWidth:"4xl",canceltext:"Close",savetext:"",className:"max-h-[95vh] overflow-y-auto w-full",children:[e.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 rounded-t-lg -m-6 mb-4 p-5 text-white",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm flex-shrink-0",children:e.jsx(xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Diagnosis Summary"}),e.jsx("p",{className:"text-blue-100 mt-0.5 text-xs lg:text-sm",children:"Medical diagnosis and treatment details"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(M,{onClick:Z,variant:"outline",size:"sm",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 hover:border-white/50",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Print"]})})]})}),l&&l.diagnosis&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(fe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-blue-800 text-base mb-2",children:[l.appointment?.firstname||"Unknown"," ",l.appointment?.lastname||"Patient"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("span",{className:"font-medium",children:"Appointment Date:"})," ",l.appointment?.date||"N/A"," at ",l.appointment?.time||"N/A"]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("span",{className:"font-medium",children:"Service:"})," ",l.appointment?.service?.servicename||"General Consultation"]}),l.appointment?.subservice?.subservicename&&e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("span",{className:"font-medium",children:"Subservice:"})," ",l.appointment.subservice.subservicename]})]})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(xe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-green-800 text-base",children:"Primary Diagnosis"}),e.jsx("p",{className:"text-sm text-green-600",children:"Medical diagnosis and symptoms"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-green-700",children:"Diagnosis"}),e.jsx("p",{className:"text-sm text-green-800 bg-white p-3 rounded border",children:l.diagnosis?.diagnosis||l.diagnosis||"No diagnosis available"})]}),(l.diagnosis?.symptoms||l.symptoms)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-green-700",children:"Symptoms"}),e.jsx("p",{className:"text-sm text-green-800 bg-white p-3 rounded border",children:l.diagnosis?.symptoms||l.symptoms})]})]})]}),(l.diagnosis?.treatment||l.treatment||l.diagnosis?.notes||l.notes)&&e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx(Ee,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-orange-800 text-base",children:"Treatment Plan"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Recommended treatment and follow-up"})]})]}),e.jsxs("div",{className:"space-y-3",children:[(l.diagnosis?.treatment||l.treatment)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-orange-700",children:"Treatment"}),e.jsx("p",{className:"text-sm text-orange-800 bg-white p-3 rounded border",children:l.diagnosis?.treatment||l.treatment})]}),(l.diagnosis?.notes||l.notes)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-orange-700",children:"Assessment"}),e.jsx("p",{className:"text-sm text-orange-800 bg-white p-3 rounded border",children:l.diagnosis?.notes||l.notes})]}),(l.diagnosis?.pertinent_findings||l.pertinent_findings)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-orange-700",children:"Pertinent Findings"}),e.jsx("p",{className:"text-sm text-orange-800 bg-white p-3 rounded border",children:l.diagnosis?.pertinent_findings||l.pertinent_findings})]})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(fe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-purple-800 text-base mb-2",children:"Diagnosed by"}),e.jsxs("p",{className:"text-sm text-purple-700",children:["Dr. ",l.diagnosis?.doctor?.firstname||l.doctor?.firstname||"Unknown"," ",l.diagnosis?.doctor?.lastname||l.doctor?.lastname||"Doctor"]}),e.jsxs("p",{className:"text-sm text-purple-700",children:["License: ",l.diagnosis?.doctor?.license_number||l.doctor?.license_number||"N/A"]}),e.jsxs("p",{className:"text-xs text-purple-600",children:["Date: ",l.diagnosis?.created_at?new Date(l.diagnosis.created_at).toLocaleDateString():l.created_at?new Date(l.created_at).toLocaleDateString():"N/A"]})]})]})})]})]}),e.jsx(ze,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#363636",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}})]}):null},be=()=>{const[w,x]=o.useState(!1);return o.useEffect(()=>{const i=()=>{const h=window.location.pathname,r=localStorage.getItem("patientTokenSession"),p=h.includes("/appointments");x(p||!!r)};i();const m=()=>{i()};return window.addEventListener("popstate",m),()=>{window.removeEventListener("popstate",m)}},[]),o.useEffect(()=>{const i=()=>{window.location.pathname.includes("/appointments")||(localStorage.removeItem("patientTokenSession"),localStorage.removeItem("patientVerificationData"),x(!1))};return window.addEventListener("beforeunload",i),()=>{window.removeEventListener("beforeunload",i)}},[]),{isInAppointmentSession:w,handleAppointmentClick:i=>w?(i.preventDefault(),i.stopPropagation(),alert("You are already in an appointment session. Please complete your current appointment or refresh the page to start a new one."),!1):(window.dispatchEvent(new CustomEvent("openTermsOfServiceModal")),!0)}},Xe=({auth:w,isLoggedin:x})=>{const[v,i]=o.useState(!1),[m,h]=o.useState(!1),[r,p]=o.useState(!1),[d,C]=o.useState(!1),[f,b]=o.useState(!1),[L,g]=o.useState(!1),[I,z]=o.useState(!1),[c,j]=o.useState(!1),{isInAppointmentSession:u}=be(),[D,S]=o.useState(!1),[$,R]=o.useState(!1);o.useEffect(()=>{const V=new URLSearchParams(window.location.search).get("mode"),y=localStorage.getItem("existingPatientData"),Q=localStorage.getItem("selectedPatientType");S(V==="reschedule"),R(!!y&&Q==="existing")},[]);const T=()=>u,l=()=>i(!v),F=()=>h(!m),B=()=>C(!d),_=()=>{g(!1),window.isTermsModalOpen=!1,z(!0)},se=()=>{g(!1),window.isTermsModalOpen=!1},U=k=>{z(!1),localStorage.setItem("selectedPatientType",k),j(!0),b(!0)},q=()=>{z(!1)},G=()=>{b(!1),j(!1),z(!0)},Y=k=>{if(u)return k.preventDefault(),k.stopPropagation(),alert("You are already in an appointment session. Please complete your current appointment or refresh the page to start a new one."),!1;g(!0)},W=ae().props.auth.user,P=ae().props.auth,[K,J]=o.useState(P);return o.useEffect(()=>{J(P)},[P]),o.useEffect(()=>{const k=()=>{if(window.isTermsModalOpen){console.warn("Terms modal already open, ignoring duplicate request");return}window.isTermsModalOpen=!0,g(!0)};return window.addEventListener("openTermsOfServiceModal",k),()=>{window.removeEventListener("openTermsOfServiceModal",k)}},[]),e.jsxs("header",{className:"w-full h-16 bg-white border-b border-gray-200 header-shadow fixed top-0 left-0 z-50",children:[e.jsxs("div",{className:"container mx-auto h-full flex items-center justify-between px-4",children:[e.jsxs(A,{href:"/",className:"flex items-center group",children:[e.jsx("img",{src:"https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",alt:"Barangay Calumpang Health Center",className:"h-8 w-auto transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"ml-2 font-semibold text-base text-gray-800 group-hover:text-black transition-colors duration-300",children:"Calumpang RHU"})]}),e.jsx("div",{className:"md:hidden ml-auto",children:e.jsx("button",{onClick:l,className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition-all duration-300 transform hover:scale-110 active:scale-95","aria-label":"toggle menu",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 fill-current",children:e.jsx("path",{fillRule:"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"})})})}),e.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-b from-gray-50 to-white shadow-2xl overflow-y-auto transition-transform duration-300 ease-in-out ${v?"translate-x-0":"-translate-x-full"}`,style:{display:v?"block":"none"},children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs(A,{href:"/",className:"flex items-center group",children:[e.jsx("img",{src:"https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",alt:"Barangay Calumpang Health Center",className:"h-8 w-auto transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"ml-2 font-semibold text-base text-gray-800 group-hover:text-black transition-colors duration-300",children:"Calumpang RHU"})]}),e.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800 focus:outline-none focus:text-gray-800 transition-all duration-300 transform hover:rotate-180 active:scale-95",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("nav",{className:"px-6 py-8",children:[e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsxs(A,{href:"/",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:F,className:"flex items-center justify-between w-full py-2 px-3 text-base font-medium text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-50 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2m14 0V5a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Services"]}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),m&&e.jsxs("div",{className:"pl-10 pr-3 py-1 space-y-1",children:[e.jsxs("button",{onClick:Y,disabled:u,className:`w-full flex items-start py-2 px-2 text-sm font-medium rounded-md transition-all duration-300 transform ${u?"text-gray-400 cursor-not-allowed opacity-50":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-r hover:from-gray-100 hover:to-transparent hover:translate-x-1 hover:shadow-sm"}`,style:{textAlign:"left",border:"none",background:"none",outline:"none",font:"inherit"},title:u?"You are already in an appointment session":"Schedule an appointment",children:[e.jsx("svg",{className:`w-4 h-4 mr-2 mt-0.5 flex-shrink-0 ${u?"text-gray-400":"text-blue-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:u?"Appointments (Active)":"Appointments"}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"Schedule your visit to the health center"})]})]}),T()?e.jsxs("button",{disabled:!0,className:"flex items-start py-2 px-2 text-sm font-medium text-gray-400 cursor-not-allowed opacity-50 rounded-md transition-all duration-300",title:"Seasonal Programs is disabled during appointment session",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:"Seasonal Programs"}),e.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:"Disabled during appointment session"})]})]}):e.jsxs(A,{href:"/services/seasonal-programs",className:"flex items-start py-2 px-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gradient-to-r hover:from-gray-100 hover:to-transparent rounded-md transition-all duration-300 transform hover:translate-x-1 hover:shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:"Seasonal Programs"}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"View seasonal programs and availability"})]})]})]})]}),e.jsx("li",{children:e.jsxs(A,{href:"/about",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"About"]})}),e.jsx("li",{children:e.jsxs(A,{href:"/contact",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact"]})}),e.jsx("li",{children:e.jsxs(A,{href:"/faq",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"FAQ"]})})]}),W&&e.jsx("div",{className:"mt-8",children:e.jsx(A,{href:"/logout",method:"post",className:"flex items-center justify-center w-full py-3 px-4 bg-gray-800 text-white text-center font-semibold rounded-lg transition-all duration-300 transform hover:bg-gray-700 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 active:scale-95 hover:shadow-lg",children:"Logout"})})]})]}),e.jsx("nav",{className:"hidden md:block",children:e.jsxs("ul",{className:"flex space-x-6",children:[e.jsx("li",{children:e.jsx(A,{href:"/",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"Home"})}),e.jsxs("li",{className:"relative",children:[e.jsxs("button",{onClick:()=>p(k=>!k),className:`nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative ${r?"bg-gray-100 text-gray-900":""}`,children:[e.jsx("span",{children:"Services"}),e.jsx("svg",{className:`ml-1 h-4 w-4 transition-transform duration-300 ${r?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&e.jsx("div",{className:"absolute left-0 mt-2 w-72 origin-top-right rounded-xl bg-white p-4 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none",onMouseEnter:()=>p(!0),onMouseLeave:()=>setTimeout(()=>p(!1),500),children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:Y,disabled:u,className:`w-full group flex items-center rounded-lg p-3 transition-all duration-300 transform min-h-[60px] ${u?"opacity-50 cursor-not-allowed":"hover:bg-gray-50 hover:translate-x-1"}`,title:u?"You are already in an appointment session":"Schedule an appointment",children:[e.jsx("svg",{className:`mr-3 h-5 w-5 transition-colors duration-300 ${u?"text-gray-400":"text-gray-400 group-hover:text-black"}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${u?"text-gray-400":"text-gray-900 group-hover:text-black"}`,children:u?"Appointments (Active)":"Appointments"}),e.jsx("p",{className:`text-xs transition-colors duration-300 ${u?"text-gray-400":"text-gray-500 group-hover:text-gray-600"}`,children:u?"Complete your current appointment first":"Schedule your visit to the health center"})]})]}),T()?e.jsxs("button",{disabled:!0,className:"group flex items-center rounded-lg p-3 cursor-not-allowed opacity-50 min-h-[60px]",title:"Seasonal Programs is disabled during appointment session",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Seasonal Programs"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Disabled during appointment session"})]})]}):e.jsxs(A,{href:"/services/seasonal-programs",className:"group flex items-center rounded-lg p-3 hover:bg-gray-50 transition-all duration-300 transform hover:translate-x-1 min-h-[60px]",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-black transition-colors duration-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-black transition-colors duration-300",children:"Seasonal Programs"}),e.jsx("p",{className:"text-xs text-gray-500 group-hover:text-gray-600 transition-colors duration-300",children:"View seasonal programs and availability"})]})]})]})})]}),e.jsx("li",{children:e.jsx(A,{href:"/about",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"About"})}),e.jsx("li",{children:e.jsx(A,{href:"/contact",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"Contact"})}),e.jsx("li",{children:e.jsx(A,{href:"/faq",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"FAQ"})})]})}),e.jsx("div",{className:"flex items-center",children:W&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{datas:K}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:B,className:`group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative ${d?"bg-gray-100 text-gray-900":""}`,children:[e.jsxs("span",{children:[W.firstname," ",W.lastname]}),e.jsx("svg",{className:`ml-1 h-4 w-4 transition-transform duration-300 ${d?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),d&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx(A,{href:"/patient/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-all duration-300",children:"Profile"}),e.jsx(A,{href:"/logout",method:"post",as:"button",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-all duration-300 w-full text-left",children:"Logout"})]})})]})]})})]}),e.jsx(Ye,{isOpen:f,onClose:()=>{b(!1),j(!1)},onBackToSelection:G,showBackButton:c}),e.jsx(Ke,{isOpen:L,onClose:se,onAccept:_}),e.jsx(Qe,{isOpen:I,onClose:q,onProceed:U})]})},Ze=({logoSrc:w="https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",logoStyle:x={width:"150px",height:"150px",objectFit:"contain"},socialLinks:v=[{platform:"Facebook",url:"https://facebook.com"},{platform:"Twitter",url:"https://twitter.com"},{platform:"Instagram",url:"https://instagram.com"}],contactInfo:i={address:"Calumpang, General Santos, Soccsksargen, Philippines",phone:"(083) 554-0146",email:"calumpangrhu@gmail.com"},quickLinks:m=[{title:"Home",url:"/"},{title:"Services",url:"/#services"},{title:"Appointments",url:"/appointments"},{title:"About Us",url:"/about"},{title:"Contact",url:"/#contact"},{title:"Terms of Service",url:"/terms"},{title:"FAQ",url:"/faq"}]})=>{const{isInAppointmentSession:h,handleAppointmentClick:r}=be(),p=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("footer",{className:"bg-slate-900 text-white py-12 px-4 md:px-8 lg:px-16",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-8 gap-8",children:[e.jsxs("div",{className:"md:w-1/3",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:w,alt:"Barangay Calumpang Health Center",style:{...x,width:"40px",height:"40px"},className:"mr-3 filter drop-shadow-md rounded-full"}),e.jsx("h3",{className:"text-xl font-bold",children:"Calumpang Rural Health Unit"})]}),e.jsx("p",{className:"text-slate-300 mb-4",children:"Providing quality healthcare services to the residents of Barangay Calumpang through our innovative digital health management system."}),e.jsx("div",{className:"flex space-x-4",children:v.map((d,C)=>e.jsxs("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-300 hover:text-white transition-colors","aria-label":d.platform,children:[d.platform==="Facebook"&&e.jsx(Fe,{size:20}),d.platform==="Twitter"&&e.jsx(qe,{size:20}),d.platform==="Instagram"&&e.jsx(Ve,{size:20})]},C))})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map((d,C)=>d.title==="Appointments"?e.jsx("button",{onClick:r,disabled:h,className:`text-left py-1 transition-colors ${h?"text-gray-500 cursor-not-allowed opacity-50":"text-slate-300 hover:text-white"}`,title:h?"You are already in an appointment session":"Schedule an appointment",children:h?"Appointments (Active)":d.title},C):e.jsx("a",{href:d.url,className:"text-slate-300 hover:text-white transition-colors py-1",children:d.title},C))})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(De,{className:"mr-2 h-5 w-5 text-slate-300 mt-0.5"}),e.jsx("span",{className:"text-slate-300",children:i.address})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"mr-2 h-5 w-5 text-slate-300"}),e.jsx("span",{className:"text-slate-300",children:i.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx($e,{className:"mr-2 h-5 w-5 text-slate-300"}),e.jsx("span",{className:"text-slate-300",children:i.email})]})]})]})]}),e.jsx(Te,{className:"bg-slate-700 my-6"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-slate-400 text-sm mb-4 md:mb-0",children:[new Date().getFullYear()," Barangay Calumpang Rural Health Unit. All rights reserved."]}),e.jsx(M,{variant:"outline",size:"icon",className:"rounded-full bg-slate-800 border-slate-700 hover:bg-slate-700",onClick:p,"aria-label":"Back to top",children:e.jsx(Re,{className:"h-5 w-5"})})]})]})})};function Cs({children:w,className:x,footer:v=!1}){const{flash:i}=ae().props;return o.useEffect(()=>{i&&We(i.title,i.message,i.icon)},[i]),e.jsxs("div",{className:x,children:[e.jsx(Ce,{channelName:"notification",eventName:"notification-event",onEvent:m=>{ne.reload({only:["auth"],preserveScroll:!0})}}),e.jsx(Xe,{isLoggedIn:ae().props?.auth?.user}),w,v&&e.jsx(Ze,{}),e.jsx(Oe,{})]})}export{Cs as L,be as u};
