import{q as _,r as d,P as $,j as e,b as V}from"./app-CeIgF_ON.js";import{C as k,a as C,b as L,e as S,c as A,d as Y}from"./card-CI2m5mar.js";import{T as G,a as J,b as F,c as B}from"./tabs-B6Ve_L21.js";import{B as n}from"./button-Fpuf3gK7.js";import{I as o}from"./input-BCfEL07B.js";import{L as l}from"./label-BoiibVKM.js";import{T as K}from"./textarea-CHqauKob.js";import{A as Q,a as X,b as Z}from"./avatar-l4jmpcb5.js";import{L as ee}from"./LandingLayout-rRSXa-KV.js";import{U as se}from"./user-CKA1233A.js";import{C as te}from"./calendar-CGzNZGPc.js";import{S as re,L as ae}from"./settings-CTLmvXdY.js";import{B as ie}from"./bell-B4Bny3sk.js";import{S as ne}from"./shield-nLR2hIoV.js";import{C as le}from"./check-BP46dkzd.js";import{C as oe}from"./circle-alert-DuAkRI3M.js";import"./utils-CtOKCYCe.js";import"./index-CnNFI4E1.js";import"./index-BWv6GYHR.js";import"./Combination-DCT0cEvm.js";import"./index-BWgxzSOQ.js";import"./index-B37RckyO.js";import"./badge-BoTmsD8x.js";import"./moment-C5S46NFB.js";import"./pusher-DCkN6nwv.js";import"./dialog-DHsZe8a4.js";import"./printer-DDOFDHRe.js";import"./createLucideIcon-YALEnXJP.js";import"./file-text-BWiDoVNK.js";import"./package-DZ7aEd2S.js";import"./circle-check-big-C-dI_0Ou.js";import"./pill-aaemgw3j.js";import"./index-DGjbBNAT.js";import"./proxy-CJR3EsRI.js";import"./PhilippinesAddressLookup-uStuTDHE.js";import"./separator-Cw77xRaf.js";import"./map-pin-C2PYcTlD.js";import"./phone-BRCHNrFL.js";import"./mail-CJC9A5hE.js";import"./chevron-up-CFknDtme.js";import"./toast-Bu_EgVQh.js";import"./Toaster-fp6k2nVx.js";import"./toast-QJZS3IgN.js";import"./index-Djoo3jz_.js";import"./refresh-cw-BvJK4sNr.js";import"./save-CPB1gdGV.js";import"./square-pen-B10XnNsm.js";import"./download-DeuZq0VE.js";import"./trash-2-t7iELOWw.js";import"./archive-DgJhf5RG.js";import"./info-Tb2EP4WD.js";import"./triangle-alert-Dbm5RxGW.js";import"./circle-x-BLiNGyoF.js";import"./circle-check-DVbgZSp6.js";const ms=({errors:g})=>{const{auth:P,recentAppointments:T}=_().props,s=P.user,[x,R]=d.useState("personal"),[r,u]=d.useState(!1),[de,f]=d.useState(!1),[ce,h]=d.useState(!1),[U,v]=d.useState(!1),[E,w]=d.useState(null),y=d.useRef(null);d.useEffect(()=>{},[s]);const N=T||[],{data:a,setData:W,post:I,processing:b,recentlySuccessful:q}=$({firstname:s.firstname,middlename:s.middlename,lastname:s.lastname,suffix:s.suffix,email:s.email,avatar:s.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=juan",phone:s.contactno,address:s.address,medicalInfo:"No known allergies. Last check-up: March 2023",birthdate:s.birth,emergencyContact:s.emercont?.[0]?.contactno,bloodtype:s.bloodtype,allergies:"None",medications:"None",gender:s.gender}),i=t=>{const{id:c,value:m}=t.target;W(p=>({...p,[c]:m}))},z=t=>{t.preventDefault(),f(!0),I(route("patient.profile.update"),{onFinish:()=>{D()}})},D=()=>{f(!1),h(!0),u(!1),h(!1)},j=t=>{R(t),u(!1)},O=()=>{y.current.click()},M=t=>{const c=t.target.files[0];if(c){const m=URL.createObjectURL(c);w(m);const p=new FormData;p.append("avatar",c),V.post(route("patient.avatar.upload"),p,{forceFormData:!0,onSuccess:()=>{URL.revokeObjectURL(m),h(!0),setTimeout(()=>h(!1),3e3)},onError:()=>{v(!0),setTimeout(()=>v(!1),3e3),URL.revokeObjectURL(m),w(null)}})}},H=t=>{switch(t){case 1:return e.jsxs("div",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("span",{children:"Scheduled"})]});case 2:return e.jsxs("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Completed"})]});case 3:return e.jsxs("div",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),e.jsx("span",{children:"Cancelled"})]});case 4:return e.jsxs("div",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),e.jsx("span",{children:"Declined"})]});case 5:return e.jsxs("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Confirmed"})]});default:return e.jsxs("div",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:"Pending"})]})}};return e.jsx(ee,{className:"p-5",children:e.jsx("div",{className:"container m-5 mx-auto py-12 px-4 min-h-screen",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"w-full md:w-1/4",children:e.jsxs(k,{className:"bg-white sticky top-4",children:[e.jsx(C,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs(Q,{className:"h-24 w-24 mb-4 border-4 border-primary/10",children:[e.jsx(X,{src:E||(s.avatar?`/storage/avatars/${s.avatar}`:a.avatar),alt:`${s.firstname} ${s.lastname}`}),e.jsxs(Z,{className:"bg-primary/10 text-primary text-xl font-bold",children:[s.firstname?.charAt(0),s.lastname?.charAt(0)]})]}),e.jsx("button",{onClick:O,className:"absolute bottom-4 right-0 bg-primary text-white rounded-full p-1.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",title:"Upload avatar",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),e.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:M})]}),e.jsxs(L,{className:"text-xl",children:[s.firstname," ",s.lastname]}),e.jsx(S,{className:"text-center",children:s.email})]})}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(n,{variant:x==="personal"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:()=>j("personal"),children:[e.jsx(se,{className:"mr-2 h-5 w-5"}),"Personal Information"]}),e.jsxs(n,{variant:x==="appointments"?"secondary":"ghost",className:"w-full justify-start",size:"lg",onClick:()=>j("appointments"),children:[e.jsx(te,{className:"mr-2 h-5 w-5"}),"Appointment History"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",size:"lg",children:[e.jsx(re,{className:"mr-2 h-5 w-5"}),"Account Settings"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",size:"lg",children:[e.jsx(ie,{className:"mr-2 h-5 w-5"}),"Notifications"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",size:"lg",children:[e.jsx(ne,{className:"mr-2 h-5 w-5"}),"Privacy & Security"]})]})}),e.jsx(Y,{children:e.jsxs(n,{variant:"outline",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50",children:[e.jsx(ae,{className:"mr-2 h-5 w-5"}),"Sign Out"]})})]})}),e.jsx("div",{className:"w-full md:w-3/4",children:e.jsxs(k,{className:"bg-white",children:[e.jsxs(C,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Profile Settings"}),e.jsx(S,{children:"Manage your personal information and account settings"})]}),x!=="appointments"&&e.jsx(n,{variant:r?"outline":"default",onClick:()=>u(!r),children:r?"Cancel":"Edit Profile"})]}),q&&e.jsxs("div",{className:"mt-2 p-2 bg-green-50 text-green-700 rounded-md flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"Profile updated successfully!"]}),U&&e.jsxs("div",{className:"mt-2 p-2 bg-red-50 text-red-700 rounded-md flex items-center",children:[e.jsx(oe,{className:"h-5 w-5 mr-2"}),"Failed to update profile. Please try again."]})]}),e.jsx(A,{children:e.jsxs(G,{value:x,onValueChange:j,children:[e.jsx("div",{className:"row"}),e.jsxs(J,{className:"mb-4 grid grid-cols-3 gap-1",children:[e.jsx(F,{value:"personal",className:"text-xs sm:text-sm ",children:"Personal Information"}),e.jsx(F,{value:"appointments",className:"text-xs sm:text-sm ",children:"Appointment History"})]}),Object.keys(g).length>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("ul",{className:"text-sm text-red-600",children:Object.entries(g).map(([t,c])=>e.jsx("li",{children:c},t))})})]})}),e.jsx(B,{value:"personal",className:"space-y-4",children:e.jsxs("form",{onSubmit:z,children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"First Name"}),e.jsx(o,{id:"firstname",value:a.firstname,onChange:i,disabled:!r,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"middlename",children:"Middle Name"}),e.jsx(o,{id:"middlename",value:a.middlename,onChange:i,disabled:!r,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastname",children:"Last Name"}),e.jsx(o,{id:"lastname",value:a.lastname,onChange:i,disabled:!r,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 mt-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"suffix",children:"Suffix"}),e.jsx(o,{id:"suffix",type:"text",value:a.suffix,onChange:i,disabled:!r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bloodtype",children:"Blood Type"}),e.jsx(o,{id:"bloodtype",type:"text",value:a.bloodtype,onChange:i,disabled:!r})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",value:a.email,onChange:i,disabled:!r,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone Number"}),e.jsx(o,{id:"phone",value:a.phone,onChange:i,disabled:!r,required:!0})]}),e.jsxs("div",{className:" space-y-2",children:[e.jsx(l,{htmlFor:"birthdate",children:"Date of Birth"}),e.jsx(o,{id:"birthdate",type:"date",value:a.birthdate,onChange:i,disabled:!r,required:!0})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.jsxs("div",{className:" space-y-2",children:[e.jsx(l,{htmlFor:"birthdate",children:"Gender"}),e.jsx(o,{id:"gender",type:"text",value:a.gender,disabled:!r,onChange:i,required:!0})]})})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(l,{htmlFor:"address",children:"Address"}),e.jsx(K,{id:"address",value:a.address,onChange:i,disabled:!r})]}),r&&e.jsx(n,{type:"submit",className:"mt-4",disabled:b,children:b?"Saving...":"Save Changes"})]})}),e.jsx(B,{value:"appointments",className:"space-y-4",children:N.length>0?e.jsxs("div",{className:"rounded-md border",children:[e.jsxs("div",{className:"p-4 bg-muted/50 flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium",children:"Recent Appointments"}),e.jsxs(n,{size:"sm",variant:"outline",className:"px-3 py-1 text-sm shadow-sm flex items-center justify-center",onClick:()=>window.location.href="/patient/appointments/history",children:[e.jsx("span",{children:"View All"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"ml-1",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]}),e.jsx("div",{className:"divide-y",children:N.map(t=>e.jsxs("div",{className:"p-4 hover:bg-muted/20 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center",children:[t.purpose,e.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["#",t.id]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.doctor})]}),H(t.status_code)]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsxs("span",{children:[t.date," ","at"," ",t.time]})]})]},t.id))})]}):e.jsxs("div",{className:"text-center p-8 border rounded-md bg-muted/10",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4 text-muted-foreground",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("h3",{className:"font-medium mb-1",children:"No Appointments Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"You haven't scheduled any appointments yet."}),e.jsx(n,{onClick:()=>window.location.href="/appointments",className:"px-4 py-1 text-sm shadow-md flex items-center justify-center",children:e.jsx("span",{children:"Schedule an Appointment"})})]})})]})})]})})]})})})};export{ms as default};
