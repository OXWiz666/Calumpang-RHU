import{r as a,j as e,P as A,b as H}from"./app-CGHi43Ye.js";import{D as L,b as M,c as V,d as O,f as z}from"./dialog-DF98DBeC.js";import{u as U,c as D,B as E}from"./button-DuNm46Ou.js";import{I as S}from"./input-3LpwnyzO.js";import{L as b}from"./label-D4vAA5gq.js";import"./textarea-CBC1jwoM.js";import{S as Q,a as W,b as X,c as $,d as G}from"./select-mzX0YAKe.js";import{a as J,c as K}from"./index-DLjvr9xR.js";import{c as Y}from"./index-B2WG90g3.js";import{u as Z}from"./index-CCG5UxZT.js";import{a as ee}from"./Combination-BN35-FFx.js";import{P as I}from"./index-DhGX7E2K.js";import{P as te}from"./PrintErrors-ZE2hz2qS.js";import"./react-icons.esm-C_bt_X5N.js";import"./index-Cxgfhl2e.js";import"./index-BcrRIvmZ.js";var k="Switch",[ae,we]=Y(k),[se,re]=ae(k),R=a.forwardRef((t,r)=>{const{__scopeSwitch:s,name:i,checked:c,defaultChecked:f,required:m,disabled:l,value:u="on",onCheckedChange:g,form:v,...x}=t,[p,C]=a.useState(null),P=U(r,h=>C(h)),y=a.useRef(!1),o=p?v||!!p.closest("form"):!0,[d=!1,N]=J({prop:c,defaultProp:f,onChange:g});return e.jsxs(se,{scope:s,checked:d,disabled:l,children:[e.jsx(I.button,{type:"button",role:"switch","aria-checked":d,"aria-required":m,"data-state":F(d),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:P,onClick:K(t.onClick,h=>{N(w=>!w),o&&(y.current=h.isPropagationStopped(),y.current||h.stopPropagation())})}),o&&e.jsx(ne,{control:p,bubbles:!y.current,name:i,value:u,checked:d,required:m,disabled:l,form:v,style:{transform:"translateX(-100%)"}})]})});R.displayName=k;var T="SwitchThumb",_=a.forwardRef((t,r)=>{const{__scopeSwitch:s,...i}=t,c=re(T,s);return e.jsx(I.span,{"data-state":F(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:r})});_.displayName=T;var ne=t=>{const{control:r,checked:s,bubbles:i=!0,...c}=t,f=a.useRef(null),m=Z(s),l=ee(r);return a.useEffect(()=>{const u=f.current,g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(m!==s&&x){const p=new Event("click",{bubbles:i});x.call(u,s),u.dispatchEvent(p)}},[m,s,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...c,tabIndex:-1,ref:f,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F(t){return t?"checked":"unchecked"}var q=R,ie=_;const oe=a.forwardRef(({className:t,...r},s)=>e.jsx(q,{className:D("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:e.jsx(ie,{className:D("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));oe.displayName=q.displayName;const ke=({open:t,onClose:r,onSave:s,categories_:i})=>{const[c,f]=a.useState(!1),[m,l]=a.useState(""),[u,g]=a.useState(""),[v,x]=a.useState(""),[p,C]=a.useState(""),[P,y]=a.useState(""),{data:o,setData:d,post:N,processing:h,errors:w}=A({itemname:"",categoryid:"",unit_type:"",quantity:0,expirydate:new Date}),j=n=>{d(n.target.name,n.target.value)},B=n=>{n.preventDefault(),N(route("admin.inventory.item.add"),{onSuccess:()=>{r()},onFinish:()=>{H.reload({only:["inventory"]})}})};return e.jsx(L,{open:t,onOpenChange:r,children:e.jsxs(M,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[e.jsx(V,{children:e.jsx(O,{className:"text-xl font-semibold",children:"Add New Inventory Item"})}),e.jsxs("form",{onSubmit:B,className:"space-y-4 pt-4",children:[e.jsx(te,{errors:w}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",className:"font-medium",children:"Item Name *"}),e.jsx(S,{name:"itemname",value:o.itemname,onChange:j,placeholder:"Enter item name",className:"focus-visible:ring-primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"font-medium",children:"Category *"}),e.jsxs(Q,{value:String(o.categoryid),onValueChange:n=>d("categoryid",n),children:[e.jsx(W,{className:"focus-visible:ring-primary",children:e.jsx(X,{placeholder:"Select category"})}),e.jsx($,{children:i.map(n=>e.jsx(G,{value:String(n.id),children:n.name},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"unit",className:"font-medium",children:"Unit Type *"}),e.jsx(S,{name:"unit_type",value:o.unit_type,onChange:j,placeholder:"e.g., box, vial, piece",className:"focus-visible:ring-primary"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"quantity",className:"font-medium",children:"Initial Quantity *"}),e.jsx(S,{name:"quantity",type:"number",min:"0",value:o.quantity,onChange:j,className:"focus-visible:ring-primary"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"expirationDate",className:"font-medium",children:"Expiration Date"}),e.jsx(S,{id:"expirationDate",type:"date",name:"expirydate",value:o.expirydate,onChange:j,className:"focus-visible:ring-primary"})]}),e.jsxs(z,{className:"pt-4",children:[e.jsx(E,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(E,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:h,children:"Add Item"})]})]})]})})};export{ke as default};
