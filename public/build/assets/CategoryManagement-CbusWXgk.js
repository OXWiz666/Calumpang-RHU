import{r as x,u as B,j as e}from"./app-CHmAHYu-.js";import{D as O,a as Z,b as R,c as V,d as q}from"./dialog-HjaLH6lU.js";import{B as r}from"./button-ChwiRyPe.js";import{B as k}from"./badge-Cnce-efU.js";import{D as S,a as D,b as E,e as h}from"./dropdown-menu-8M9OQ-IT.js";import{C as P,c as A}from"./card-DBbiPc8t.js";import{T as K}from"./tag-w2mnolr8.js";import{m as I}from"./proxy-u0CWR7BN.js";import{c as L}from"./createLucideIcon-DiRkYF3I.js";import{S as M}from"./square-pen-CxDkRLRQ.js";import{a as G,A as J}from"./archive-DRWQyqdT.js";import{P as U}from"./package-2mJDRxNG.js";import{P as Q}from"./pill-D9dQZu5T.js";import{S as W}from"./syringe-BupmrxCr.js";import{S as X}from"./stethoscope-CvenzO2s.js";import{F as Y}from"./flask-conical-BsNHZxLt.js";import{H as ee}from"./heart-Br0eR3Sa.js";import{S as se}from"./shield-BOpraV2u.js";import{Z as ae}from"./zap-B08bLHwL.js";import{A as te}from"./activity-BVgK8zXY.js";import{U as ne}from"./users-CIf0kQAe.js";import{H as re}from"./house-1B4ceBAE.js";import{S as ie}from"./star-rGySCMq0.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],H=L("EllipsisVertical",oe),ce=({open:F,onClose:t,categories:y=[]})=>{const[i,p]=x.useState(null),[v,o]=x.useState(""),[n,c]=x.useState("Package"),[le,g]=x.useState(""),{put:u,processing:j,setData:l}=B({name:"",icon:"Package"}),m=[{name:"Package",component:U,color:"text-gray-600"},{name:"Pill",component:Q,color:"text-blue-600"},{name:"Syringe",component:W,color:"text-green-600"},{name:"Stethoscope",component:X,color:"text-purple-600"},{name:"FlaskConical",component:Y,color:"text-orange-600"},{name:"Heart",component:ee,color:"text-red-600"},{name:"Shield",component:se,color:"text-indigo-600"},{name:"Zap",component:ae,color:"text-yellow-600"},{name:"Activity",component:te,color:"text-cyan-600"},{name:"Users",component:ne,color:"text-pink-600"},{name:"Home",component:re,color:"text-emerald-600"},{name:"Star",component:ie,color:"text-amber-600"}],_=s=>{u(route("pharmacist.inventory.category.archive",s),{onSuccess:()=>{t()}})},T=s=>{u(route("pharmacist.inventory.category.unarchive",s),{onSuccess:()=>{t()}})},N=s=>{p(s),o(s.name),c(s.icon||"Package"),g(s.description||""),l({name:s.name,icon:s.icon||"Package"})},b=()=>{const s=v.trim();s===i.name&&n===(i.icon||"Package")||(l({name:s,icon:n}),u(route("pharmacist.inventory.category.update",i.id),{onSuccess:()=>{p(null),o(""),c("Package"),g(""),t()},onError:a=>{console.error("Update error:",a)}}))},C=s=>{const a=s?.icon||"Package",d=m.find(z=>z.name===a)||m[0],$=d.component;return e.jsx($,{className:`h-4 w-4 ${d.color}`})},w=y.filter(s=>s.status===1),f=y.filter(s=>s.status===0);return e.jsx(O,{open:F,onOpenChange:t,children:e.jsxs(Z,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[e.jsx(R,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(K,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(V,{className:"text-xl font-semibold",children:"Category Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your inventory categories. Archive categories to hide them from new items, or permanently delete them."})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Active Categories (",w.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(s=>e.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx(P,{className:"hover:shadow-md transition-all duration-300",children:e.jsx(A,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:C(s)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),e.jsx(k,{className:"bg-green-100 text-green-800 text-xs",children:"Active"})]})]}),e.jsxs(S,{children:[e.jsx(D,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsxs(E,{align:"end",children:[e.jsxs(h,{onClick:()=>N(s),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(h,{onClick:()=>_(s.id),className:"text-amber-600",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})]})})})},s.id))})]}),f.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),"Archived Categories (",f.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(s=>e.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx(P,{className:"hover:shadow-md transition-all duration-300 opacity-75",children:e.jsx(A,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:C(s)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-600",children:s.name}),e.jsx(k,{className:"bg-gray-100 text-gray-600 text-xs",children:"Archived"})]})]}),e.jsxs(S,{children:[e.jsx(D,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsxs(E,{align:"end",children:[e.jsxs(h,{onClick:()=>N(s),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(h,{onClick:()=>T(s.id),className:"text-green-600",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Unarchive"]})]})]})]})})})},s.id))})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 w-[400px] max-h-[80vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Edit Category"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),e.jsx("input",{type:"text",value:v,onChange:s=>{o(s.target.value),l("name",s.target.value)},onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),b())},className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"Category name",autoFocus:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Icon"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded border border-gray-300 bg-gray-50",children:(()=>{const s=m.find(d=>d.name===n),a=s?.component||U;return e.jsx(a,{className:`h-4 w-4 ${s?.color||"text-gray-600"}`})})()}),e.jsx("span",{className:"text-xs text-gray-600",children:n})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Choose an icon:"}),e.jsx("div",{className:"grid grid-cols-6 gap-1",children:m.map(s=>{const a=s.component;return e.jsx("button",{type:"button",onClick:()=>{c(s.name),l("icon",s.name)},className:`flex items-center justify-center w-8 h-8 rounded border-2 transition-all hover:scale-105 ${n===s.name?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,title:s.name,children:e.jsx(a,{className:`h-4 w-4 ${s.color}`})},s.name)})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{onClick:b,disabled:j,className:"flex-1 text-sm py-2",style:{backgroundColor:"#2C3E50"},children:j?"Updating...":"Update Category"}),e.jsx(r,{variant:"outline",onClick:()=>{p(null),o(""),c("Package"),g("")},disabled:j,className:"flex-1 text-sm py-2",children:"Cancel"})]})]})})]}),e.jsx(q,{className:"flex gap-3 pt-6",children:e.jsx(r,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Close"})})]})})},Ue=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{ce as C,H as E,Ue as a};
