import{j as e,r as se,a as re,L}from"./app-Dq_Q3Qwg.js";import{r as a}from"./vendor-DkBadjUr.js";import{B as P}from"./button-C5uFo_s4.js";import{B as ye}from"./badge-KwLpf8X3.js";import{h as be}from"./moment-C5S46NFB.js";import{N as ve,P as je}from"./pusher-D48kA6HE.js";import{B as ne}from"./bell-HhCf5F9O.js";import{A as Ne}from"./index-lHzy3PXw.js";import{m as we}from"./proxy-CrAtMFvn.js";import{P as ke,t as Ce}from"./PhilippinesAddressLookup-gPBEgM_J.js";import{S as Se}from"./separator-DEX7VqKX.js";import{c as oe}from"./createLucideIcon-BKWaAi2G.js";import{M as Me}from"./map-pin-Dkn0BYKY.js";import{P as Le}from"./phone-BScbSfjU.js";import{M as Pe}from"./mail-BoTx8fKY.js";import{C as Ae}from"./chevron-up-BdDu7vFg.js";import{s as Be}from"./toast-CjWtluwb.js";import{T as ze}from"./Toaster-BesWtvcS.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Ee=oe("Facebook",Te);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Re=oe("Instagram",Ie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],He=oe("Twitter",We),Fe=({className:N="",datas:u})=>{const[y,o]=a.useState(!1),[c,m]=a.useState(!1),[r,g]=a.useState(null),[l,k]=a.useState(!1),[f,p]=a.useState(u.all_notifications??u.notifications);let C=f.filter(i=>!i.read_at).length;a.useEffect(()=>{p(u.all_notifications??u.notifications),C=f.filter(i=>!i.read_at).length},[u]);const j=()=>{if(o(!y),!y){const i=f.map(b=>({...b,read:!0}));p(i)}},I=i=>{g(i),k(!0),o(!1)},A=i=>{switch(i){case"appointment_resched":return"text-blue-500 bg-blue-100";default:return"text-gray-500 bg-gray-100"}};return e.jsxs("div",{className:`relative ${N}`,children:[e.jsxs(P,{variant:"ghost",size:"icon",className:"relative",onClick:j,"aria-label":"Notifications",children:[e.jsx(ne,{className:"h-5 w-5"}),C>0&&e.jsx(ye,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0",children:C})]}),e.jsx(Ne,{children:y&&e.jsxs(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notifications"})}),e.jsx("form",{onSubmit:i=>{i.preventDefault(),se.post(route("notifications.markAllRead"),{},{preserveScroll:!0})},children:e.jsx(P,{type:"submit",variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",children:"Mark all as read"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-gray-200",children:(c?f:f.slice(0,3)).map(i=>e.jsx("div",{className:`p-3 hover:bg-accent/50 transition-colors cursor-pointer ${i.read_at?"":"bg-accent/20"}`,onClick:()=>I(i),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${A(i.data.type)}`,children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-medium",children:i.data.title}),e.jsx("span",{className:"text-xs text-muted-foreground",children:be(i.created_at).fromNow()}),e.jsx("div",{className:" text-sm",children:i.read_at?e.jsx("div",{children:"Read"}):e.jsx("div",{children:"Unread"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.data.message})]})]})},i.id))})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-accent/10",children:e.jsx(P,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground",onClick:()=>m(i=>!i),children:c?"Show less":"View all notifications"})})]})}),e.jsx(ve,{isOpen:l,onClose:()=>{k(!1),g(null)},notification:r})]})},Ve=({isOpen:N,onClose:u,onBackToSelection:y,showBackButton:o=!1})=>{const[c,m]=a.useState(1),[r,g]=a.useState({firstname:"",middlename:"",lastname:"",suffix:"",sex:"",birthdate:"",age:0,civilStatus:"",nationality:"FILIPINO",religion:"",country:"Philippines",region:"",province:"",city:"",barangay:"",street:"",zipCode:"",mobileNo:"",emailAddress:"",region_id:null,province_id:null,city_id:null,barangay_id:null,mobileCountryCode:"+63"}),[l,k]=a.useState(""),[f,p]=a.useState(!1),[C,j]=a.useState(""),[I,A]=a.useState(""),[i,b]=a.useState(null),[d,T]=a.useState(null),[S,R]=a.useState({}),[W,E]=a.useState(""),[_,U]=a.useState(!1),[B,G]=a.useState(null),[Q,H]=a.useState(null),[F,$]=a.useState(!1);a.useEffect(()=>()=>{B&&B.getTracks().forEach(t=>t.stop())},[B]);const K=[{code:"+63",country:"Philippines",flag:"ðŸ‡µðŸ‡­"},{code:"+1",country:"United States",flag:"ðŸ‡ºðŸ‡¸"},{code:"+44",country:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§"},{code:"+86",country:"China",flag:"ðŸ‡¨ðŸ‡³"},{code:"+81",country:"Japan",flag:"ðŸ‡¯ðŸ‡µ"},{code:"+82",country:"South Korea",flag:"ðŸ‡°ðŸ‡·"},{code:"+65",country:"Singapore",flag:"ðŸ‡¸ðŸ‡¬"},{code:"+60",country:"Malaysia",flag:"ðŸ‡²ðŸ‡¾"},{code:"+66",country:"Thailand",flag:"ðŸ‡¹ðŸ‡­"},{code:"+84",country:"Vietnam",flag:"ðŸ‡»ðŸ‡³"},{code:"+62",country:"Indonesia",flag:"ðŸ‡®ðŸ‡©"},{code:"+61",country:"Australia",flag:"ðŸ‡¦ðŸ‡º"},{code:"+49",country:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{code:"+33",country:"France",flag:"ðŸ‡«ðŸ‡·"},{code:"+39",country:"Italy",flag:"ðŸ‡®ðŸ‡¹"},{code:"+34",country:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{code:"+7",country:"Russia",flag:"ðŸ‡·ðŸ‡º"},{code:"+91",country:"India",flag:"ðŸ‡®ðŸ‡³"},{code:"+55",country:"Brazil",flag:"ðŸ‡§ðŸ‡·"},{code:"+52",country:"Mexico",flag:"ðŸ‡²ðŸ‡½"},{code:"+1",country:"Canada",flag:"ðŸ‡¨ðŸ‡¦"},{code:"+971",country:"UAE",flag:"ðŸ‡¦ðŸ‡ª"},{code:"+966",country:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{code:"+974",country:"Qatar",flag:"ðŸ‡¶ðŸ‡¦"},{code:"+965",country:"Kuwait",flag:"ðŸ‡°ðŸ‡¼"},{code:"+973",country:"Bahrain",flag:"ðŸ‡§ðŸ‡­"},{code:"+968",country:"Oman",flag:"ðŸ‡´ðŸ‡²"},{code:"+20",country:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{code:"+27",country:"South Africa",flag:"ðŸ‡¿ðŸ‡¦"},{code:"+234",country:"Nigeria",flag:"ðŸ‡³ðŸ‡¬"},{code:"+254",country:"Kenya",flag:"ðŸ‡°ðŸ‡ª"},{code:"+233",country:"Ghana",flag:"ðŸ‡¬ðŸ‡­"},{code:"+212",country:"Morocco",flag:"ðŸ‡²ðŸ‡¦"},{code:"+213",country:"Algeria",flag:"ðŸ‡©ðŸ‡¿"},{code:"+216",country:"Tunisia",flag:"ðŸ‡¹ðŸ‡³"},{code:"+218",country:"Libya",flag:"ðŸ‡±ðŸ‡¾"},{code:"+220",country:"Gambia",flag:"ðŸ‡¬ðŸ‡²"},{code:"+221",country:"Senegal",flag:"ðŸ‡¸ðŸ‡³"},{code:"+222",country:"Mauritania",flag:"ðŸ‡²ðŸ‡·"},{code:"+223",country:"Mali",flag:"ðŸ‡²ðŸ‡±"},{code:"+224",country:"Guinea",flag:"ðŸ‡¬ðŸ‡³"},{code:"+225",country:"Ivory Coast",flag:"ðŸ‡¨ðŸ‡®"},{code:"+226",country:"Burkina Faso",flag:"ðŸ‡§ðŸ‡«"},{code:"+227",country:"Niger",flag:"ðŸ‡³ðŸ‡ª"},{code:"+228",country:"Togo",flag:"ðŸ‡¹ðŸ‡¬"},{code:"+229",country:"Benin",flag:"ðŸ‡§ðŸ‡¯"},{code:"+230",country:"Mauritius",flag:"ðŸ‡²ðŸ‡º"},{code:"+231",country:"Liberia",flag:"ðŸ‡±ðŸ‡·"},{code:"+232",country:"Sierra Leone",flag:"ðŸ‡¸ðŸ‡±"},{code:"+235",country:"Chad",flag:"ðŸ‡¹ðŸ‡©"},{code:"+236",country:"Central African Republic",flag:"ðŸ‡¨ðŸ‡«"},{code:"+237",country:"Cameroon",flag:"ðŸ‡¨ðŸ‡²"},{code:"+238",country:"Cape Verde",flag:"ðŸ‡¨ðŸ‡»"},{code:"+239",country:"SÃ£o TomÃ© and PrÃ­ncipe",flag:"ðŸ‡¸ðŸ‡¹"},{code:"+240",country:"Equatorial Guinea",flag:"ðŸ‡¬ðŸ‡¶"},{code:"+241",country:"Gabon",flag:"ðŸ‡¬ðŸ‡¦"},{code:"+242",country:"Republic of the Congo",flag:"ðŸ‡¨ðŸ‡¬"},{code:"+243",country:"Democratic Republic of the Congo",flag:"ðŸ‡¨ðŸ‡©"},{code:"+244",country:"Angola",flag:"ðŸ‡¦ðŸ‡´"},{code:"+245",country:"Guinea-Bissau",flag:"ðŸ‡¬ðŸ‡¼"},{code:"+246",country:"British Indian Ocean Territory",flag:"ðŸ‡®ðŸ‡´"},{code:"+248",country:"Seychelles",flag:"ðŸ‡¸ðŸ‡¨"},{code:"+249",country:"Sudan",flag:"ðŸ‡¸ðŸ‡©"},{code:"+250",country:"Rwanda",flag:"ðŸ‡·ðŸ‡¼"},{code:"+251",country:"Ethiopia",flag:"ðŸ‡ªðŸ‡¹"},{code:"+252",country:"Somalia",flag:"ðŸ‡¸ðŸ‡´"},{code:"+253",country:"Djibouti",flag:"ðŸ‡©ðŸ‡¯"},{code:"+255",country:"Tanzania",flag:"ðŸ‡¹ðŸ‡¿"},{code:"+256",country:"Uganda",flag:"ðŸ‡ºðŸ‡¬"},{code:"+257",country:"Burundi",flag:"ðŸ‡§ðŸ‡®"},{code:"+258",country:"Mozambique",flag:"ðŸ‡²ðŸ‡¿"},{code:"+260",country:"Zambia",flag:"ðŸ‡¿ðŸ‡²"},{code:"+261",country:"Madagascar",flag:"ðŸ‡²ðŸ‡¬"},{code:"+262",country:"RÃ©union",flag:"ðŸ‡·ðŸ‡ª"},{code:"+263",country:"Zimbabwe",flag:"ðŸ‡¿ðŸ‡¼"},{code:"+264",country:"Namibia",flag:"ðŸ‡³ðŸ‡¦"},{code:"+265",country:"Malawi",flag:"ðŸ‡²ðŸ‡¼"},{code:"+266",country:"Lesotho",flag:"ðŸ‡±ðŸ‡¸"},{code:"+267",country:"Botswana",flag:"ðŸ‡§ðŸ‡¼"},{code:"+268",country:"Swaziland",flag:"ðŸ‡¸ðŸ‡¿"},{code:"+269",country:"Comoros",flag:"ðŸ‡°ðŸ‡²"},{code:"+290",country:"Saint Helena",flag:"ðŸ‡¸ðŸ‡­"},{code:"+291",country:"Eritrea",flag:"ðŸ‡ªðŸ‡·"},{code:"+297",country:"Aruba",flag:"ðŸ‡¦ðŸ‡¼"},{code:"+298",country:"Faroe Islands",flag:"ðŸ‡«ðŸ‡´"},{code:"+299",country:"Greenland",flag:"ðŸ‡¬ðŸ‡±"},{code:"+350",country:"Gibraltar",flag:"ðŸ‡¬ðŸ‡®"},{code:"+351",country:"Portugal",flag:"ðŸ‡µðŸ‡¹"},{code:"+352",country:"Luxembourg",flag:"ðŸ‡±ðŸ‡º"},{code:"+353",country:"Ireland",flag:"ðŸ‡®ðŸ‡ª"},{code:"+354",country:"Iceland",flag:"ðŸ‡®ðŸ‡¸"},{code:"+355",country:"Albania",flag:"ðŸ‡¦ðŸ‡±"},{code:"+356",country:"Malta",flag:"ðŸ‡²ðŸ‡¹"},{code:"+357",country:"Cyprus",flag:"ðŸ‡¨ðŸ‡¾"},{code:"+358",country:"Finland",flag:"ðŸ‡«ðŸ‡®"},{code:"+359",country:"Bulgaria",flag:"ðŸ‡§ðŸ‡¬"},{code:"+370",country:"Lithuania",flag:"ðŸ‡±ðŸ‡¹"},{code:"+371",country:"Latvia",flag:"ðŸ‡±ðŸ‡»"},{code:"+372",country:"Estonia",flag:"ðŸ‡ªðŸ‡ª"},{code:"+373",country:"Moldova",flag:"ðŸ‡²ðŸ‡©"},{code:"+374",country:"Armenia",flag:"ðŸ‡¦ðŸ‡²"},{code:"+375",country:"Belarus",flag:"ðŸ‡§ðŸ‡¾"},{code:"+376",country:"Andorra",flag:"ðŸ‡¦ðŸ‡©"},{code:"+377",country:"Monaco",flag:"ðŸ‡²ðŸ‡¨"},{code:"+378",country:"San Marino",flag:"ðŸ‡¸ðŸ‡²"},{code:"+380",country:"Ukraine",flag:"ðŸ‡ºðŸ‡¦"},{code:"+381",country:"Serbia",flag:"ðŸ‡·ðŸ‡¸"},{code:"+382",country:"Montenegro",flag:"ðŸ‡²ðŸ‡ª"},{code:"+383",country:"Kosovo",flag:"ðŸ‡½ðŸ‡°"},{code:"+385",country:"Croatia",flag:"ðŸ‡­ðŸ‡·"},{code:"+386",country:"Slovenia",flag:"ðŸ‡¸ðŸ‡®"},{code:"+387",country:"Bosnia and Herzegovina",flag:"ðŸ‡§ðŸ‡¦"},{code:"+389",country:"North Macedonia",flag:"ðŸ‡²ðŸ‡°"},{code:"+420",country:"Czech Republic",flag:"ðŸ‡¨ðŸ‡¿"},{code:"+421",country:"Slovakia",flag:"ðŸ‡¸ðŸ‡°"},{code:"+423",country:"Liechtenstein",flag:"ðŸ‡±ðŸ‡®"},{code:"+500",country:"Falkland Islands",flag:"ðŸ‡«ðŸ‡°"},{code:"+501",country:"Belize",flag:"ðŸ‡§ðŸ‡¿"},{code:"+502",country:"Guatemala",flag:"ðŸ‡¬ðŸ‡¹"},{code:"+503",country:"El Salvador",flag:"ðŸ‡¸ðŸ‡»"},{code:"+504",country:"Honduras",flag:"ðŸ‡­ðŸ‡³"},{code:"+505",country:"Nicaragua",flag:"ðŸ‡³ðŸ‡®"},{code:"+506",country:"Costa Rica",flag:"ðŸ‡¨ðŸ‡·"},{code:"+507",country:"Panama",flag:"ðŸ‡µðŸ‡¦"},{code:"+508",country:"Saint Pierre and Miquelon",flag:"ðŸ‡µðŸ‡²"},{code:"+509",country:"Haiti",flag:"ðŸ‡­ðŸ‡¹"},{code:"+590",country:"Guadeloupe",flag:"ðŸ‡¬ðŸ‡µ"},{code:"+591",country:"Bolivia",flag:"ðŸ‡§ðŸ‡´"},{code:"+592",country:"Guyana",flag:"ðŸ‡¬ðŸ‡¾"},{code:"+593",country:"Ecuador",flag:"ðŸ‡ªðŸ‡¨"},{code:"+594",country:"French Guiana",flag:"ðŸ‡¬ðŸ‡«"},{code:"+595",country:"Paraguay",flag:"ðŸ‡µðŸ‡¾"},{code:"+596",country:"Martinique",flag:"ðŸ‡²ðŸ‡¶"},{code:"+597",country:"Suriname",flag:"ðŸ‡¸ðŸ‡·"},{code:"+598",country:"Uruguay",flag:"ðŸ‡ºðŸ‡¾"},{code:"+599",country:"Netherlands Antilles",flag:"ðŸ‡§ðŸ‡¶"},{code:"+670",country:"East Timor",flag:"ðŸ‡¹ðŸ‡±"},{code:"+672",country:"Antarctica",flag:"ðŸ‡¦ðŸ‡¶"},{code:"+673",country:"Brunei",flag:"ðŸ‡§ðŸ‡³"},{code:"+674",country:"Nauru",flag:"ðŸ‡³ðŸ‡·"},{code:"+675",country:"Papua New Guinea",flag:"ðŸ‡µðŸ‡¬"},{code:"+676",country:"Tonga",flag:"ðŸ‡¹ðŸ‡´"},{code:"+677",country:"Solomon Islands",flag:"ðŸ‡¸ðŸ‡§"},{code:"+678",country:"Vanuatu",flag:"ðŸ‡»ðŸ‡º"},{code:"+679",country:"Fiji",flag:"ðŸ‡«ðŸ‡¯"},{code:"+680",country:"Palau",flag:"ðŸ‡µðŸ‡¼"},{code:"+681",country:"Wallis and Futuna",flag:"ðŸ‡¼ðŸ‡«"},{code:"+682",country:"Cook Islands",flag:"ðŸ‡¨ðŸ‡°"},{code:"+683",country:"Niue",flag:"ðŸ‡³ðŸ‡º"},{code:"+684",country:"American Samoa",flag:"ðŸ‡¦ðŸ‡¸"},{code:"+685",country:"Samoa",flag:"ðŸ‡¼ðŸ‡¸"},{code:"+686",country:"Kiribati",flag:"ðŸ‡°ðŸ‡®"},{code:"+687",country:"New Caledonia",flag:"ðŸ‡³ðŸ‡¨"},{code:"+688",country:"Tuvalu",flag:"ðŸ‡¹ðŸ‡»"},{code:"+689",country:"French Polynesia",flag:"ðŸ‡µðŸ‡«"},{code:"+690",country:"Tokelau",flag:"ðŸ‡¹ðŸ‡°"},{code:"+691",country:"Micronesia",flag:"ðŸ‡«ðŸ‡²"},{code:"+692",country:"Marshall Islands",flag:"ðŸ‡²ðŸ‡­"},{code:"+850",country:"North Korea",flag:"ðŸ‡°ðŸ‡µ"},{code:"+852",country:"Hong Kong",flag:"ðŸ‡­ðŸ‡°"},{code:"+853",country:"Macau",flag:"ðŸ‡²ðŸ‡´"},{code:"+855",country:"Cambodia",flag:"ðŸ‡°ðŸ‡­"},{code:"+856",country:"Laos",flag:"ðŸ‡±ðŸ‡¦"},{code:"+880",country:"Bangladesh",flag:"ðŸ‡§ðŸ‡©"},{code:"+886",country:"Taiwan",flag:"ðŸ‡¹ðŸ‡¼"},{code:"+960",country:"Maldives",flag:"ðŸ‡²ðŸ‡»"},{code:"+961",country:"Lebanon",flag:"ðŸ‡±ðŸ‡§"},{code:"+962",country:"Jordan",flag:"ðŸ‡¯ðŸ‡´"},{code:"+963",country:"Syria",flag:"ðŸ‡¸ðŸ‡¾"},{code:"+964",country:"Iraq",flag:"ðŸ‡®ðŸ‡¶"},{code:"+967",country:"Yemen",flag:"ðŸ‡¾ðŸ‡ª"},{code:"+968",country:"Oman",flag:"ðŸ‡´ðŸ‡²"},{code:"+970",country:"Palestine",flag:"ðŸ‡µðŸ‡¸"},{code:"+972",country:"Israel",flag:"ðŸ‡®ðŸ‡±"},{code:"+973",country:"Bahrain",flag:"ðŸ‡§ðŸ‡­"},{code:"+974",country:"Qatar",flag:"ðŸ‡¶ðŸ‡¦"},{code:"+975",country:"Bhutan",flag:"ðŸ‡§ðŸ‡¹"},{code:"+976",country:"Mongolia",flag:"ðŸ‡²ðŸ‡³"},{code:"+977",country:"Nepal",flag:"ðŸ‡³ðŸ‡µ"},{code:"+992",country:"Tajikistan",flag:"ðŸ‡¹ðŸ‡¯"},{code:"+993",country:"Turkmenistan",flag:"ðŸ‡¹ðŸ‡²"},{code:"+994",country:"Azerbaijan",flag:"ðŸ‡¦ðŸ‡¿"},{code:"+995",country:"Georgia",flag:"ðŸ‡¬ðŸ‡ª"},{code:"+996",country:"Kyrgyzstan",flag:"ðŸ‡°ðŸ‡¬"},{code:"+998",country:"Uzbekistan",flag:"ðŸ‡ºðŸ‡¿"}],V=t=>{if(!t)return 0;const s=new Date,x=new Date(t);let v=s.getFullYear()-x.getFullYear();const z=s.getMonth()-x.getMonth();return(z<0||z===0&&s.getDate()<x.getDate())&&v--,v>=0?v:0},M=(t,s)=>{b({type:t,message:s}),setTimeout(()=>{b(null)},4e3)},Y=async t=>{try{return(await(await fetch("/api/check-email-exists",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({email:t})})).json()).exists||!1}catch(s){return console.error("Error checking email:",s),!1}},n=async t=>{try{return(await(await fetch("/api/check-phone-exists",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({phone:t})})).json()).exists||!1}catch(s){return console.error("Error checking phone:",s),!1}},h=(t,s)=>{switch(t){case"civilStatus":return!s||s==="SELECT"?"Please select your civil status":"";case"nationality":return s.trim()?"":"Nationality is required";case"religion":return!s||s==="SELECT"?"Please select your religion":"";case"country":return s.trim()?"":"Country is required";case"region":return!s||s==="Select Region"?"Please select your region":"";case"province":return s.trim()?"":"Province is required";case"city":return s.trim()?"":"City is required";case"barangay":return s.trim()?"":"Barangay is required";case"street":return s.trim()?"":"Street address is required";case"zipCode":return s.trim()?/^\d{4}$/.test(s.trim())?"":"Zip code must be 4 digits":"Zip code is required";case"mobileNo":if(!s.trim())return"Mobile number is required";const x=s.replace(/[\s-]/g,"");return/^9\d{9}$/.test(x)?"":"Please enter a valid 10-digit mobile number starting with 9";case"emailAddress":return s.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim())?"":"Please enter a valid email address":"Email address is required";case"mobileCountryCode":return s.trim()?"":"Country code is required";default:return""}},q=async()=>{const t={};let s=!1;if(["civilStatus","nationality","religion","country","region","province","city","barangay","street","zipCode","mobileNo","mobileCountryCode","emailAddress"].forEach(v=>{const z=h(v,String(r[v]));z&&(t[v]=z,s=!0)}),r.emailAddress&&!t.emailAddress&&await Y(r.emailAddress)&&(t.emailAddress="This email address is already taken. Please use a different email.",s=!0),r.mobileNo&&!t.mobileNo){const v=`${r.mobileCountryCode}${r.mobileNo}`;await n(v)&&(t.mobileNo="This phone number is already taken. Please use a different phone number.",s=!0)}return d?E(""):(E("Profile picture is required to complete verification"),s=!0),R(t),!s},w=(t,s)=>{g(x=>{const v={...x,[t]:s};return t==="birthdate"&&(v.age=V(s)),v}),S[t]&&R(x=>({...x,[t]:""}))},X=async(t,s)=>{if(t==="emailAddress"&&s&&!S.emailAddress&&await Y(s)&&R(v=>({...v,emailAddress:"This email address is already taken. Please use a different email."})),t==="mobileNo"&&s&&!S.mobileNo){const x=`${r.mobileCountryCode}${s}`;await n(x)&&R(z=>({...z,mobileNo:"This phone number is already taken. Please use a different phone number."}))}},le=async()=>{p(!0),j(""),setTimeout(()=>{r.firstname&&r.lastname&&r.birthdate&&r.sex?(m(2),A("Basic information collected successfully")):j("Please fill in all required fields (First Name, Last Name, Sex, and Birth Date)"),p(!1)},1500)},ce=async()=>{if(p(!0),j(""),!await q()){p(!1),d?M("error","Please correct the errors below before proceeding"):M("error","Profile picture is required to complete verification");return}setTimeout(()=>{A("Patient profile completed. Creating token session...");const s={firstname:r.firstname,middlename:r.middlename,lastname:r.lastname,suffix:r.suffix,sex:r.sex,birthdate:r.birthdate,age:r.age,email:r.emailAddress,phone:`${r.mobileCountryCode}${r.mobileNo}`,civilStatus:r.civilStatus,nationality:r.nationality,religion:r.religion,country:r.country,region:r.region,province:r.province,city:r.city,barangay:r.barangay,street:r.street,zipCode:r.zipCode,profileImage:d,region_id:r.region_id,province_id:r.province_id,city_id:r.city_id,barangay_id:r.barangay_id};Ce.createTokenSession(s),localStorage.setItem("patientVerificationData",JSON.stringify(s)),fetch("/set-verification-session",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(()=>{u(),window.location.href="/appointments"}),p(!1)},1500)},de=()=>{T(null),M("success","Profile picture refreshed successfully!")},ue=async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});G(t),U(!0),M("info","Camera opened. Position yourself in the frame and click capture.")}catch(t){console.error("Error accessing camera:",t),M("error","Unable to access camera. Please check permissions or use file upload instead.")}},Z=()=>{B&&(B.getTracks().forEach(t=>t.stop()),G(null)),U(!1),H(null)},me=()=>{if(!B)return;$(!0);const t=document.getElementById("camera-video"),s=document.createElement("canvas"),x=s.getContext("2d");if(t&&x){s.width=t.videoWidth,s.height=t.videoHeight,x.drawImage(t,0,0);const v=s.toDataURL("image/jpeg",.8);H(v),T(v),E(""),M("success","Photo captured successfully!"),Z()}$(!1)},he=()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.style.display="none",t.addEventListener("change",s=>{const x=s.target.files?.[0];if(x){if(!x.type.startsWith("image/")){M("error","Please select a valid image file.");return}if(x.size>5*1024*1024){M("error","File size must be less than 5MB.");return}(z=>new Promise(ge=>{const ee=document.createElement("canvas"),fe=ee.getContext("2d"),te=new Image;te.onload=()=>{let{width:D,height:O}=te;D>O?D>300&&(O=O*300/D,D=300):O>300&&(D=D*300/O,O=300),ee.width=D,ee.height=O,fe?.drawImage(te,0,0,D,O);const pe=ee.toDataURL("image/jpeg",.7);ge(pe)},te.src=URL.createObjectURL(z)}))(x).then(z=>{T(z),E("")}),M("success",`Photo uploaded successfully: ${x.name}`)}}),document.body.appendChild(t),t.click(),document.body.removeChild(t)},xe=()=>{m(1),g({firstname:"",middlename:"",lastname:"",suffix:"",sex:"",birthdate:"",age:0,civilStatus:"",nationality:"FILIPINO",religion:"",country:"Philippines",region:"",province:"",city:"",barangay:"",street:"",zipCode:"",mobileNo:"",emailAddress:"",region_id:null,province_id:null,city_id:null,barangay_id:null,mobileCountryCode:"+63"}),k(""),j(""),A(""),T(null),R({}),E(""),Z()},ae=()=>{xe(),u()},J=({field:t})=>{const s=S[t];return s?e.jsxs("div",{className:"mt-1 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:s})]}):null};return N?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:ae}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-2xl w-full mx-auto border border-gray-100 ${c===1?"max-w-2xl":"max-w-6xl"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[c===1&&"Patient Information",c===2&&"Patient Profile"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[c===1&&"Please provide your information to continue",c===2&&"Complete your patient profile to proceed to appointments"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[o&&c===1&&y&&e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 transition-all duration-200 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{children:"Back to Selection"})]}),e.jsx("button",{onClick:ae,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),i&&e.jsx("div",{className:"mx-8 mt-4 animate-in slide-in-from-top duration-300",children:e.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-sm border-l-4 ${i.type==="success"?"bg-green-50 border-green-400 text-green-800":i.type==="error"?"bg-red-50 border-red-400 text-red-800":"bg-blue-50 border-blue-400 text-blue-800"}`,children:[e.jsxs("div",{className:"flex-shrink-0",children:[i.type==="success"&&e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),i.type==="error"&&e.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),i.type==="info"&&e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:i.message})}),e.jsx("button",{onClick:()=>b(null),className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-8",children:[c===1&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 1 of 2"})]}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please provide your information to verify your identity and access appointment booking."})]}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),le()},className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",value:r.firstname,onChange:t=>w("firstname",t.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your first name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx("input",{type:"text",value:r.middlename,onChange:t=>w("middlename",t.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your middle name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",value:r.lastname,onChange:t=>w("lastname",t.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",placeholder:"Enter your last name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Suffix"}),e.jsxs("select",{value:r.suffix,onChange:t=>w("suffix",t.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",children:[e.jsx("option",{value:"",children:"Select Suffix"}),e.jsx("option",{value:"Jr.",children:"Jr."}),e.jsx("option",{value:"Sr.",children:"Sr."}),e.jsx("option",{value:"II",children:"II"}),e.jsx("option",{value:"III",children:"III"}),e.jsx("option",{value:"IV",children:"IV"}),e.jsx("option",{value:"V",children:"V"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex *"}),e.jsxs("select",{value:r.sex,onChange:t=>w("sex",t.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm",children:[e.jsx("option",{value:"",children:"Select Sex"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birth Date *"}),e.jsx("input",{type:"date",value:r.birthdate,onChange:t=>w("birthdate",t.target.value),required:!0,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),e.jsx("div",{className:"w-full px-2 py-1.5 border border-gray-300 rounded-md bg-gradient-to-r from-blue-50 to-indigo-50 text-gray-700 flex items-center text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-medium",children:r.age>0?`${r.age}`:"Select birth date"})]})})]})]}),C&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-red-700 text-sm font-medium",children:C})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:ae,className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-all duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 rounded-lg transition-all duration-200 flex items-center space-x-2",children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Verifying..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Verify Patient"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]})]})]}),c===2&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 2 of 2"})]}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Complete Patient Profile"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please provide additional information to complete your patient profile."})]}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),ce()},className:"space-y-8",children:[e.jsx("div",{className:`bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-8 border-2 ${W?"border-red-300 bg-red-50":"border-transparent"}`,children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-28 h-28 bg-white rounded-full flex items-center justify-center shadow-lg border-4 overflow-hidden ${W?"border-red-300":"border-white"}`,children:d?e.jsx("img",{src:d,alt:"Profile",className:"w-full h-full object-cover rounded-full"}):e.jsx("svg",{className:"w-14 h-14 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsx("div",{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center shadow-lg ${W?"bg-red-500":"bg-green-500"}`,children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Profile Picture ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a clear photo of yourself for identification purposes"}),W&&e.jsxs("div",{className:"mb-4 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm text-red-600 font-medium",children:W})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{type:"button",onClick:de,className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"text-sm",children:"Refresh"})]}),e.jsxs("button",{type:"button",onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-sm",children:"Camera"})]}),e.jsxs("button",{type:"button",onClick:he,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("span",{className:"text-sm",children:"Upload"})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Civil Status *"}),e.jsxs("select",{value:r.civilStatus,onChange:t=>w("civilStatus",t.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.civilStatus?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"SELECT"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Widowed",children:"Widowed"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Separated",children:"Separated"})]}),e.jsx(J,{field:"civilStatus"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nationality *"}),e.jsx("input",{type:"text",value:r.nationality,onChange:t=>w("nationality",t.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Religion *"}),e.jsxs("select",{value:r.religion,onChange:t=>w("religion",t.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.religion?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"SELECT"}),e.jsx("option",{value:"Catholic",children:"Catholic"}),e.jsx("option",{value:"Protestant",children:"Protestant"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Buddhist",children:"Buddhist"}),e.jsx("option",{value:"Hindu",children:"Hindu"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(J,{field:"religion"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",value:r.country,onChange:t=>w("country",t.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-gray-50",readOnly:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Address Information"]}),e.jsx(ke,{formData:r,setFormData:g,isDisabled:!1})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h6",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street *"}),e.jsx("input",{type:"text",value:r.street,onChange:t=>w("street",t.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.street?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),e.jsx(J,{field:"street"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zip Code *"}),e.jsx("input",{type:"text",value:r.zipCode,onChange:t=>w("zipCode",t.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.zipCode?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter zip code"}),e.jsx(J,{field:"zipCode"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mobile No. *"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:r.mobileCountryCode,onChange:t=>w("mobileCountryCode",t.target.value),className:`h-12 px-3 pr-8 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white border-r-0 text-sm appearance-none cursor-pointer min-w-[120px] ${S.mobileCountryCode?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,style:{backgroundImage:"none",WebkitAppearance:"none",MozAppearance:"none"},children:K.map(t=>e.jsxs("option",{value:t.code,children:[t.flag," ",t.code]},t.code))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),e.jsx("input",{type:"tel",value:r.mobileNo,onChange:t=>w("mobileNo",t.target.value),onBlur:t=>X("mobileNo",t.target.value),required:!0,className:`flex-1 h-12 px-4 py-3 border rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.mobileNo?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"999-999-9999"})]}),e.jsx(J,{field:"mobileNo"}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Format: ",r.mobileCountryCode," 999-999-9999"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:r.emailAddress,onChange:t=>w("emailAddress",t.target.value),onBlur:t=>X("emailAddress",t.target.value),required:!0,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm hover:shadow-md bg-white ${S.emailAddress?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),e.jsx(J,{field:"emailAddress"})]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-8",children:[e.jsxs("button",{type:"button",onClick:()=>m(1),className:"px-8 py-3 text-sm font-semibold text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back"})]}),e.jsx("button",{type:"submit",disabled:f,className:`px-8 py-3 text-sm font-semibold text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2 transform hover:scale-105 ${d?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700"} disabled:opacity-50`,children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:d?"Proceed to Appointments":"Upload Profile Picture Required"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})]})]})]})]})}),_&&e.jsx("div",{className:"fixed inset-0 z-60 bg-black bg-opacity-75 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Camera"}),e.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("video",{id:"camera-video",autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-96 bg-gray-900 rounded-lg",ref:t=>{t&&B&&(t.srcObject=B)}}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[e.jsx("button",{onClick:Z,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:me,disabled:F,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors duration-200 flex items-center space-x-2",children:F?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Capturing..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:"Capture Photo"})]})})]})]})]})})]}):null},De=({isOpen:N,onClose:u,onAccept:y})=>{const[o,c]=a.useState(!1),[m,r]=a.useState(!1),g=()=>{o&&m&&y()};return N?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:u}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Terms of Service & Community Guidelines"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please read and accept our terms before proceeding"})]})]}),e.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-8 max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Terms of Service"]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1. Service Usage:"})," By using our appointment booking system, you agree to provide accurate and truthful information about your health and personal details."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2. Data Privacy:"})," We are committed to protecting your personal information in accordance with the Data Privacy Act of 2012 (Republic Act No. 10173)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3. Appointment Policy:"})," Appointments must be scheduled at least 24 hours in advance. Same-day cancellations may be subject to rescheduling fees."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Medical Records:"})," All medical information provided will be kept confidential and used solely for healthcare purposes."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5. System Availability:"})," While we strive for 24/7 availability, we cannot guarantee uninterrupted service due to maintenance or technical issues."]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Community Guidelines"]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1. Respectful Communication:"})," Please maintain respectful and professional communication with our healthcare staff and other patients."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2. Accurate Information:"})," Provide accurate and complete information about your health condition and medical history."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3. Punctuality:"})," Arrive on time for your appointments. Late arrivals may result in rescheduling."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Privacy Respect:"})," Respect the privacy of other patients and maintain confidentiality of shared spaces."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5. Compliance:"})," Follow all health and safety protocols, including wearing masks and maintaining social distancing when required."]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"termsCheckbox",checked:o,onChange:l=>c(l.target.checked),className:"mt-1 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"termsCheckbox",className:"text-sm text-gray-700",children:["I have read and agree to the ",e.jsx("strong",{children:"Terms of Service"})," and understand my rights and responsibilities as a patient."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"guidelinesCheckbox",checked:m,onChange:l=>r(l.target.checked),className:"mt-1 w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"guidelinesCheckbox",className:"text-sm text-gray-700",children:["I have read and agree to follow the ",e.jsx("strong",{children:"Community Guidelines"})," and will maintain respectful behavior."]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 p-8 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx("button",{onClick:u,className:"px-6 py-3 text-sm font-semibold text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Cancel"}),e.jsxs("button",{onClick:g,disabled:!o||!m,className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Accept & Continue"})]})]})]})})]}):null},Oe=({isOpen:N,onClose:u,onReschedule:y})=>{const[o,c]=a.useState(""),[m,r]=a.useState(!1),[g,l]=a.useState(""),k=async()=>{if(!o.trim()){l("Please enter your reference number");return}r(!0),l("");try{const C=await(await fetch(`/api/patient-lookup/${o.trim()}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();C.success?(localStorage.setItem("rescheduleAppointmentData",JSON.stringify(C.patient)),u(),se.visit("/appointments?mode=reschedule")):l(C.message||"Reference number not found. Please check your reference number and try again.")}catch(p){console.error("Error looking up appointment:",p),l("An error occurred while looking up your appointment. Please try again.")}finally{r(!1)}},f=()=>{c(""),l(""),u()};return N?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:f}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-orange-50 to-red-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reschedule Appointment"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter your reference number to reschedule"})]})]}),e.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"How to Reschedule"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Enter your current appointment reference number"}),e.jsx("li",{children:"â€¢ Only the appointment date can be changed"}),e.jsx("li",{children:"â€¢ All other details will remain the same"}),e.jsx("li",{children:"â€¢ You'll receive a new confirmation"})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number *"}),e.jsx("input",{type:"text",value:o,onChange:p=>{c(p.target.value),l("")},placeholder:"Enter your reference number (e.g., REF-2024-001234)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You can find this on your appointment confirmation email or SMS."}),g&&e.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx(P,{onClick:f,variant:"outline",className:"px-6 py-3",children:"Cancel"}),e.jsx(P,{onClick:k,disabled:!o.trim()||m,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reschedule Appointment"]})})]})]})]})}):null},$e=({isOpen:N,onClose:u,onProceed:y})=>{const[o,c]=a.useState(""),[m,r]=a.useState(""),[g,l]=a.useState(!1),[k,f]=a.useState(""),[p,C]=a.useState(null),[j,I]=a.useState([]),[A,i]=a.useState(!1),[b,d]=a.useState(1),T=5,[S,R]=a.useState(!1),W=async()=>{o==="existing"&&m.trim()?await E():o==="new"&&y(o)},E=async()=>{if(!m.trim()){f("Please enter your reference number");return}l(!0),f("");try{const h=await(await fetch(`/api/patient-lookup/${m.trim()}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();h.success?(C(h.patient),localStorage.setItem("existingPatientData",JSON.stringify(h.patient)),localStorage.setItem("selectedPatientType","existing"),await _(h.patient.reference_number),i(!0)):f(h.message||"Reference number not found. Please check your reference number and try again.")}catch(n){console.error("Error looking up patient:",n),f("An error occurred while looking up your information. Please try again.")}finally{l(!1)}},_=async n=>{try{const q=await(await fetch(`/api/patient-appointments/${n}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();q.success?(I(q.appointments||[]),d(1)):(console.error("Error fetching appointment history:",q.message),I([]))}catch(h){console.error("Error fetching appointment history:",h),I([])}},U=()=>{R(!0)},B=()=>{R(!1)},G=()=>{i(!1),C(null),I([]),r(""),c(""),f(""),d(1)},Q=()=>{u(),se.visit("/appointments")},H=Math.ceil(j.length/T),F=(b-1)*T,$=F+T,K=j.slice(F,$),V=n=>{d(n)},M=()=>{b>1&&d(b-1)},Y=()=>{b<H&&d(b+1)};return N?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm",onClick:u}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Patient Type Selection"}),e.jsx("p",{className:"text-gray-600",children:"Please select your patient type to continue"})]})]}),e.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-8",children:A&&p?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-900",children:["Welcome back, ",p.firstname," ",p.lastname,"!"]}),e.jsx("p",{className:"text-blue-700",children:"Here's your appointment history. You can book a new appointment or reschedule an existing one."})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Your Appointment History"}),j.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",F+1,"-",Math.min($,j.length)," of ",j.length," appointments"]})]}),j.length>0?e.jsx("div",{className:"space-y-4",children:K.map((n,h)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:n.service?.servicename||"Service"}),n.subservice&&e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",n.subservice.subservicename]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(n.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",n.time]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reference:"})," ",n.reference_number]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"}),e.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs ${n.status===1?"bg-blue-100 text-blue-800":n.status===2?"bg-green-100 text-green-800":n.status===3||n.status===4?"bg-red-100 text-red-800":n.status===5?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n.status===1?"Scheduled":n.status===2?"Completed":n.status===3?"Cancelled":n.status===4?"Declined":n.status===5?"Confirmed":"Unknown"})]})]})]})})},h))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{children:"No appointment history found."})]}),j.length>T&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(P,{onClick:M,disabled:b===1,variant:"outline",size:"sm",className:"px-3 py-1",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:H},(n,h)=>h+1).map(n=>e.jsx(P,{onClick:()=>V(n),variant:b===n?"default":"outline",size:"sm",className:`px-3 py-1 ${b===n?"bg-blue-600 text-white":"hover:bg-gray-50"}`,children:n},n))}),e.jsxs(P,{onClick:Y,disabled:b===H,variant:"outline",size:"sm",className:"px-3 py-1",children:["Next",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",b," of ",H]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsxs(P,{onClick:G,variant:"outline",className:"px-6 py-2",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Selection"]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(P,{onClick:Q,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Book New Appointment"]})})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Select Patient Type"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Please choose whether you are a new patient or an existing patient."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${o==="new"?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-green-300 hover:bg-green-50"}`,onClick:()=>c("new"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="new"?"border-green-500 bg-green-500":"border-gray-300"}`,children:o==="new"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"New Patient"}),e.jsx("p",{className:"text-sm text-gray-600",children:"First time visiting our clinic"})]})]})}),e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${o==="existing"?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>c("existing"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="existing"?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:o==="existing"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Existing Patient"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Previously visited our clinic"})]})]})}),o==="existing"&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number from Last Appointment"}),e.jsx("input",{type:"text",value:m,onChange:n=>r(n.target.value),placeholder:"Enter your reference number (e.g., REF-2024-001234)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You can find this on your previous appointment confirmation email or SMS."}),k&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:k})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Quick Actions"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Need to change your existing appointment?"}),e.jsx("div",{className:"space-y-3",children:e.jsx(P,{variant:"outline",className:"w-full justify-start text-left h-auto p-4 border-orange-200 hover:border-orange-300 hover:bg-orange-50",onClick:U,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Reschedule Appointment"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Change your existing appointment"})]})]})})})]})})]})}),!A&&e.jsxs("div",{className:"flex justify-end space-x-4 p-8 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx(P,{onClick:u,variant:"outline",className:"px-6 py-3",children:"Cancel"}),e.jsx(P,{onClick:W,disabled:!o||o==="existing"&&!m.trim()||g,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o==="existing"?"Lookup & Continue":"Continue to Verification"]})})]})]})}),e.jsx(Oe,{isOpen:S,onClose:B,onReschedule:()=>{}})]}):null},ie=()=>{const[N,u]=a.useState(!1);return a.useEffect(()=>{const o=()=>{const m=window.location.pathname,r=localStorage.getItem("patientTokenSession"),g=m.includes("/appointments");u(g||!!r)};o();const c=()=>{o()};return window.addEventListener("popstate",c),()=>{window.removeEventListener("popstate",c)}},[]),a.useEffect(()=>{const o=()=>{window.location.pathname.includes("/appointments")||(localStorage.removeItem("patientTokenSession"),localStorage.removeItem("patientVerificationData"),u(!1))};return window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o)}},[]),{isInAppointmentSession:N,handleAppointmentClick:o=>N?(o.preventDefault(),o.stopPropagation(),alert("You are already in an appointment session. Please complete your current appointment or refresh the page to start a new one."),!1):(window.dispatchEvent(new CustomEvent("openTermsOfServiceModal")),!0)}},qe=({auth:N,isLoggedin:u})=>{const[y,o]=a.useState(!1),[c,m]=a.useState(!1),[r,g]=a.useState(!1),[l,k]=a.useState(!1),[f,p]=a.useState(!1),[C,j]=a.useState(!1),[I,A]=a.useState(!1),[i,b]=a.useState(!1),{isInAppointmentSession:d}=ie(),[T,S]=a.useState(!1),[R,W]=a.useState(!1);a.useEffect(()=>{const q=new URLSearchParams(window.location.search).get("mode"),w=localStorage.getItem("existingPatientData"),X=localStorage.getItem("selectedPatientType");S(q==="reschedule"),W(!!w&&X==="existing")},[]);const E=()=>d,_=()=>o(!y),U=()=>m(!c),B=()=>k(!l),G=()=>{j(!1),window.isTermsModalOpen=!1,A(!0)},Q=()=>{j(!1),window.isTermsModalOpen=!1},H=h=>{A(!1),localStorage.setItem("selectedPatientType",h),b(!0),p(!0)},F=()=>{A(!1)},$=()=>{p(!1),b(!1),A(!0)},K=h=>{if(d)return h.preventDefault(),h.stopPropagation(),alert("You are already in an appointment session. Please complete your current appointment or refresh the page to start a new one."),!1;j(!0)},V=re().props.auth.user,M=re().props.auth,[Y,n]=a.useState(M);return a.useEffect(()=>{n(M)},[M]),a.useEffect(()=>{const h=()=>{if(window.isTermsModalOpen){console.warn("Terms modal already open, ignoring duplicate request");return}window.isTermsModalOpen=!0,j(!0)};return window.addEventListener("openTermsOfServiceModal",h),()=>{window.removeEventListener("openTermsOfServiceModal",h)}},[]),e.jsxs("header",{className:"w-full h-16 bg-white border-b border-gray-200 header-shadow fixed top-0 left-0 z-50",children:[e.jsxs("div",{className:"container mx-auto h-full flex items-center justify-between px-4",children:[e.jsxs(L,{href:"/",className:"flex items-center group",children:[e.jsx("img",{src:"https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",alt:"Barangay Calumpang Health Center",className:"h-8 w-auto transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"ml-2 font-semibold text-base text-gray-800 group-hover:text-black transition-colors duration-300",children:"Calumpang RHU"})]}),e.jsx("div",{className:"md:hidden ml-auto",children:e.jsx("button",{onClick:_,className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition-all duration-300 transform hover:scale-110 active:scale-95","aria-label":"toggle menu",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 fill-current",children:e.jsx("path",{fillRule:"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"})})})}),e.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-b from-gray-50 to-white shadow-2xl overflow-y-auto transition-transform duration-300 ease-in-out ${y?"translate-x-0":"-translate-x-full"}`,style:{display:y?"block":"none"},children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs(L,{href:"/",className:"flex items-center group",children:[e.jsx("img",{src:"https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",alt:"Barangay Calumpang Health Center",className:"h-8 w-auto transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"ml-2 font-semibold text-base text-gray-800 group-hover:text-black transition-colors duration-300",children:"Calumpang RHU"})]}),e.jsx("button",{onClick:_,className:"text-gray-600 hover:text-gray-800 focus:outline-none focus:text-gray-800 transition-all duration-300 transform hover:rotate-180 active:scale-95",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("nav",{className:"px-6 py-8",children:[e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsxs(L,{href:"/",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:U,className:"flex items-center justify-between w-full py-2 px-3 text-base font-medium text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-50 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2m14 0V5a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Services"]}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),c&&e.jsxs("div",{className:"pl-10 pr-3 py-1 space-y-1",children:[e.jsxs("button",{onClick:K,disabled:d,className:`w-full flex items-start py-2 px-2 text-sm font-medium rounded-md transition-all duration-300 transform ${d?"text-gray-400 cursor-not-allowed opacity-50":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-r hover:from-gray-100 hover:to-transparent hover:translate-x-1 hover:shadow-sm"}`,style:{textAlign:"left",border:"none",background:"none",outline:"none",font:"inherit"},title:d?"You are already in an appointment session":"Schedule an appointment",children:[e.jsx("svg",{className:`w-4 h-4 mr-2 mt-0.5 flex-shrink-0 ${d?"text-gray-400":"text-blue-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:d?"Appointments (Active)":"Appointments"}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"Schedule your visit to the health center"})]})]}),E()?e.jsxs("button",{disabled:!0,className:"flex items-start py-2 px-2 text-sm font-medium text-gray-400 cursor-not-allowed opacity-50 rounded-md transition-all duration-300",title:"Seasonal Programs is disabled during appointment session",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:"Seasonal Programs"}),e.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:"Disabled during appointment session"})]})]}):e.jsxs(L,{href:"/services/seasonal-programs",className:"flex items-start py-2 px-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gradient-to-r hover:from-gray-100 hover:to-transparent rounded-md transition-all duration-300 transform hover:translate-x-1 hover:shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z"})}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"font-medium",children:"Seasonal Programs"}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"View seasonal programs and availability"})]})]})]})]}),e.jsx("li",{children:e.jsxs(L,{href:"/about",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"About"]})}),e.jsx("li",{children:e.jsxs(L,{href:"/contact",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact"]})}),e.jsx("li",{children:e.jsxs(L,{href:"/faq",className:"flex items-center py-3 px-4 text-lg font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-all duration-300 transform hover:translate-x-2 hover:shadow-md active:translate-x-1 active:shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"FAQ"]})})]}),V&&e.jsx("div",{className:"mt-8",children:e.jsx(L,{href:"/logout",method:"post",className:"flex items-center justify-center w-full py-3 px-4 bg-gray-800 text-white text-center font-semibold rounded-lg transition-all duration-300 transform hover:bg-gray-700 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 active:scale-95 hover:shadow-lg",children:"Logout"})})]})]}),e.jsx("nav",{className:"hidden md:block",children:e.jsxs("ul",{className:"flex space-x-6",children:[e.jsx("li",{children:e.jsx(L,{href:"/",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"Home"})}),e.jsxs("li",{className:"relative",children:[e.jsxs("button",{onClick:()=>g(h=>!h),className:`nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative ${r?"bg-gray-100 text-gray-900":""}`,children:[e.jsx("span",{children:"Services"}),e.jsx("svg",{className:`ml-1 h-4 w-4 transition-transform duration-300 ${r?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&e.jsx("div",{className:"absolute left-0 mt-2 w-72 origin-top-right rounded-xl bg-white p-4 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none",onMouseEnter:()=>g(!0),onMouseLeave:()=>setTimeout(()=>g(!1),500),children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:K,disabled:d,className:`w-full group flex items-center rounded-lg p-3 transition-all duration-300 transform min-h-[60px] ${d?"opacity-50 cursor-not-allowed":"hover:bg-gray-50 hover:translate-x-1"}`,title:d?"You are already in an appointment session":"Schedule an appointment",children:[e.jsx("svg",{className:`mr-3 h-5 w-5 transition-colors duration-300 ${d?"text-gray-400":"text-gray-400 group-hover:text-black"}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${d?"text-gray-400":"text-gray-900 group-hover:text-black"}`,children:d?"Appointments (Active)":"Appointments"}),e.jsx("p",{className:`text-xs transition-colors duration-300 ${d?"text-gray-400":"text-gray-500 group-hover:text-gray-600"}`,children:d?"Complete your current appointment first":"Schedule your visit to the health center"})]})]}),E()?e.jsxs("button",{disabled:!0,className:"group flex items-center rounded-lg p-3 cursor-not-allowed opacity-50 min-h-[60px]",title:"Seasonal Programs is disabled during appointment session",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Seasonal Programs"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Disabled during appointment session"})]})]}):e.jsxs(L,{href:"/services/seasonal-programs",className:"group flex items-center rounded-lg p-3 hover:bg-gray-50 transition-all duration-300 transform hover:translate-x-1 min-h-[60px]",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-black transition-colors duration-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-black transition-colors duration-300",children:"Seasonal Programs"}),e.jsx("p",{className:"text-xs text-gray-500 group-hover:text-gray-600 transition-colors duration-300",children:"View seasonal programs and availability"})]})]})]})})]}),e.jsx("li",{children:e.jsx(L,{href:"/about",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"About"})}),e.jsx("li",{children:e.jsx(L,{href:"/contact",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"Contact"})}),e.jsx("li",{children:e.jsx(L,{href:"/faq",className:"nav-link group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative",children:"FAQ"})})]})}),e.jsx("div",{className:"flex items-center",children:V&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{datas:Y}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:B,className:`group inline-flex h-8 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-all duration-300 hover:bg-gray-100 hover:text-gray-900 relative ${l?"bg-gray-100 text-gray-900":""}`,children:[e.jsxs("span",{children:[V.firstname," ",V.lastname]}),e.jsx("svg",{className:`ml-1 h-4 w-4 transition-transform duration-300 ${l?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),l&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx(L,{href:"/patient/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-all duration-300",children:"Profile"}),e.jsx(L,{href:"/logout",method:"post",as:"button",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-all duration-300 w-full text-left",children:"Logout"})]})})]})]})})]}),e.jsx(Ve,{isOpen:f,onClose:()=>{p(!1),b(!1)},onBackToSelection:$,showBackButton:i}),e.jsx(De,{isOpen:C,onClose:Q,onAccept:G}),e.jsx($e,{isOpen:I,onClose:F,onProceed:H})]})},_e=({logoSrc:N="https://i.ibb.co/bjPTPJDW/344753576-269776018821308-8152932488548493632-n-removebg-preview.png",logoStyle:u={width:"150px",height:"150px",objectFit:"contain"},socialLinks:y=[{platform:"Facebook",url:"https://facebook.com"},{platform:"Twitter",url:"https://twitter.com"},{platform:"Instagram",url:"https://instagram.com"}],contactInfo:o={address:"Calumpang, General Santos, Soccsksargen, Philippines",phone:"(083) 554-0146",email:"calumpangrhu@gmail.com"},quickLinks:c=[{title:"Home",url:"/"},{title:"Services",url:"/#services"},{title:"Appointments",url:"/appointments"},{title:"About Us",url:"/about"},{title:"Contact",url:"/#contact"},{title:"Terms of Service",url:"/terms"},{title:"FAQ",url:"/faq"}]})=>{const{isInAppointmentSession:m,handleAppointmentClick:r}=ie(),g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("footer",{className:"bg-slate-900 text-white py-12 px-4 md:px-8 lg:px-16",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-8 gap-8",children:[e.jsxs("div",{className:"md:w-1/3",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:N,alt:"Barangay Calumpang Health Center",style:{...u,width:"40px",height:"40px"},className:"mr-3 filter drop-shadow-md rounded-full"}),e.jsx("h3",{className:"text-xl font-bold",children:"Calumpang Rural Health Unit"})]}),e.jsx("p",{className:"text-slate-300 mb-4",children:"Providing quality healthcare services to the residents of Barangay Calumpang through our innovative digital health management system."}),e.jsx("div",{className:"flex space-x-4",children:y.map((l,k)=>e.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-300 hover:text-white transition-colors","aria-label":l.platform,children:[l.platform==="Facebook"&&e.jsx(Ee,{size:20}),l.platform==="Twitter"&&e.jsx(He,{size:20}),l.platform==="Instagram"&&e.jsx(Re,{size:20})]},k))})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map((l,k)=>l.title==="Appointments"?e.jsx("button",{onClick:r,disabled:m,className:`text-left py-1 transition-colors ${m?"text-gray-500 cursor-not-allowed opacity-50":"text-slate-300 hover:text-white"}`,title:m?"You are already in an appointment session":"Schedule an appointment",children:m?"Appointments (Active)":l.title},k):e.jsx("a",{href:l.url,className:"text-slate-300 hover:text-white transition-colors py-1",children:l.title},k))})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(Me,{className:"mr-2 h-5 w-5 text-slate-300 mt-0.5"}),e.jsx("span",{className:"text-slate-300",children:o.address})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"mr-2 h-5 w-5 text-slate-300"}),e.jsx("span",{className:"text-slate-300",children:o.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"mr-2 h-5 w-5 text-slate-300"}),e.jsx("span",{className:"text-slate-300",children:o.email})]})]})]})]}),e.jsx(Se,{className:"bg-slate-700 my-6"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-slate-400 text-sm mb-4 md:mb-0",children:[new Date().getFullYear()," Barangay Calumpang Rural Health Unit. All rights reserved."]}),e.jsx(P,{variant:"outline",size:"icon",className:"rounded-full bg-slate-800 border-slate-700 hover:bg-slate-700",onClick:g,"aria-label":"Back to top",children:e.jsx(Ae,{className:"h-5 w-5"})})]})]})})};function mt({children:N,className:u,footer:y=!1}){const{flash:o}=re().props;return a.useEffect(()=>{o&&Be(o.title,o.message,o.icon)},[o]),e.jsxs("div",{className:u,children:[e.jsx(je,{channelName:"notification",eventName:"notification-event",onEvent:c=>{se.reload({only:["auth"],preserveScroll:!0})}}),e.jsx(qe,{isLoggedIn:re().props?.auth?.user}),N,y&&e.jsx(_e,{}),e.jsx(ze,{})]})}export{mt as L,ie as u};
