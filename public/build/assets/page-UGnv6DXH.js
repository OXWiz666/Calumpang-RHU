import{r,q as P,j as t}from"./app-9IFjvyjq.js";import S from"./patient-list-zNE10l2h.js";import C from"./patient-details-BmuE-Fq9.js";import A from"./add-patient-form-CgQn0PW0.js";import"./button-BWLYpXz0.js";import{C as m,a as n,b as l,c as d}from"./card-BZqhk5Ws.js";import{A as D}from"./AdminLayout-B1EVrWwj.js";import{m as F}from"./proxy-D62Q3uN7.js";import{U as R}from"./users-CRZKArp7.js";import{A as T}from"./activity-Dgiqecz8.js";import{C as V}from"./calendar-DQr9f7aC.js";import{F as U}from"./file-text-2oyp6bUV.js";import"./input-fLU5VnAr.js";import"./utils-Dqxj4mrw.js";import"./badge-Da4cSqJP.js";import"./index-C6jRhQFj.js";import"./select-p8YEwkY-.js";import"./react-icons.esm-CBUbwQJY.js";import"./index-5FqUdhJW.js";import"./Combination-BD7y2hDp.js";import"./index-DMLVHKle.js";import"./index-ZSsit5F4.js";import"./index-D1R9fGnO.js";import"./index-Bhu2lbiL.js";import"./moment-C5S46NFB.js";import"./search-CCpMc_T5.js";import"./createLucideIcon-DsPw26Nq.js";import"./phone-U7LnKRGT.js";import"./map-pin-Bdehjgen.js";import"./eye-B-87yDjC.js";import"./tabs-B5MwLVSX.js";import"./index-B9uMoLSe.js";import"./index-iJsz53jB.js";import"./edit-patient-form-aRepGU_R.js";import"./label-C2QZitaL.js";import"./textarea-COBWyWer.js";import"./dialog-BlSttdnZ.js";import"./arrow-left-BjYuHKn8.js";import"./save-C_DH6-Z7.js";import"./add-medical-record-form-Cwz_NSCM.js";import"./PrintErrors-XsOiaV-u.js";import"./plus-C1hjROq8.js";import"./square-pen-Dnx_Ff5r.js";import"./pusher-Dk5bIoJZ.js";import"./heart-cgOh20SX.js";import"./trash-2-vvbptI_1.js";import"./pill-D1Lo51NR.js";import"./triangle-alert-BkHbl9Bl.js";import"./avatar-eTivO2nx.js";import"./separator-Ck3s5O1g.js";import"./popover-D55FYzXF.js";import"./format-BtYX0kVO.js";import"./isBefore-CNJkrGzj.js";import"./isSameMonth-CLqEvLGB.js";import"./TextInput-VzTatbZ2.js";import"./x-QWiAXd0n.js";import"./settings-RhmjAov2.js";import"./house-3fFlpYPo.js";import"./bell-Oyzr8Ilp.js";import"./index-BkKJZgfk.js";import"./autoprefixer-CLq4rudv.js";import"./trending-up-_LM6MF-k.js";import"./layers-CYkgeNxD.js";import"./chart-column-Bqapy0n2.js";function Kt({patients_:c,doctors:j}){const[s,p]=r.useState(c),[x,f]=r.useState(null),{flash:E}=P().props;r.useEffect(()=>{p(c)},[c]);const[L,u]=r.useState(!1),[o,a]=r.useState("list"),N=e=>{const i={...e,id:Date.now().toString(),registrationDate:new Date().toISOString().split("T")[0]};p([...s,i]),a("list"),u(!1)},g=e=>{f(e),a("details")},w=e=>{p(s.map(i=>i.id===e.id?e:i)),f(e)},y=s.length,b=s.filter(e=>e.status==="active").length,v=s.filter(e=>e.lastVisit&&new Date(e.lastVisit)>new Date(Date.now()-7*24*60*60*1e3)).length;return t.jsx(D,{header:"Patients",children:t.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsx("div",{className:"bg-gray-50",children:t.jsxs("div",{className:"",children:[o==="list"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Total Patients"}),t.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered patients"})]})]}),t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Active Patients"}),t.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Recent Visits"}),t.jsx(V,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:v}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Medical Records"}),t.jsx(U,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s.reduce((e,i)=>{var h;return e+(((h=i.medicalHistory)==null?void 0:h.length)||0)},0)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total records"})]})]})]}),o==="list"&&t.jsx(S,{patients:s,onSelectPatient:g}),o==="details"&&x&&t.jsx(C,{patient:x,onBack:()=>a("list"),onUpdate:w,doctors:j}),o==="add"&&t.jsx(A,{onSubmit:N,onCancel:()=>a("list")})]})})})})}export{Kt as default};
