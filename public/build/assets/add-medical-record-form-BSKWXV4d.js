import{j as e}from"./app-Dq_Q3Qwg.js";import{r as i}from"./vendor-DkBadjUr.js";import{B as n}from"./button-C5uFo_s4.js";import{I as h}from"./input-onBXUy1Y.js";import{L as a}from"./label-D-GXHI76.js";import{T as j}from"./textarea-C9hsFzqx.js";import{C as M,a as z,b as E,e as T,c as B}from"./card-kiyN5UMh.js";import{h as f}from"./moment-C5S46NFB.js";import{S as I,a as P,b as R,c as U,d as k}from"./select-DVTvZC0C.js";import{P as g}from"./PrintErrors-9X8y9AW3.js";import{A as q}from"./arrow-left-DcYYnBRL.js";import{F as L}from"./file-text-YZXa1D2L.js";import{S as H}from"./save-CAdd64LS.js";import"./pusher-DVtoYAOu.js";import"./index-Cwj52g8w.js";import"./react-icons.esm-B4fS-S41.js";import"./index-DWmZ7jWL.js";import"./index-DZ3-Nn1l.js";import"./index-BLzoH2V5.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Z1kVBYZG.js";import"./index-BZWX2-NB.js";import"./index-DqxisvwK.js";import"./index-Bjz1F0Gi.js";import"./createLucideIcon-BKWaAi2G.js";function pe({patientName:v,onSubmit:y,onCancel:p,doctors:c,errors:N}){const[t,F]=i.useState({date:f(new Date).format("yyyy-MM-DD"),diagnosis:"",treatment:"",doctor:"",notes:"",followUp:""}),C=s=>{s.preventDefault(),y(t)},r=(s,l)=>{F(o=>({...o,[s]:l}))},[d,S]=i.useState([]),[x,w]=i.useState([]),[D,u]=i.useState(""),b=s=>{const l=Array.from(s.target.files);u("");const o=l.filter(m=>m.size>3*1024*1024);o.length>0&&u("Files that exceeds 3MB will not be included.");const A=l.filter(m=>m.size<=3*1024*1024);w(o),S(A)};return i.useEffect(()=>{console.log("attachments:",d)},[d]),i.useEffect(()=>{console.log("bigsizedFiles:",x)},[x]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(n,{variant:"outline",onClick:p,children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Add Medical Record"}),e.jsxs("p",{className:"text-muted-foreground",children:["Patient: ",v]})]})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(z,{children:[e.jsx(E,{children:"Medical Record Details"}),e.jsx(T,{children:"Enter the medical consultation details"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsx(g,{errors:N}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"date",children:"Date *"}),e.jsx(h,{id:"date",type:"date",value:t.date,onChange:s=>r("date",f(s.target.value).format("yyyy-MM-DD")),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"doctor",children:"Doctor/Healthcare Provider *"}),e.jsxs(I,{id:"doctor",value:t.doctor,onValueChange:s=>r("doctor",s),children:[e.jsx(P,{className:"w-full",children:e.jsx(R,{placeholder:"Select Doctor",children:c?c?.find(s=>s?.id.toString()==t.doctor.toString())?.user?.firstname:"Select Doctor"})}),e.jsx(U,{children:c.map(s=>e.jsxs(k,{value:s?.id,children:[s?.user?.firstname," ",s?.user?.lastname]},s))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"diagnosis",children:"Diagnosis *"}),e.jsx(h,{id:"diagnosis",value:t.diagnosis,onChange:s=>r("diagnosis",s.target.value),placeholder:"Primary diagnosis or condition",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"treatment",children:"Treatment *"}),e.jsx(h,{id:"treatment",value:t.treatment,onChange:s=>r("treatment",s.target.value),placeholder:"Treatment provided or prescribed",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"notes",children:"Clinical Notes"}),e.jsx(j,{id:"notes",value:t.notes,onChange:s=>r("notes",s.target.value),placeholder:"Additional observations, symptoms, or clinical notes",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"followUp",children:"Follow-up Instructions"}),e.jsx(j,{id:"followUp",value:t.followUp,onChange:s=>r("followUp",s.target.value),placeholder:"Follow-up care instructions or next appointment details",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{errors:D}),e.jsx(a,{htmlFor:"attachments",children:e.jsxs(e.Fragment,{children:["Attachments",e.jsx(n,{variant:"ghost",size:"sm",className:"ml-2",asChild:!0,children:e.jsxs("label",{className:"cursor-pointer",children:["+ Add",e.jsx("input",{type:"file",id:"attachments",className:"hidden",multiple:!0,onChange:b})]})})]})}),e.jsx("div",{className:"grid grid-flow-col auto-cols-max gap-4",children:d.map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:""}),s.name]}))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(n,{type:"button",variant:"outline",onClick:p,children:"Cancel"}),e.jsxs(n,{type:"submit",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Add Medical Record"]})]})]})]})}export{pe as default};
