import{j as e,q as ms,a as X,b as xs}from"./app-cg6HAvqA.js";import{r as i,a as Me}from"./vendor-C8lGyBmx.js";import{C as v,a as S,b as k,e as hs,c as y}from"./card-CAsB6JK_.js";import{T as us,a as ps,b as L,c as W}from"./tabs-BGByakYM.js";import{B as M}from"./button-BM2SOfBg.js";import{S as z,a as B,b as H,c as q,d as f}from"./select-BJ6G5wpj.js";import{B as P}from"./badge-CZeo7hYd.js";import{D as re,f as de,a as me,b as xe,c as he,e as ue,d as pe}from"./dialog-Dls-FYEY.js";import{I as U}from"./input-CfcHX5xD.js";import{L as w}from"./label-BfwxwPK7.js";import{u as Ee}from"./index-CpYaqqOj.js";import{P as fs}from"./index-B0rSCQ1-.js";import{P as K,b as js}from"./react-icons.esm-B6zOjG8a.js";import{c as ce}from"./index-Bo12s4d6.js";import"./textarea-D8I6-kLh.js";import{A as gs,H as vs}from"./AdminLayout-CT6WVsFq.js";import{s as _}from"./toast-DWMBhB-p.js";import{m as I}from"./proxy-DO_1VohJ.js";import{C as ne}from"./calendar-CgxTkju3.js";import{P as fe}from"./plus-DDu8Ylxg.js";import{F as Ce}from"./file-text-8zq9B_j3.js";import{c as ys}from"./createLucideIcon-CxhiR5tx.js";import{S as bs}from"./settings-bbzsXnod.js";import{E as Ns}from"./eye-SFMa2cX5.js";import{D as Cs}from"./download-ByCtgOIt.js";import{U as ws}from"./users-D1YlIFlF.js";import{S as Ss}from"./stethoscope-CydGzdnP.js";import{T as we}from"./trending-up-DV_lwyS0.js";import{C as ks}from"./chart-column-CpJljP0K.js";import{T as Rs}from"./trending-down-DnY6gmJD.js";import{C as Se}from"./clock-BTXNg5UP.js";import{C as Ds}from"./circle-alert-D5A-RZmA.js";import{C as Ps}from"./circle-x-Ciat7cPK.js";import{C as ke}from"./circle-check-big-DhFJ8pYG.js";import{f as F}from"./format-Dp3w_Y3x.js";import"./pusher-88Z950oj.js";import"./index-C5EP5KHC.js";import"./index-BDNcGVgT.js";import"./index-It-miY68.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Dl8iqCFB.js";import"./index-D43seCg5.js";import"./avatar-BjGcSKX0.js";import"./separator-_7odgRIl.js";import"./moment-C5S46NFB.js";import"./calendar-t4Qy08AK.js";import"./isBefore-COsor6RJ.js";import"./isSameMonth-BOwz-_mK.js";import"./TextInput-hHmpEqv2.js";import"./x-CQxRaeid.js";import"./house-DZDIdKGo.js";import"./pusher-DJfSGEuW.js";import"./printer-3BHp4X0X.js";import"./package-D--cHD_H.js";import"./pill-DF_nrwcI.js";import"./bell--UfrBpRY.js";import"./index-C8DfFUJX.js";import"./autoprefixer-CsU2Grbi.js";import"./unit-BQ-CQZ3l.js";import"./Toaster-CZiSglIL.js";import"./toast-DiC2ZxzD.js";import"./layers-CdV3_yyW.js";import"./refresh-cw-MfQ8LmTs.js";import"./save-B6DUYhKK.js";import"./square-pen-BKHrfT5E.js";import"./trash-2-Dltr4SH9.js";import"./archive-WOiUvevU.js";import"./info--2JYT7wh.js";import"./triangle-alert-CgTyxz_6.js";import"./circle-check-BhwE-f9b.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Es=ys("FileSpreadsheet",Ms);function Re(t,c){if(typeof t=="function")return t(c);t!=null&&(t.current=c)}function Ts(...t){return c=>{let a=!1;const d=t.map(r=>{const n=Re(r,c);return!a&&typeof n=="function"&&(a=!0),n});if(a)return()=>{for(let r=0;r<d.length;r++){const n=d[r];typeof n=="function"?n():Re(t[r],null)}}}}function Te(...t){return i.useCallback(Ts(...t),t)}function _s(t,c=[]){let a=[];function d(n,m){const o=i.createContext(m),x=a.length;a=[...a,m];const p=u=>{const{scope:j,children:b,...g}=u,R=j?.[t]?.[x]||o,E=i.useMemo(()=>g,Object.values(g));return e.jsx(R.Provider,{value:E,children:b})};p.displayName=n+"Provider";function h(u,j){const b=j?.[t]?.[x]||o,g=i.useContext(b);if(g)return g;if(m!==void 0)return m;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[p,h]}const r=()=>{const n=a.map(m=>i.createContext(m));return function(o){const x=o?.[t]||n;return i.useMemo(()=>({[`__scope${t}`]:{...o,[t]:x}}),[o,x])}};return r.scopeName=t,[d,Fs(r,...c)]}function Fs(...t){const c=t[0];if(t.length===1)return c;const a=()=>{const d=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(n){const m=d.reduce((o,{useScope:x,scopeName:p})=>{const u=x(n)[`__scope${p}`];return{...o,...u}},{});return i.useMemo(()=>({[`__scope${c.scopeName}`]:m}),[m])}};return a.scopeName=c.scopeName,a}function De(t,c,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t?.(r),a===!1||!r.defaultPrevented)return c?.(r)}}var _e=globalThis?.document?i.useLayoutEffect:()=>{},As=Me[" useInsertionEffect ".trim().toString()]||_e;function Is({prop:t,defaultProp:c,onChange:a=()=>{},caller:d}){const[r,n,m]=Os({defaultProp:c,onChange:a}),o=t!==void 0,x=o?t:r;{const h=i.useRef(t!==void 0);i.useEffect(()=>{const u=h.current;u!==o&&console.warn(`${d} is changing from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,d])}const p=i.useCallback(h=>{if(o){const u=$s(h)?h(t):h;u!==t&&m.current?.(u)}else n(h)},[o,t,n,m]);return[x,p]}function Os({defaultProp:t,onChange:c}){const[a,d]=i.useState(t),r=i.useRef(a),n=i.useRef(c);return As(()=>{n.current=c},[c]),i.useEffect(()=>{r.current!==a&&(n.current?.(a),r.current=a)},[a,r]),[a,d,n]}function $s(t){return typeof t=="function"}function zs(t){const[c,a]=i.useState(void 0);return _e(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const d=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const n=r[0];let m,o;if("borderBoxSize"in n){const x=n.borderBoxSize,p=Array.isArray(x)?x[0]:x;m=p.inlineSize,o=p.blockSize}else m=t.offsetWidth,o=t.offsetHeight;a({width:m,height:o})});return d.observe(t,{box:"border-box"}),()=>d.unobserve(t)}else a(void 0)},[t]),c}var ie="Checkbox",[Bs,ya]=_s(ie),[Hs,je]=Bs(ie);function qs(t){const{__scopeCheckbox:c,checked:a,children:d,defaultChecked:r,disabled:n,form:m,name:o,onCheckedChange:x,required:p,value:h="on",internal_do_not_use_render:u}=t,[j,b]=Is({prop:a,defaultProp:r??!1,onChange:x,caller:ie}),[g,R]=i.useState(null),[E,C]=i.useState(null),D=i.useRef(!1),A=g?!!m||!!g.closest("form"):!0,V={checked:j,disabled:n,setChecked:b,control:g,setControl:R,name:o,form:m,value:h,hasConsumerStoppedPropagationRef:D,required:p,defaultChecked:G(r)?!1:r,isFormControl:A,bubbleInput:E,setBubbleInput:C};return e.jsx(Hs,{scope:c,...V,children:Ls(u)?u(V):d})}var Fe="CheckboxTrigger",Ae=i.forwardRef(({__scopeCheckbox:t,onKeyDown:c,onClick:a,...d},r)=>{const{control:n,value:m,disabled:o,checked:x,required:p,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:j,isFormControl:b,bubbleInput:g}=je(Fe,t),R=Te(r,h),E=i.useRef(x);return i.useEffect(()=>{const C=n?.form;if(C){const D=()=>u(E.current);return C.addEventListener("reset",D),()=>C.removeEventListener("reset",D)}},[n,u]),e.jsx(K.button,{type:"button",role:"checkbox","aria-checked":G(x)?"mixed":x,"aria-required":p,"data-state":Be(x),"data-disabled":o?"":void 0,disabled:o,value:m,...d,ref:R,onKeyDown:De(c,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:De(a,C=>{u(D=>G(D)?!0:!D),g&&b&&(j.current=C.isPropagationStopped(),j.current||C.stopPropagation())})})});Ae.displayName=Fe;var ge=i.forwardRef((t,c)=>{const{__scopeCheckbox:a,name:d,checked:r,defaultChecked:n,required:m,disabled:o,value:x,onCheckedChange:p,form:h,...u}=t;return e.jsx(qs,{__scopeCheckbox:a,checked:r,defaultChecked:n,disabled:o,required:m,onCheckedChange:p,name:d,form:h,value:x,internal_do_not_use_render:({isFormControl:j})=>e.jsxs(e.Fragment,{children:[e.jsx(Ae,{...u,ref:c,__scopeCheckbox:a}),j&&e.jsx(ze,{__scopeCheckbox:a})]})})});ge.displayName=ie;var Ie="CheckboxIndicator",Oe=i.forwardRef((t,c)=>{const{__scopeCheckbox:a,forceMount:d,...r}=t,n=je(Ie,a);return e.jsx(fs,{present:d||G(n.checked)||n.checked===!0,children:e.jsx(K.span,{"data-state":Be(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:c,style:{pointerEvents:"none",...t.style}})})});Oe.displayName=Ie;var $e="CheckboxBubbleInput",ze=i.forwardRef(({__scopeCheckbox:t,...c},a)=>{const{control:d,hasConsumerStoppedPropagationRef:r,checked:n,defaultChecked:m,required:o,disabled:x,name:p,value:h,form:u,bubbleInput:j,setBubbleInput:b}=je($e,t),g=Te(a,b),R=Ee(n),E=zs(d);i.useEffect(()=>{const D=j;if(!D)return;const A=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(A,"checked").set,Z=!r.current;if(R!==n&&$){const J=new Event("click",{bubbles:Z});D.indeterminate=G(n),$.call(D,G(n)?!1:n),D.dispatchEvent(J)}},[j,R,n,r]);const C=i.useRef(G(n)?!1:n);return e.jsx(K.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??C.current,required:o,disabled:x,name:p,value:h,form:u,...c,tabIndex:-1,ref:g,style:{...c.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ze.displayName=$e;function Ls(t){return typeof t=="function"}function G(t){return t==="indeterminate"}function Be(t){return G(t)?"indeterminate":t?"checked":"unchecked"}const He=i.forwardRef(({className:t,...c},a)=>e.jsx(ge,{ref:a,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...c,children:e.jsx(Oe,{className:ce("flex items-center justify-center text-current"),children:e.jsx(js,{className:"h-4 w-4"})})}));He.displayName=ge.displayName;function Ws(t,c,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t?.(r),a===!1||!r.defaultPrevented)return c?.(r)}}function Pe(t,c){if(typeof t=="function")return t(c);t!=null&&(t.current=c)}function Us(...t){return c=>{let a=!1;const d=t.map(r=>{const n=Pe(r,c);return!a&&typeof n=="function"&&(a=!0),n});if(a)return()=>{for(let r=0;r<d.length;r++){const n=d[r];typeof n=="function"?n():Pe(t[r],null)}}}}function qe(...t){return i.useCallback(Us(...t),t)}function Gs(t,c=[]){let a=[];function d(n,m){const o=i.createContext(m),x=a.length;a=[...a,m];const p=u=>{const{scope:j,children:b,...g}=u,R=j?.[t]?.[x]||o,E=i.useMemo(()=>g,Object.values(g));return e.jsx(R.Provider,{value:E,children:b})};p.displayName=n+"Provider";function h(u,j){const b=j?.[t]?.[x]||o,g=i.useContext(b);if(g)return g;if(m!==void 0)return m;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[p,h]}const r=()=>{const n=a.map(m=>i.createContext(m));return function(o){const x=o?.[t]||n;return i.useMemo(()=>({[`__scope${t}`]:{...o,[t]:x}}),[o,x])}};return r.scopeName=t,[d,Vs(r,...c)]}function Vs(...t){const c=t[0];if(t.length===1)return c;const a=()=>{const d=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(n){const m=d.reduce((o,{useScope:x,scopeName:p})=>{const u=x(n)[`__scope${p}`];return{...o,...u}},{});return i.useMemo(()=>({[`__scope${c.scopeName}`]:m}),[m])}};return a.scopeName=c.scopeName,a}var Le=globalThis?.document?i.useLayoutEffect:()=>{},Ys=Me[" useInsertionEffect ".trim().toString()]||Le;function Xs({prop:t,defaultProp:c,onChange:a=()=>{},caller:d}){const[r,n,m]=Qs({defaultProp:c,onChange:a}),o=t!==void 0,x=o?t:r;{const h=i.useRef(t!==void 0);i.useEffect(()=>{const u=h.current;u!==o&&console.warn(`${d} is changing from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,d])}const p=i.useCallback(h=>{if(o){const u=Ks(h)?h(t):h;u!==t&&m.current?.(u)}else n(h)},[o,t,n,m]);return[x,p]}function Qs({defaultProp:t,onChange:c}){const[a,d]=i.useState(t),r=i.useRef(a),n=i.useRef(c);return Ys(()=>{n.current=c},[c]),i.useEffect(()=>{r.current!==a&&(n.current?.(a),r.current=a)},[a,r]),[a,d,n]}function Ks(t){return typeof t=="function"}function Zs(t){const[c,a]=i.useState(void 0);return Le(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const d=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const n=r[0];let m,o;if("borderBoxSize"in n){const x=n.borderBoxSize,p=Array.isArray(x)?x[0]:x;m=p.inlineSize,o=p.blockSize}else m=t.offsetWidth,o=t.offsetHeight;a({width:m,height:o})});return d.observe(t,{box:"border-box"}),()=>d.unobserve(t)}else a(void 0)},[t]),c}var le="Switch",[Js,ba]=Gs(le),[et,st]=Js(le),We=i.forwardRef((t,c)=>{const{__scopeSwitch:a,name:d,checked:r,defaultChecked:n,required:m,disabled:o,value:x="on",onCheckedChange:p,form:h,...u}=t,[j,b]=i.useState(null),g=qe(c,A=>b(A)),R=i.useRef(!1),E=j?h||!!j.closest("form"):!0,[C,D]=Xs({prop:r,defaultProp:n??!1,onChange:p,caller:le});return e.jsxs(et,{scope:a,checked:C,disabled:o,children:[e.jsx(K.button,{type:"button",role:"switch","aria-checked":C,"aria-required":m,"data-state":Ye(C),"data-disabled":o?"":void 0,disabled:o,value:x,...u,ref:g,onClick:Ws(t.onClick,A=>{D(V=>!V),E&&(R.current=A.isPropagationStopped(),R.current||A.stopPropagation())})}),E&&e.jsx(Ve,{control:j,bubbles:!R.current,name:d,value:x,checked:C,required:m,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});We.displayName=le;var Ue="SwitchThumb",Ge=i.forwardRef((t,c)=>{const{__scopeSwitch:a,...d}=t,r=st(Ue,a);return e.jsx(K.span,{"data-state":Ye(r.checked),"data-disabled":r.disabled?"":void 0,...d,ref:c})});Ge.displayName=Ue;var tt="SwitchBubbleInput",Ve=i.forwardRef(({__scopeSwitch:t,control:c,checked:a,bubbles:d=!0,...r},n)=>{const m=i.useRef(null),o=qe(m,n),x=Ee(a),p=Zs(c);return i.useEffect(()=>{const h=m.current;if(!h)return;const u=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(u,"checked").set;if(x!==a&&b){const g=new Event("click",{bubbles:d});b.call(h,a),h.dispatchEvent(g)}},[x,a,d]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:o,style:{...r.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ve.displayName=tt;function Ye(t){return t?"checked":"unchecked"}var Xe=We,at=Ge;const Qe=i.forwardRef(({className:t,...c},a)=>e.jsx(Xe,{className:ce("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...c,ref:a,children:e.jsx(at,{className:ce("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Qe.displayName=Xe.displayName;const Na=()=>{const{dateRange:t,patientData:c,appointmentData:a,serviceData:d,programData:r,staffData:n,medicalData:m}=ms().props,[o,x]=i.useState("thisMonth"),[p,h]=i.useState({start:t?.start||F(new Date,"yyyy-MM-01"),end:t?.end||F(new Date,"yyyy-MM-dd")}),[u,j]=i.useState(!1),[b,g]=i.useState(!1),[R,E]=i.useState([]),[C,D]=i.useState(null),[A,V]=i.useState("pdf"),[$,Z]=i.useState("overview"),[J,ve]=i.useState([]),[Ke,Ze]=i.useState([]),[ee,Je]=i.useState({}),[se,te]=i.useState(!1),[ye,Q]=i.useState(!1),[be,es]=i.useState([]),[T,ss]=i.useState({name:"",description:"",reportType:"pdf",reportCategory:"overview",customFields:[],filters:{},frequency:"daily",time:"09:00",dayOfWeek:"monday",dayOfMonth:1,emailRecipients:"",isActive:!0});i.useEffect(()=>{(async()=>{try{const l=await X.get(route("admin.reports.templates"));E(l.data.templates)}catch(l){console.error("Error loading report templates:",l)}})(),ae()},[]),i.useEffect(()=>{Ze({overview:["patients","appointments","programs","services","staff","medical"],patients:["firstname","lastname","gender","birth","address","contactno","email"],appointments:["date","time","status","service.servicename","user.firstname","user.lastname","notes"],programs:["program_name","description","date","start_time","end_time","location","slots"],services:["servicename","description","subservices","appointment_count"],staff:["firstname","lastname","role.rolename","status","email","contactno"],medical:["patient.firstname","patient.lastname","doctor.firstname","doctor.lastname","diagnosis","treatment"],custom:["patient_registrations","appointment_completions","service_usage","staff_performance"]}[$]||[])},[$]);const ts=s=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",as=s=>({pending:e.jsx(Se,{className:"h-4 w-4"}),confirmed:e.jsx(ke,{className:"h-4 w-4"}),completed:e.jsx(ke,{className:"h-4 w-4"}),cancelled:e.jsx(Ps,{className:"h-4 w-4"}),"no-show":e.jsx(Ds,{className:"h-4 w-4"})})[s]||e.jsx(Se,{className:"h-4 w-4"}),rs=s=>{x(s);const l=new Date;let N,Y;switch(s){case"today":N=Y=F(l,"yyyy-MM-dd");break;case"thisWeek":N=F(new Date(l.setDate(l.getDate()-l.getDay())),"yyyy-MM-dd"),Y=F(new Date(l.setDate(l.getDate()-l.getDay()+6)),"yyyy-MM-dd");break;case"thisMonth":N=F(new Date(l.getFullYear(),l.getMonth(),1),"yyyy-MM-dd"),Y=F(new Date(l.getFullYear(),l.getMonth()+1,0),"yyyy-MM-dd");break;case"lastMonth":N=F(new Date(l.getFullYear(),l.getMonth()-1,1),"yyyy-MM-dd"),Y=F(new Date(l.getFullYear(),l.getMonth(),0),"yyyy-MM-dd");break;case"thisYear":N=F(new Date(l.getFullYear(),0,1),"yyyy-MM-dd"),Y=F(new Date(l.getFullYear(),11,31),"yyyy-MM-dd");break;default:return}h({start:N,end:Y}),xs.get(route("admin.reports"),{start_date:N,end_date:Y})},Ne=async s=>{try{const l=await X.post(route("admin.reports.generate"),{report_type:s,report_category:"overview",date_range:p,custom_fields:[],filters:{}});if(l.data.success){_("Success!",`${s.toUpperCase()} report generated successfully`,"success","create");const N=document.createElement("a");N.href=l.data.download_url||"#",N.download=`admin_report_${s}_${new Date().toISOString().split("T")[0]}.${s==="pdf"?"pdf":"xlsx"}`,document.body.appendChild(N),N.click(),document.body.removeChild(N)}else _("Error",l.data.message||"Failed to generate report","error")}catch(l){console.error("Error generating report:",l),_("Error","Failed to generate report. Please try again.","error")}},ns=async()=>{te(!0);try{const s=await X.post(route("admin.reports.generate"),{report_type:A,report_category:$,date_range:p,custom_fields:J,filters:ee});s.data.success?(_("Success!",s.data.message,"success","create"),j(!1),console.log("Report generated:",s.data)):_("Error",s.data.message||"Failed to generate report","error")}catch(s){console.error("Error generating report:",s),_("Error",s.response?.data?.message||"Failed to generate report","error")}finally{te(!1)}},cs=s=>{D(s),Z(s.category),ve(s.fields)},is=s=>{ve(l=>l.includes(s)?l.filter(N=>N!==s):[...l,s])},oe=(s,l)=>{Je(N=>({...N,[s]:l}))},ls=async()=>{try{te(!0);const s=await X.post(route("admin.reports.schedule"),{...T,dateRange:p});s.data.success?(_("Success!","Report scheduled successfully!","success","create"),Q(!1),ae()):_("Error",s.data.message||"Failed to schedule report","error")}catch(s){console.error("Error scheduling report:",s),_("Error",s.response?.data?.message||"Failed to schedule report","error")}finally{te(!1)}},ae=async()=>{try{const s=await X.get(route("admin.reports.scheduled"));es(s.data.scheduledReports||[])}catch(s){console.error("Error loading scheduled reports:",s)}},O=(s,l)=>{ss(N=>({...N,[s]:l}))},os=async(s,l)=>{try{(await X.post(route("admin.reports.toggle-schedule"),{scheduleId:s,isActive:l})).data.success&&(_("Success!",`Report schedule ${l?"activated":"deactivated"} successfully!`,"success","update"),ae())}catch(N){console.error("Error toggling schedule:",N),_("Error","Failed to update schedule","error")}},ds=async s=>{try{(await X.delete(route("admin.reports.delete-schedule",{id:s}))).data.success&&(_("Success!","Scheduled report deleted successfully!","success","delete"),ae())}catch(l){console.error("Error deleting schedule:",l),_("Error","Failed to delete schedule","error")}};return e.jsx(gs,{children:e.jsxs("div",{className:"p-6 bg-background min-h-screen",children:[e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and data analysis for RHU Calumpang"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Period: ",F(new Date(p.start),"MMM dd, yyyy")," - ",F(new Date(p.end),"MMM dd, yyyy")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{open:ye,onOpenChange:Q,children:e.jsx(de,{asChild:!0,children:e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Schedule Report"]})})}),e.jsxs(re,{open:u,onOpenChange:j,children:[e.jsx(de,{asChild:!0,children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"Generate Report"]})}),e.jsxs(me,{className:"max-w-2xl",children:[e.jsxs(xe,{children:[e.jsx(he,{children:"Generate Report"}),e.jsx(ue,{children:"Create a custom report with your selected data and filters."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Report Format"}),e.jsxs(z,{value:A,onValueChange:V,children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(f,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"PDF Document"]})}),e.jsx(f,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"h-4 w-4"}),"Excel Spreadsheet"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Report Category"}),e.jsxs(z,{value:$,onValueChange:Z,children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(f,{value:"overview",children:"Overview Report"}),e.jsx(f,{value:"patients",children:"Patient Report"}),e.jsx(f,{value:"appointments",children:"Appointment Report"}),e.jsx(f,{value:"programs",children:"Program Report"}),e.jsx(f,{value:"services",children:"Service Report"}),e.jsx(f,{value:"staff",children:"Staff Report"}),e.jsx(f,{value:"medical",children:"Medical Report"}),e.jsx(f,{value:"custom",children:"Custom Report"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Start Date"}),e.jsx(U,{type:"date",value:p.start,onChange:s=>h(l=>({...l,start:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"End Date"}),e.jsx(U,{type:"date",value:p.end,onChange:s=>h(l=>({...l,end:s.target.value}))})]})]}),$!=="overview"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Select Fields to Include"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto border rounded-md p-2",children:Ke.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{id:s,checked:J.includes(s),onCheckedChange:()=>is(s)}),e.jsx(w,{htmlFor:s,className:"text-sm",children:s.replace(/_/g," ").replace(/\./g," - ")})]},s))})]}),$==="patients"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Gender"}),e.jsxs(z,{value:ee.gender||"",onValueChange:s=>oe("gender",s),children:[e.jsx(B,{children:e.jsx(H,{placeholder:"All genders"})}),e.jsxs(q,{children:[e.jsx(f,{value:"",children:"All"}),e.jsx(f,{value:"Male",children:"Male"}),e.jsx(f,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Age Range"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{type:"number",placeholder:"Min",value:ee.age_min||"",onChange:s=>oe("age_min",s.target.value)}),e.jsx(U,{type:"number",placeholder:"Max",value:ee.age_max||"",onChange:s=>oe("age_max",s.target.value)})]})]})]})]})]}),e.jsxs(pe,{children:[e.jsx(M,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(M,{onClick:ns,disabled:se,children:se?"Generating...":"Generate Report"})]})]})]}),e.jsxs(re,{open:b,onOpenChange:g,children:[e.jsx(de,{asChild:!0,children:e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Templates"]})}),e.jsxs(me,{className:"max-w-4xl",children:[e.jsxs(xe,{children:[e.jsx(he,{children:"Report Templates"}),e.jsx(ue,{children:"Choose from predefined report templates or create your own custom report."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(s=>e.jsxs(v,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsxs(S,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{className:"text-lg",children:s.name}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{cs(s),g(!1),j(!0)},children:e.jsx(Ns,{className:"h-4 w-4"})})]}),e.jsx(hs,{children:s.description})]}),e.jsx(y,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.fields.slice(0,3).map(l=>e.jsx(P,{variant:"secondary",className:"text-xs",children:l.replace(/_/g," ")},l)),s.fields.length>3&&e.jsxs(P,{variant:"secondary",className:"text-xs",children:["+",s.fields.length-3," more"]})]})})]},s.id))}),e.jsx(pe,{children:e.jsx(M,{variant:"outline",onClick:()=>g(!1),children:"Close"})})]})]}),e.jsx(re,{open:ye,onOpenChange:Q,children:e.jsxs(me,{className:"max-w-3xl",children:[e.jsxs(xe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Schedule Report"]}),e.jsx(ue,{children:"Set up automatic report generation with custom frequency and email delivery."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"scheduleName",children:"Report Name"}),e.jsx(U,{id:"scheduleName",value:T.name,onChange:s=>O("name",s.target.value),placeholder:"e.g., Weekly Patient Report"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"scheduleDescription",children:"Description"}),e.jsx(U,{id:"scheduleDescription",value:T.description,onChange:s=>O("description",s.target.value),placeholder:"Brief description of the report"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Report Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Report Format"}),e.jsxs(z,{value:T.reportType,onValueChange:s=>O("reportType",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(f,{value:"pdf",children:"PDF Document"}),e.jsx(f,{value:"excel",children:"Excel Spreadsheet"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Report Category"}),e.jsxs(z,{value:T.reportCategory,onValueChange:s=>O("reportCategory",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(f,{value:"overview",children:"Overview"}),e.jsx(f,{value:"patients",children:"Patients"}),e.jsx(f,{value:"appointments",children:"Appointments"}),e.jsx(f,{value:"programs",children:"Health Programs"}),e.jsx(f,{value:"services",children:"Services"}),e.jsx(f,{value:"staff",children:"Staff"}),e.jsx(f,{value:"medical",children:"Medical Records"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Schedule Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Frequency"}),e.jsxs(z,{value:T.frequency,onValueChange:s=>O("frequency",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(f,{value:"daily",children:"Daily"}),e.jsx(f,{value:"weekly",children:"Weekly"}),e.jsx(f,{value:"monthly",children:"Monthly"}),e.jsx(f,{value:"quarterly",children:"Quarterly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Time"}),e.jsx(U,{type:"time",value:T.time,onChange:s=>O("time",s.target.value)})]})]}),T.frequency==="weekly"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Day of Week"}),e.jsxs(z,{value:T.dayOfWeek,onValueChange:s=>O("dayOfWeek",s),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsxs(q,{children:[e.jsx(f,{value:"monday",children:"Monday"}),e.jsx(f,{value:"tuesday",children:"Tuesday"}),e.jsx(f,{value:"wednesday",children:"Wednesday"}),e.jsx(f,{value:"thursday",children:"Thursday"}),e.jsx(f,{value:"friday",children:"Friday"}),e.jsx(f,{value:"saturday",children:"Saturday"}),e.jsx(f,{value:"sunday",children:"Sunday"})]})]})]}),T.frequency==="monthly"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Day of Month"}),e.jsxs(z,{value:T.dayOfMonth.toString(),onValueChange:s=>O("dayOfMonth",parseInt(s)),children:[e.jsx(B,{children:e.jsx(H,{})}),e.jsx(q,{children:Array.from({length:28},(s,l)=>l+1).map(s=>e.jsx(f,{value:s.toString(),children:s},s))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Email Configuration"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"emailRecipients",children:"Email Recipients"}),e.jsx(U,{id:"emailRecipients",value:T.emailRecipients,onChange:s=>O("emailRecipients",s.target.value),placeholder:"admin@example.com, manager@example.com"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Separate multiple emails with commas"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{id:"isActive",checked:T.isActive,onCheckedChange:s=>O("isActive",s)}),e.jsx(w,{htmlFor:"isActive",children:"Active Schedule"})]})]}),e.jsxs(pe,{children:[e.jsx(M,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),e.jsx(M,{onClick:ls,disabled:se,children:se?"Scheduling...":"Schedule Report"})]})]})}),e.jsxs(M,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ne("pdf"),children:[e.jsx(Cs,{className:"h-4 w-4"}),e.jsx("span",{children:"Quick PDF"})]}),e.jsxs(M,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ne("excel"),children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Quick Excel"})]}),e.jsxs(z,{value:o,onValueChange:rs,children:[e.jsx(B,{className:"w-[180px]",children:e.jsx(H,{placeholder:"Select period"})}),e.jsxs(q,{children:[e.jsx(f,{value:"today",children:"Today"}),e.jsx(f,{value:"thisWeek",children:"This Week"}),e.jsx(f,{value:"thisMonth",children:"This Month"}),e.jsx(f,{value:"lastMonth",children:"Last Month"}),e.jsx(f,{value:"thisYear",children:"This Year"})]})]})]})]}),e.jsxs(us,{defaultValue:"overview",className:"w-full",children:[e.jsxs(ps,{className:"mb-6",children:[e.jsx(L,{value:"overview",children:"Overview"}),e.jsx(L,{value:"patients",children:"Patients"}),e.jsx(L,{value:"appointments",children:"Appointments"}),e.jsx(L,{value:"programs",children:"Health Programs"}),e.jsx(L,{value:"services",children:"Services"}),e.jsx(L,{value:"staff",children:"Staff"}),e.jsx(L,{value:"medical",children:"Medical Records"}),e.jsx(L,{value:"scheduled",children:"Scheduled Reports"})]}),e.jsxs(W,{value:"overview",className:"space-y-6",children:[e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(v,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Patients"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:c?.total||0}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[c?.newInPeriod||0," new in period"]})]}),e.jsx(ws,{className:"h-12 w-12 text-blue-500"})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Appointments"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:a?.total||0}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[a?.completionRate||0,"% completion rate"]})]}),e.jsx(ne,{className:"h-12 w-12 text-green-500"})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Health Programs"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:r?.activePrograms||0}),e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[r?.totalRegistrations||0," enrollments"]})]}),e.jsx(vs,{className:"h-12 w-12 text-purple-500"})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Active Services"}),e.jsx("p",{className:"text-3xl font-bold text-orange-900",children:d?.activeServices||0}),e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[d?.activeSubServices||0," sub-services"]})]}),e.jsx(Ss,{className:"h-12 w-12 text-orange-500"})]})})})]}),e.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(v,{children:[e.jsx(S,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Patient Registration Trends"]})}),e.jsx(y,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ks,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Monthly Registration Trend"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:c?.monthlyTrend?`${Object.keys(c.monthlyTrend).length} months of data`:"No trend data available"}),c?.growthRate&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[c.growthRate>=0?e.jsx(we,{className:"h-4 w-4 text-green-500"}):e.jsx(Rs,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{className:`text-sm font-medium ${c.growthRate>=0?"text-green-600":"text-red-600"}`,children:[c.growthRate>=0?"+":"",c.growthRate,"% growth"]})]})]})})})]})}),e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(v,{children:[e.jsx(S,{className:"pb-3",children:e.jsx(k,{className:"text-lg",children:"Patient Demographics"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Male"}),e.jsx(P,{variant:"secondary",children:c?.demographics?.male||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Female"}),e.jsx(P,{variant:"secondary",children:c?.demographics?.female||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Other"}),e.jsx(P,{variant:"secondary",children:c?.demographics?.other||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(S,{className:"pb-3",children:e.jsx(k,{className:"text-lg",children:"Appointment Status"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:a?.statusDistribution?Object.entries(a.statusDistribution).map(([s,l])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[as(s),e.jsx("span",{className:"text-sm text-gray-600 capitalize",children:s})]}),e.jsx(P,{className:ts(s),children:l})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No appointment data"})})})]}),e.jsxs(v,{children:[e.jsx(S,{className:"pb-3",children:e.jsx(k,{className:"text-lg",children:"Staff Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Doctors"}),e.jsx(P,{variant:"secondary",children:n?.staffCounts?.doctors||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pharmacists"}),e.jsx(P,{variant:"secondary",children:n?.staffCounts?.pharmacists||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Admins"}),e.jsx(P,{variant:"secondary",children:n?.staffCounts?.admins||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active Staff"}),e.jsx(P,{className:"bg-green-100 text-green-800",children:n?.activeStaff||0})]})]})})]})]})]}),e.jsx(W,{value:"patients",className:"space-y-6",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Patient Demographics"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Patients"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:c?.total||0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c?.demographics?.male||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Male"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-pink-600",children:c?.demographics?.female||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Female"})]})]})]})})]}),e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Age Distribution"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:c?.ageGroups?Object.entries(c.ageGroups).map(([s,l])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:l})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No age data available"})})})]})]})}),e.jsx(W,{value:"appointments",className:"space-y-6",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Appointment Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Appointments"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:a?.total||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Completed"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:a?.completed||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Completion Rate"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[a?.completionRate||0,"%"]})]})]})})]}),e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Service Distribution"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:a?.serviceDistribution?Object.entries(a.serviceDistribution).map(([s,l])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:l})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No service data available"})})})]})]})}),e.jsx(W,{value:"programs",className:"space-y-6",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Program Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Programs"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:r?.totalPrograms||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Programs"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:r?.activePrograms||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Enrollments"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:r?.totalRegistrations||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Enrollment by Program"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:r?.enrollmentTrend?Object.entries(r.enrollmentTrend).map(([s,l])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:l})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No enrollment data available"})})})]})]})}),e.jsx(W,{value:"services",className:"space-y-6",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Service Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Services"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:d?.totalServices||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Services"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:d?.activeServices||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Sub-services"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:d?.totalSubServices||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Popular Services"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:d?.popularServices?.length>0?d.popularServices.map((s,l)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.servicename}),e.jsx(P,{variant:"outline",children:s.count})]},l)):e.jsx("p",{className:"text-sm text-gray-500",children:"No service usage data available"})})})]})]})}),e.jsx(W,{value:"staff",className:"space-y-6",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Staff Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Staff"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:(n?.staffCounts?.doctors||0)+(n?.staffCounts?.pharmacists||0)+(n?.staffCounts?.admins||0)})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:n?.staffCounts?.doctors||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Doctors"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:n?.staffCounts?.pharmacists||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Pharmacists"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-purple-600",children:n?.staffCounts?.admins||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Admins"})]})]})]})})]}),e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Staff Status"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Active Staff"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:n?.activeStaff||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Inactive Staff"}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:n?.inactiveStaff||0})]})]})})]})]})}),e.jsx(W,{value:"medical",className:"space-y-6",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Medical Records Overview"})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Records"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:m?.totalRecords||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Records This Period"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:m?.recordsInPeriod||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Prescriptions"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:m?.totalPrescriptions||0})]})]})})]}),e.jsxs(v,{children:[e.jsx(S,{children:e.jsx(k,{children:"Common Diagnoses"})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-3",children:m?.commonDiagnoses?Object.entries(m.commonDiagnoses).slice(0,5).map(([s,l])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx(P,{variant:"outline",children:l})]},s)):e.jsx("p",{className:"text-sm text-gray-500",children:"No diagnosis data available"})})})]})]})}),e.jsx(W,{value:"scheduled",className:"space-y-6",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scheduled Reports"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your automated report generation schedules"})]}),e.jsxs(M,{onClick:()=>Q(!0),className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"Schedule New Report"]})]}),e.jsx("div",{className:"grid gap-4",children:be.length>0?be.map(s=>e.jsx(v,{className:"hover:shadow-md transition-shadow",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx(P,{className:s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:s.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.reportType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Category:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.reportCategory})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Frequency:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.frequency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Time:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.time})]})]}),s.emailRecipients&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Recipients:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s.emailRecipients})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>os(s.id,!s.isActive),className:s.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700",children:s.isActive?"Deactivate":"Activate"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>ds(s.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]})})},s.id)):e.jsx(v,{children:e.jsxs(y,{className:"p-12 text-center",children:[e.jsx(ne,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Scheduled Reports"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't scheduled any reports yet. Create your first scheduled report to get started."}),e.jsxs(M,{onClick:()=>Q(!0),className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"Schedule Your First Report"]})]})})})]})})]})]})})};export{Na as default};
