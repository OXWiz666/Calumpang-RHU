import{j as e,a as Q}from"./app-Bz1k8fwb.js";import{r as n,R as W}from"./vendor-DkBadjUr.js";import{S as z,A as G}from"./AdminLayout-BoF7Vf7c.js";import{C as H,a as E,b as $,c as q}from"./card-5zXl5jGJ.js";import{B as w}from"./badge-4-rsJP2l.js";import{B as f}from"./button-BuxGVvE1.js";import{m as x}from"./proxy-Ciz88pZ8.js";import{T as L}from"./triangle-alert-BslwqqvL.js";import{c as k}from"./createLucideIcon-BKWaAi2G.js";import{X as R}from"./x-b8JahagL.js";import{T as P}from"./trash-2-DJ5zXW8D.js";import{B as M}from"./pusher-QUfwrhWv.js";import{R as U}from"./refresh-cw-D3hZ7e_O.js";import{P as B}from"./package-L7rgkkVO.js";import{C as I}from"./clock-D6yUBuGv.js";import{T as J}from"./trending-up-BFbz08q-.js";import{S as Y}from"./sparkles-CA5PlEkf.js";import{A as O}from"./activity-C-sjEU5t.js";import{U as Z}from"./users-D4PhO1-D.js";import{C as ee}from"./chart-pie-D6yKCg1t.js";import{C as V}from"./circle-check-big-BQVCuGNJ.js";import{T as te}from"./trending-down-DADUT3dQ.js";import{I as se}from"./info-BVLwYIm5.js";import{C as re}from"./circle-x-Cf2XhiVO.js";import"./pusher-DVtoYAOu.js";import"./index-Sbype2of.js";import"./avatar-B9dC9zW4.js";import"./react-icons.esm-CaEbm_m1.js";import"./separator-CSpA6dDL.js";import"./index-COj9XpJO.js";import"./index-C2K23d2_.js";import"./select-CzkTuhTK.js";import"./index-C9cWDRNv.js";import"./index-CVzUxLnK.js";import"./tslib.es6-M_FJ09fS.js";import"./index-zhi7iPPU.js";import"./index-2C8mQqet.js";import"./index-DqxisvwK.js";import"./index-DFHF6qpL.js";import"./moment-C5S46NFB.js";import"./dialog-Nua2NsPT.js";import"./input-Cxfo37eO.js";import"./label-DZLKBD76.js";import"./calendar-COLlMSdc.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput--rawIXeC.js";import"./settings-D_MeB5oN.js";import"./house-CSq-WFst.js";import"./calendar-D9APQM2e.js";import"./file-text-YZXa1D2L.js";import"./pill-DIGxtF-3.js";import"./index-9PdYsA3y.js";import"./autoprefixer-C7r7RnUw.js";import"./unit-CopbpOEH.js";import"./Toaster-BW5e81vo.js";import"./toast-C0hnCHvT.js";import"./use-toast-Dm0PN6fH.js";import"./layers-OK8ayVTK.js";import"./chart-column-yMaSKbSU.js";import"./printer-CfgcPaUh.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ae=k("ArrowDownRight",ie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],le=k("ArrowUpRight",oe);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],ce=k("BellOff",ne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],me=k("TestTube",de);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],X=k("Volume2",he);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],K=k("VolumeX",xe);class ue{constructor(){this.audioContext=null,this.isAudioEnabled=!0,this.alertHistory=[],this.maxHistorySize=50,this.initAudio()}initAudio(){try{typeof window<"u"&&(window.AudioContext||window.webkitAudioContext)?this.audioContext=new(window.AudioContext||window.webkitAudioContext):this.isAudioEnabled=!1}catch(s){console.warn("Audio context not supported:",s),this.isAudioEnabled=!1}}playAlertSound(s){if(!(!this.isAudioEnabled||!this.audioContext))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const r=this.getSoundConfig(s);this.playSoundPattern(r)}catch(r){console.warn("Audio alert failed:",r)}}playSoundPattern(s){if(!s.pattern||!Array.isArray(s.pattern))return;let r=this.audioContext.currentTime;s.pattern.forEach((a,c)=>{if(a.frequency>0){const o=this.audioContext.createOscillator(),m=this.audioContext.createOscillator(),u=this.audioContext.createGain(),h=this.audioContext.createBiquadFilter();o.connect(h),m.connect(h),h.connect(u),u.connect(this.audioContext.destination),o.frequency.setValueAtTime(a.frequency,r),o.type="square",m.frequency.setValueAtTime(a.frequency*1.5,r),m.type="sawtooth",h.type="lowpass",h.frequency.setValueAtTime(a.frequency*2,r),h.Q.setValueAtTime(1,r),u.gain.setValueAtTime(0,r),u.gain.linearRampToValueAtTime(a.volume*.3,r+.02),u.gain.linearRampToValueAtTime(a.volume,r+.05),u.gain.linearRampToValueAtTime(a.volume,r+a.duration-.05),u.gain.linearRampToValueAtTime(0,r+a.duration),o.start(r),o.stop(r+a.duration),m.start(r),m.stop(r+a.duration)}r+=a.duration})}getSoundConfig(s){const r={out:{pattern:[{frequency:1200,duration:.15,volume:.45},{frequency:0,duration:.08,volume:0},{frequency:1200,duration:.15,volume:.45},{frequency:0,duration:.08,volume:0},{frequency:1200,duration:.15,volume:.45},{frequency:0,duration:.2,volume:0},{frequency:1e3,duration:.2,volume:.4},{frequency:0,duration:.1,volume:0},{frequency:1e3,duration:.2,volume:.4}],totalDuration:1.2},critical:{pattern:[{frequency:900,duration:.2,volume:.4},{frequency:0,duration:.1,volume:0},{frequency:900,duration:.2,volume:.4},{frequency:0,duration:.15,volume:0},{frequency:800,duration:.15,volume:.35}],totalDuration:.8},low:{pattern:[{frequency:700,duration:.12,volume:.3},{frequency:0,duration:.08,volume:0},{frequency:700,duration:.12,volume:.3}],totalDuration:.32},minimum:{pattern:[{frequency:600,duration:.15,volume:.25}],totalDuration:.15}};return r[s]||r.low}showNotification(s,r,a="info"){if(!("Notification"in window)){console.warn("Browser notifications not supported");return}Notification.permission==="granted"?this.createNotification(s,r,a):Notification.permission!=="denied"&&Notification.requestPermission().then(c=>{c==="granted"&&this.createNotification(s,r,a)})}createNotification(s,r,a){const c=new Notification(s,{body:r,icon:"/favicon.ico",badge:"/favicon.ico",tag:"stock-alert",requireInteraction:a==="critical"||a==="out",silent:!1});a!=="critical"&&a!=="out"&&setTimeout(()=>c.close(),5e3),this.addToHistory({title:s,message:r,level:a,timestamp:new Date,type:"notification"})}checkStockLevel(s,r,a,c){const o=[];return s===0?o.push({level:"out",title:"ðŸš¨ OUT OF STOCK",message:`${c} is completely out of stock!`,priority:"critical"}):s<r?o.push({level:"critical",title:"âš ï¸ CRITICAL STOCK",message:`${c} is below minimum stock (${s}/${r})`,priority:"high"}):s===r?o.push({level:"minimum",title:"ðŸ“‰ AT MINIMUM STOCK",message:`${c} is at minimum stock level (${s})`,priority:"medium"}):s<=r*1.2&&o.push({level:"low",title:"ðŸ“Š LOW STOCK",message:`${c} is approaching minimum stock (${s}/${r})`,priority:"low"}),o.forEach(m=>{this.triggerAlert(m)}),o}triggerAlert(s){this.playAlertSound(s.level),this.showNotification(s.title,s.message,s.level),this.addToHistory(s),console.warn(`Stock Alert: ${s.title} - ${s.message}`)}addToHistory(s){this.alertHistory.unshift(s),this.alertHistory.length>this.maxHistorySize&&(this.alertHistory=this.alertHistory.slice(0,this.maxHistorySize))}getAlertHistory(){return this.alertHistory}clearAlertHistory(){this.alertHistory=[]}setAudioEnabled(s){this.isAudioEnabled=s}isAudioAvailable(){return this.isAudioEnabled&&this.audioContext!==null}testAlertSounds(){if(!this.isAudioAvailable()){console.warn("Audio not available for testing");return}console.log("Testing alert sounds..."),setTimeout(()=>{console.log("Testing minimum stock alert..."),this.playAlertSound("minimum")},500),setTimeout(()=>{console.log("Testing low stock alert..."),this.playAlertSound("low")},1500),setTimeout(()=>{console.log("Testing critical stock alert..."),this.playAlertSound("critical")},2500),setTimeout(()=>{console.log("Testing out of stock alert..."),this.playAlertSound("out")},3500)}playCustomAlert(s=800,r=.3,a=.3,c="single"){if(this.isAudioAvailable())try{this.audioContext.state==="suspended"&&this.audioContext.resume();const o={pattern:c==="single"?[{frequency:s,duration:r,volume:a}]:c==="double"?[{frequency:s,duration:r*.5,volume:a},{frequency:0,duration:.1,volume:0},{frequency:s,duration:r*.5,volume:a}]:c==="triple"?[{frequency:s,duration:r*.3,volume:a},{frequency:0,duration:.1,volume:0},{frequency:s,duration:r*.3,volume:a},{frequency:0,duration:.1,volume:0},{frequency:s,duration:r*.3,volume:a}]:[{frequency:s,duration:r,volume:a}]};this.playSoundPattern(o)}catch(o){console.warn("Custom alert failed:",o)}}}const d=new ue;typeof window<"u"&&(window.stockAlertSystem=d);const F=()=>{const[p,s]=n.useState([]),[r,a]=n.useState(!0),[c,o]=n.useState([]);n.useEffect(()=>{try{d&&typeof d.getAlertHistory=="function"&&o(d.getAlertHistory())}catch(i){console.warn("Failed to initialize stock alert system:",i)}},[]);const m=n.useCallback(i=>{try{if(!d||typeof d.checkStockLevel!="function")return[];const l=i.stock?.stocks||0,j=i.minimum_stock||0,t=i.maximum_stock||0,g=i.name,T=d.checkStockLevel(l,j,t,g);return T.length>0&&s(D=>[...D,...T]),T}catch(l){return console.warn("Error checking stock level:",l),[]}},[]),u=n.useCallback(i=>{const l=[];return i.forEach(j=>{const t=m(j);l.push(...t)}),l},[m]),h=n.useCallback(()=>{s([])},[]),C=n.useCallback(i=>{s(l=>l.filter((j,t)=>t!==i))},[]),N=n.useCallback(()=>{const i=!r;a(i);try{d&&typeof d.setAudioEnabled=="function"&&d.setAudioEnabled(i)}catch(l){console.warn("Error toggling audio:",l)}},[r]),y=n.useCallback(()=>{try{if(d&&typeof d.getAlertHistory=="function"){const i=d.getAlertHistory();return o(i),i}return[]}catch(i){return console.warn("Error getting alert history:",i),[]}},[]),v=n.useCallback(()=>{try{d&&typeof d.clearAlertHistory=="function"&&d.clearAlertHistory(),o([])}catch(i){console.warn("Error clearing alert history:",i)}},[]),A=n.useCallback((i,l)=>i===0?"out":i<l?"critical":i===l?"minimum":i<=l*1.2?"low":"healthy",[]),b=n.useCallback(i=>{const l={out:"text-red-600 bg-red-100",critical:"text-red-600 bg-red-50",minimum:"text-yellow-600 bg-yellow-50",low:"text-orange-600 bg-orange-50",healthy:"text-green-600 bg-green-50"};return l[i]||l.healthy},[]),S=n.useCallback(i=>{const l={out:"ðŸš¨",critical:"âš ï¸",minimum:"ðŸ“‰",low:"ðŸ“Š",healthy:"âœ…"};return l[i]||l.healthy},[]);return{alerts:p,alertHistory:c,isAudioEnabled:r,checkStockLevel:m,checkMultipleItems:u,clearAlerts:h,removeAlert:C,toggleAudio:N,getAlertHistory:y,clearAlertHistory:v,getStockLevelStatus:A,getStockLevelColor:b,getStockLevelIcon:S}},ge=({isOpen:p,onClose:s})=>{const{alerts:r,alertHistory:a,isAudioEnabled:c,clearAlerts:o,removeAlert:m,toggleAudio:u,getAlertHistory:h,clearAlertHistory:C,getStockLevelIcon:N}=F(),[y,v]=n.useState("current");n.useEffect(()=>{p&&h()},[p,h]);const A=i=>{const l={critical:"bg-red-100 border-red-200 text-red-800",high:"bg-orange-100 border-orange-200 text-orange-800",medium:"bg-yellow-100 border-yellow-200 text-yellow-800",low:"bg-blue-100 border-blue-200 text-blue-800"};return l[i]||l.low},b=i=>new Date(i).toLocaleTimeString(),S=i=>new Date(i).toLocaleDateString();return p?e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs(x.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 text-white p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"h-8 w-8"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Stock Alert Center"}),e.jsx("p",{className:"text-red-100 text-sm",children:"Monitor critical stock levels"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(f,{variant:"outline",size:"sm",onClick:u,className:"bg-white bg-opacity-20 border-white text-white hover:bg-white hover:text-red-600",children:[c?e.jsx(X,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"}),c?"Sound On":"Sound Off"]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>{window.stockAlertSystem&&window.stockAlertSystem.testAlertSounds()},className:"bg-white bg-opacity-20 border-white text-white hover:bg-white hover:text-blue-600",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Test Sounds"]}),e.jsx(f,{variant:"ghost",size:"sm",onClick:s,className:"text-white hover:bg-white hover:bg-opacity-20",children:e.jsx(R,{className:"h-5 w-5"})})]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex",children:[e.jsxs("button",{onClick:()=>v("current"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${y==="current"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Current Alerts (",r.length,")"]}),e.jsxs("button",{onClick:()=>v("history"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${y==="history"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Alert History (",a.length,")"]})]})}),e.jsxs("div",{className:"p-6",children:[y==="current"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Active Stock Alerts"}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(f,{variant:"outline",size:"sm",onClick:o,className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Clear All"]})})]}),e.jsx(z,{className:"h-96",children:r.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(M,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"No Active Alerts"}),e.jsx("p",{className:"text-sm",children:"All stock levels are healthy"})]}):e.jsx("div",{className:"space-y-3",children:r.map((i,l)=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 border rounded-lg bg-white shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:N(i.level)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:i.title}),e.jsx(w,{className:A(i.priority),children:i.priority})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:i.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:b(i.timestamp)})]})]}),e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>m(l),className:"text-gray-400 hover:text-red-600",children:e.jsx(R,{className:"h-4 w-4"})})]})},l))})})]}),y==="history"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Alert History"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(f,{variant:"outline",size:"sm",onClick:h,className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:C,className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Clear History"]})]})]}),e.jsx(z,{className:"h-96",children:a.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(ce,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"No Alert History"}),e.jsx("p",{className:"text-sm",children:"Alert history will appear here"})]}):e.jsx("div",{className:"space-y-3",children:a.map((i,l)=>e.jsx("div",{className:"p-4 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-xl",children:N(i.level)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:i.title}),e.jsx(w,{className:A(i.priority),children:i.priority})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:i.message}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[S(i.timestamp)," at ",b(i.timestamp)]})]})]})},l))})})]})]})]})}):null};function At({stats:p={},trendChanges:s={},categoryBreakdown:r=[],systemAlerts:a=[],recentActivities:c=[],inventoryItems:o=[]}){const{auth:m}=Q().props,u=m.user,[h,C]=n.useState(new Date),[N,y]=n.useState(!1),{alerts:v,isAudioEnabled:A,checkMultipleItems:b,toggleAudio:S}=F();n.useEffect(()=>{const t=setInterval(()=>{C(new Date)},1e3);return()=>clearInterval(t)},[]),n.useEffect(()=>{o&&o.length>0&&b(o)},[o,b]),n.useEffect(()=>{const t=setInterval(()=>{o&&o.length>0&&b(o)},3e5);return()=>clearInterval(t)},[o,b]),W.useEffect(()=>{const t=document.createElement("style");return t.textContent=`
            .scrollbar-thin {
                scrollbar-width: thin;
            }
            .scrollbar-thin::-webkit-scrollbar {
                width: 6px;
            }
            .scrollbar-thin::-webkit-scrollbar-track {
                background: #f1f5f9;
                border-radius: 3px;
            }
            .scrollbar-thin::-webkit-scrollbar-thumb {
                background: #cbd5e1;
                border-radius: 3px;
            }
            .scrollbar-thin::-webkit-scrollbar-thumb:hover {
                background: #94a3b8;
            }
        `,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[]);const i=[{title:"Total Items",value:p.totalItems?.toLocaleString()||"0",change:`${s.totalItemsChange>=0?"+":""}${s.totalItemsChange||0}%`,changeType:s.totalItemsChange>=0?"positive":"negative",icon:B,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Low Stock Items",value:p.lowStockItems?.toString()||"0",change:`${s.lowStockChange>=0?"+":""}${s.lowStockChange||0}%`,changeType:s.lowStockChange>=0?"negative":"positive",icon:L,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Expiring Soon Items",value:p.expiringSoon?.toString()||"0",change:`${s.expiringSoonChange>=0?"+":""}${s.expiringSoonChange||0}%`,changeType:s.expiringSoonChange>=0?"positive":"negative",icon:I,color:"text-red-600",bgColor:"bg-red-50"},{title:"Monthly Dispensed",value:p.monthlyDispensed?.toLocaleString()||"0",change:`${s.monthlyDispensedChange>=0?"+":""}${s.monthlyDispensedChange||0}%`,changeType:s.monthlyDispensedChange>=0?"positive":"negative",icon:J,color:"text-green-600",bgColor:"bg-green-50"}],l=t=>{switch(t){case"Incoming":return e.jsx(B,{className:"h-4 w-4 text-green-600"});case"Outgoing":return e.jsx(te,{className:"h-4 w-4 text-red-600"});case"Dispense":return e.jsx(V,{className:"h-4 w-4 text-green-600"});default:return e.jsx(O,{className:"h-4 w-4 text-gray-600"})}},j=t=>{switch(t){case"Incoming":return"bg-green-50 border-green-200";case"Outgoing":return"bg-red-50 border-red-200";case"Dispense":return"bg-green-50 border-green-200";default:return"bg-gray-50 border-gray-200"}};return e.jsxs(G,{header:"Pharmacist Dashboard",children:[e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-white/10 backdrop-blur-sm",children:e.jsx(Y,{className:"h-8 w-8 text-yellow-300"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",u?.firstname,"! ðŸ‘‹"]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Here's your pharmacy dashboard overview"})]})]}),e.jsx("div",{className:"hidden md:block text-right",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(f,{onClick:()=>y(!0),className:"bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20 transition-all duration-300",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Stock Alerts",v.length>0&&e.jsx(w,{className:"ml-2 bg-red-500 text-white text-xs",children:v.length})]}),v.length>0&&e.jsx("div",{className:"absolute -top-2 -right-2 h-4 w-4 bg-red-500 rounded-full animate-pulse"})]}),e.jsx(f,{onClick:S,variant:"ghost",size:"sm",className:"bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20",children:A?e.jsx(X,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"})}),e.jsxs("div",{className:"rounded-xl bg-white/10 backdrop-blur-sm p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{className:"h-4 w-4 text-blue-100"}),e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Current Date & Time"})]}),e.jsx("p",{className:"text-white text-lg font-bold",children:h.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("p",{className:"text-blue-100 text-sm font-semibold",children:h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]})]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((t,g)=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:g*.1},whileHover:{y:-5,scale:1.02},className:"group",children:e.jsxs(H,{className:"relative overflow-hidden border-0 bg-white/80 backdrop-blur-sm shadow-lg hover:shadow-2xl transition-all duration-300 group-hover:shadow-blue-500/10",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.bgColor} opacity-5 group-hover:opacity-10 transition-opacity duration-300`}),e.jsx(E,{className:"pb-3 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[e.jsx(t.icon,{className:"h-4 w-4"}),t.title]}),e.jsx("div",{className:`p-2 rounded-xl ${t.bgColor} group-hover:scale-110 transition-transform duration-300`,children:e.jsx(t.icon,{className:`h-4 w-4 ${t.color}`})})]})}),e.jsxs(q,{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 group-hover:text-gray-700 transition-colors",children:t.value}),e.jsx("div",{className:"flex items-center gap-1",children:t.changeType==="positive"?e.jsx(le,{className:"h-4 w-4 text-green-500"}):e.jsx(ae,{className:"h-4 w-4 text-red-500"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{variant:t.changeType==="positive"?"default":"destructive",className:`text-xs font-medium px-2 py-1 ${t.changeType==="positive"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:t.change}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"vs last month"})]})]})]})},t.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"lg:col-span-2",children:e.jsxs(H,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(E,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{className:"flex items-center gap-3 text-xl font-bold text-gray-800",children:[e.jsx("div",{className:"p-2 rounded-xl bg-blue-100",children:e.jsx(O,{className:"h-6 w-6 text-blue-600"})}),"Recent Activities"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Live"})]})]})}),e.jsx(q,{children:e.jsx("div",{className:"max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 space-y-3 pr-2",children:c.map((t,g)=>e.jsx(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},className:`group p-4 rounded-xl border-2 transition-all duration-300 hover:shadow-md ${j(t.type)} hover:scale-[1.02]`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${j(t.type)} group-hover:scale-110 transition-transform duration-300`,children:l(t.type)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:t.item}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Quantity: ",t.quantity]}),e.jsx(w,{className:`text-xs ${t.type==="Dispense"||t.type==="Incoming"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.type})]}),t.type==="Dispense"&&t.patient_name&&e.jsxs("div",{className:"mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Patient: ",t.patient_name]}),t.prescription_number&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["RX: ",t.prescription_number]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t.timestamp}),e.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx(Z,{className:"h-3 w-3"}),t.user]})]})]})},t.id))})})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:e.jsxs(H,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(E,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{className:"flex items-center gap-3 text-xl font-bold text-gray-800",children:[e.jsx("div",{className:"p-2 rounded-xl bg-amber-100",children:e.jsx(M,{className:"h-6 w-6 text-amber-600"})}),"System Alerts"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-500",children:a.length})]})]})}),e.jsx(q,{className:"max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 pr-2",children:e.jsx("div",{className:"space-y-3",children:a.map((t,g)=>{const T=()=>{switch(t.type){case"warning":return e.jsx(L,{className:"h-5 w-5 text-amber-600"});case"error":return e.jsx(re,{className:"h-5 w-5 text-red-600"});case"success":return e.jsx(V,{className:"h-5 w-5 text-green-600"});case"info":default:return e.jsx(se,{className:"h-5 w-5 text-blue-600"})}},D=()=>{switch(t.priority){case"high":return e.jsx(w,{className:"bg-red-100 text-red-800 text-xs font-medium px-2 py-1",children:"High"});case"medium":return e.jsx(w,{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1",children:"Medium"});case"low":default:return e.jsx(w,{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1",children:"Low"})}},_=()=>{switch(t.type){case"warning":return"bg-amber-50 border-amber-200 hover:bg-amber-100";case"error":return"bg-red-50 border-red-200 hover:bg-red-100";case"success":return"bg-green-50 border-green-200 hover:bg-green-100";case"info":default:return"bg-blue-50 border-blue-200 hover:bg-blue-100"}};return e.jsx(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},className:`group p-4 rounded-xl border-2 transition-all duration-300 hover:shadow-md ${_()}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${_()} group-hover:scale-110 transition-transform duration-300`,children:T()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:t.title}),D()]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:t.message}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-3 w-3 text-gray-400"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:t.timestamp})]})]})]})},t.id)})})})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:e.jsxs(H,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(E,{className:"pb-3",children:e.jsxs($,{className:"flex items-center gap-3 text-lg font-bold text-gray-800",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:e.jsx(ee,{className:"h-5 w-5 text-purple-600"})}),"Category Breakdown"]})}),e.jsxs(q,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:r.map((t,g)=>e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},className:"group p-3 rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-lg shadow-sm",style:{backgroundColor:t.color}}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.count," items"]})]})]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[t.value,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${t.value}%`},transition:{duration:.8,delay:.8+g*.1},className:"h-full rounded-full",style:{backgroundColor:t.color}})})]},t.name))}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsx("div",{className:"flex h-4 bg-white rounded-full overflow-hidden shadow-inner",children:r.map((t,g)=>e.jsx(x.div,{initial:{width:0},animate:{width:`${t.value}%`},transition:{duration:.8,delay:.8+g*.1},className:"h-full relative group",style:{backgroundColor:t.color},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/20"})},t.name))})})]})]})})})]}),e.jsx(ge,{isOpen:N,onClose:()=>y(!1)})]})}export{At as default};
