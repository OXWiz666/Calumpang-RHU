import{r as c,j as t}from"./app-Cqf_3VlG.js";import{I as p}from"./input-jElnq54C.js";import{B as C}from"./button-B1zw6z2T.js";import{S as y}from"./search-C9Nlfot_.js";import"./createLucideIcon-CWnf4jFW.js";const N=({items:l,onSearch:i})=>{const[o,d]=c.useState(""),[u,m]=c.useState([]),[f,n]=c.useState(!1);c.useEffect(()=>{if(o.length>1){const e=l.map(r=>r.name),s=[...new Set(l.map(r=>r.category))],a=e.filter(r=>r.toLowerCase().includes(o.toLowerCase())),x=s.filter(r=>r.toLowerCase().includes(o.toLowerCase()));m([...a,...x]),n(!0)}else m([]),n(!1)},[o,l]);const h=()=>{const e=l.filter(s=>s.name.toLowerCase().includes(o.toLowerCase())||s.category.toLowerCase().includes(o.toLowerCase()));i(e),n(!1)},w=e=>{e.key==="Enter"&&h()},g=e=>{d(e),n(!1);const s=l.filter(a=>a.name===e||a.category===e);i(s.length>0?s:l.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.category.toLowerCase().includes(e.toLowerCase())))};return t.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[t.jsxs("div",{className:"flex",children:[t.jsx(p,{type:"text",placeholder:"Search by medicine name or category...",value:o,onChange:e=>d(e.target.value),onKeyDown:w,className:"flex-grow rounded-r-none focus-visible:ring-2 focus-visible:ring-primary"}),t.jsxs(C,{onClick:h,className:"rounded-l-none",children:[t.jsx(y,{className:"h-4 w-4 mr-2"}),"Search"]})]}),f&&u.length>0&&t.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-200 rounded-md shadow-lg mt-1 max-h-60 overflow-y-auto",children:u.map((e,s)=>t.jsx("div",{className:"px-4 py-2 hover:bg-muted cursor-pointer",onClick:()=>g(e),children:e},s))})]})};export{N as default};
