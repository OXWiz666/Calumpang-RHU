import{u as Ee,j as e,b as he}from"./app-DvzTb1d-.js";import{r as t}from"./vendor-DkBadjUr.js";import{A as rs}from"./AdminLayout-CXIYHGnl.js";import{I as n}from"./InputError-DCYj4gLY.js";import{B as o}from"./button-47s3lBi3.js";import{I as d}from"./input-DDJi3FM8.js";import"./avatar-Cix2nZWN.js";import{B as f}from"./badge-ujtcsAL2.js";import{C as j,a as ls,b as is,e as ns,c as b}from"./card-GHKwgKcH.js";import{T as cs,a as os,b as Y,c as p,d as ds,e as h}from"./table-BCJ6-Pnq.js";import{S as Z,a as ee,b as se,c as ae,d as m}from"./select-CSpEXVn8.js";import{D as ms,a as xs,b as hs,c as gs,d as Ie,e as te}from"./dropdown-menu-B34Q8fNE.js";import{D as re,f as ps,a as le,b as ie,c as ne,e as ce,d as ge}from"./dialog-8SfyJycJ.js";import{A as js,a as us,b as vs,c as Ns,d as fs,e as bs,f as ys,g as ws}from"./alert-dialog-B6Yc6aNa.js";import{m as T}from"./proxy-CBAJQos3.js";import{U as V}from"./users-D4PhO1-D.js";import{A as Me}from"./activity-C-sjEU5t.js";import{a as Le,A as Cs}from"./archive-BwGVl8jP.js";import{P as Ss}from"./plus-MavOGQlj.js";import{S as Ps}from"./search-Cye_TdpF.js";import{F as As}from"./filter-BAwJ6QQu.js";import{C as pe}from"./calendar-D9APQM2e.js";import{c as Ds}from"./createLucideIcon-BKWaAi2G.js";import{M as Oe}from"./map-pin-Dkn0BYKY.js";import{H as Ue}from"./hash-AgYeaIxt.js";import{U as je}from"./user-3RJR1iCA.js";import{E as _e}from"./eye-mxYijkrE.js";import{E as Ts}from"./ellipsis-gjrDGaHy.js";import{S as ks}from"./square-pen-Bb1JtfBr.js";import{P as Es}from"./phone-BScbSfjU.js";import{M as Is}from"./mail-BoTx8fKY.js";import{C as Ms}from"./chevron-left-B36-TXNE.js";import{C as Ls}from"./chevron-right-B3qqnx4D.js";import{T as Os}from"./trending-up-BFbz08q-.js";import{T as Us}from"./trending-down-DADUT3dQ.js";import"./pusher-DVtoYAOu.js";import"./index-B0V0_run.js";import"./separator-Dfzqgqit.js";import"./react-icons.esm-D375GP_T.js";import"./index-C_lbDeDs.js";import"./index-BPiQJxQx.js";import"./moment-C5S46NFB.js";import"./label-R0EfsqQy.js";import"./calendar-CxtSY9u7.js";import"./index-BrrdMiK3.js";import"./tslib.es6-M_FJ09fS.js";import"./index-BH0SfSsR.js";import"./index-gVt0622x.js";import"./format-Dp3w_Y3x.js";import"./isSameMonth-BOwz-_mK.js";import"./isBefore-Bnl9x5VB.js";import"./TextInput-C8wzEBC9.js";import"./x-b8JahagL.js";import"./settings-D_MeB5oN.js";import"./house-CSq-WFst.js";import"./file-text-YZXa1D2L.js";import"./pill-DIGxtF-3.js";import"./pusher-DJaEmQNE.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./circle-check-big-BQVCuGNJ.js";import"./index-0Bv2KamI.js";import"./autoprefixer-Dh8R2VBN.js";import"./unit-CopbpOEH.js";import"./Toaster-Di7RSnxc.js";import"./toast-oGnJUOQl.js";import"./index-zp7qHTo3.js";import"./index-kS5F-MhQ.js";import"./use-toast-Dm0PN6fH.js";import"./layers-OK8ayVTK.js";import"./chart-column-yMaSKbSU.js";import"./index-DqxisvwK.js";import"./index-DdDCsO9s.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],Fs=Ds("Clock3",_s),oe=({title:C,value:U,icon:x,change:D,description:_,iconBgColor:z="bg-blue-100",iconColor:R="text-blue-600",trend:k})=>e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(j,{className:"shadow-lg hover:shadow-xl transition-all duration-300 border-0 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/10 to-transparent rounded-full -translate-y-16 translate-x-16"}),e.jsxs(b,{className:"p-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:C}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:U}),_&&e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:_}),e.jsxs("div",{className:"flex items-center",children:[k==="up"?e.jsx(Os,{className:"h-4 w-4 text-green-500 mr-1"}):k==="down"?e.jsx(Us,{className:"h-4 w-4 text-red-500 mr-1"}):null,e.jsxs("span",{className:`text-sm font-semibold ${k==="up"?"text-green-600":k==="down"?"text-red-600":"text-gray-600"}`,children:[D?.value||U," total"]})]})]}),e.jsx("div",{className:`p-4 rounded-2xl ${z} shadow-lg`,children:e.jsx("div",{className:R,children:x})})]}),D&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"This month"}),e.jsxs(f,{variant:"default",className:"text-xs",children:[D.isPositive?"+":"",D.value,"%"]})]})})]})]})}),nt=({programs:C=[],doctors:U=[],flash:x,activePrograms:D=0,archivedPrograms:_=0,todayParticipants:z=0,totalParticipants:R=0})=>{const[k,$]=t.useState(C),[F,Fe]=t.useState(""),[q,Be]=t.useState("all"),[u,He]=t.useState({key:"name",direction:"ascending"}),[Ve,ue]=t.useState(!1),[ze,B]=t.useState(!1),[Re,G]=t.useState(!1),[a,E]=t.useState(null),[ve,I]=t.useState(x?.success||""),[Ne,M]=t.useState(x?.error||""),[L,v]=t.useState(!1),[S,J]=t.useState({isOpen:!1,type:null,programId:null}),[K,Q]=t.useState(1),[de]=t.useState(10),[y,H]=t.useState([]),[Bs,Hs]=t.useState(!1),[$e,fe]=t.useState(!1),[be,qe]=t.useState([]),[Ge,ye]=t.useState(!1),[g,Je]=t.useState({});t.useEffect(()=>{C&&Array.isArray(C)&&(console.log("Programs updated from props:",C),$(C))},[C]),t.useEffect(()=>{if(x?.success){I(x.success);const s=setTimeout(()=>I(""),5e3);return()=>clearTimeout(s)}if(x?.error){M(x.error);const s=setTimeout(()=>M(""),5e3);return()=>clearTimeout(s)}x?.programs&&Array.isArray(x.programs)&&(console.log("Programs updated from flash:",x.programs),$(x.programs))},[x]);const W=[...k.filter(s=>{const l=s.name.toLowerCase().includes(F.toLowerCase())||s.description.toLowerCase().includes(F.toLowerCase())||s.coordinator&&s.coordinator.toLowerCase().includes(F.toLowerCase()),r=q==="all"||s.status===q;return l&&r})].sort((s,l)=>s[u.key]<l[u.key]?u.direction==="ascending"?-1:1:s[u.key]>l[u.key]?u.direction==="ascending"?1:-1:0),X=Math.ceil(W.length/de),me=(K-1)*de,we=me+de,O=W.slice(me,we);t.useEffect(()=>{Q(1)},[F,q]);const Ke=s=>{let l="ascending";u.key===s&&u.direction==="ascending"&&(l="descending"),He({key:s,direction:l})},Qe=()=>{y.length===O.length?H([]):H(O.map(s=>s.id))},We=s=>{H(l=>l.includes(s)?l.filter(r=>r!==s):[...l,s])},Ce=async(s,l=1)=>{ye(!0);try{const r=await he.get(`/admin/programs/${s}/patients`,{params:{page:l,per_page:10}});qe(r.data.participants),Je(r.data.pagination)}catch(r){console.error("Error fetching program patients:",r)}finally{ye(!1)}},Se=s=>{a&&Ce(a.id,s)},Xe=async()=>{try{v(!0);const s=y.map(l=>he.post("/admin/programs/archive",{program_id:l}));await Promise.all(s),$(l=>l.map(r=>y.includes(r.id)?{...r,status:"Archived"}:r)),H([]),I(`Successfully archived ${y.length} programs`),setTimeout(()=>I(""),3e3)}catch(s){console.error("Error archiving programs:",s),M("Failed to archive programs"),setTimeout(()=>M(""),3e3)}finally{v(!1)}},Ye=async(s,l)=>{v(!0);try{const r=l?"/admin/programs/unarchive":"/admin/programs/archive",xe=await he.post(r,{program_id:s});xe.data.programs&&($(xe.data.programs),I(xe.data.message),setTimeout(()=>I(""),3e3))}catch(r){console.error("Error archiving/unarchiving program:",r),M(r.response?.data?.message||"An error occurred while updating the program"),setTimeout(()=>M(""),3e3)}finally{v(!1)}},{data:P,setData:A,post:Ze,processing:Pe,errors:c,reset:es}=Ee({programname:"",description:"",date:"",starttime:"",endtime:"",location:"",slots:"",coordinatorid:"",status:"Available"}),{data:w,setData:N,put:ss,processing:Ae,errors:i,reset:De}=Ee({programname:"",description:"",date:"",starttime:"",endtime:"",location:"",slots:"",coordinatorid:"",status:"Available"}),as=s=>{s.preventDefault(),v(!0),Ze(route("admin.programs.create"),{preserveScroll:!0,onSuccess:()=>{es(),ue(!1),v(!1)},onError:()=>{v(!1)}})},Te=s=>{E(s),N({programname:s.name,description:s.description,date:s.date,starttime:s.startTime,endtime:s.endTime,location:s.location,slots:s.totalSlots,coordinatorid:s.coordinatorId?.toString()||"",status:s.status}),G(!0)},ts=s=>{s.preventDefault(),v(!0),ss(route("admin.programs.update",a.id),{preserveScroll:!0,onSuccess:()=>{De(),G(!1),v(!1),E(null)},onError:()=>{v(!1)}})},ke=s=>{switch(s){case"Active":return e.jsx(f,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Active"});case"Completed":return e.jsx(f,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Completed"});case"Upcoming":return e.jsx(f,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Upcoming"});case"Cancelled":return e.jsx(f,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Cancelled"});case"Available":return e.jsx(f,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Available"});case"Full":return e.jsx(f,{className:"bg-orange-100 text-orange-800 hover:bg-orange-200",children:"Full"});case"Archived":return e.jsx(f,{className:"bg-amber-100 text-amber-800 hover:bg-amber-200",children:"Archived"});default:return e.jsx(f,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:s})}};return e.jsx(rs,{children:e.jsxs("div",{className:"px-4 md:px-6 py-6 space-y-8",children:[e.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Health Programs"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Monitor and manage all health programs and their participants"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsx(oe,{title:"Today's Participants",value:z,description:"Registered for today",icon:e.jsx(V,{className:"h-6 w-6"}),iconBgColor:"bg-blue-100",iconColor:"text-blue-600",trend:"up",change:{value:z,isPositive:!0}}),e.jsx(oe,{title:"Active Health Programs",value:D,description:"Currently running",icon:e.jsx(Me,{className:"h-6 w-6"}),iconBgColor:"bg-green-100",iconColor:"text-green-600",trend:"up",change:{value:D,isPositive:!0}}),e.jsx(oe,{title:"Archived Programs",value:_,description:"Completed or archived",icon:e.jsx(Le,{className:"h-6 w-6"}),iconBgColor:"bg-amber-100",iconColor:"text-amber-600",trend:"down",change:{value:_,isPositive:!1}}),e.jsx(oe,{title:"Total Participants",value:R,description:"Across all programs",icon:e.jsx(V,{className:"h-6 w-6"}),iconBgColor:"bg-purple-100",iconColor:"text-purple-600",trend:"up",change:{value:R,isPositive:!0}})]}),e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(j,{className:"shadow-lg border-0 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsx(ls,{children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(is,{className:"text-2xl font-bold text-gray-900",children:"All Programs"}),e.jsx(ns,{className:"text-gray-600 mt-1",children:"Manage and configure all health programs"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(re,{open:Ve,onOpenChange:ue,children:[e.jsx(ps,{asChild:!0,children:e.jsxs(o,{className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx(Ss,{className:"h-4 w-4"}),"Create Program"]})}),e.jsxs(le,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(ie,{className:"",children:[e.jsx(ne,{children:"Create New Health Program"}),e.jsx(ce,{children:"Fill in the details to create a new health program."})]}),e.jsxs("form",{onSubmit:as,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Program Name"}),e.jsx(d,{placeholder:"Enter program name",value:P.programname,onChange:s=>A("programname",s.target.value)}),c.programname&&e.jsx(n,{message:c.programname})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(d,{placeholder:"Enter program description",value:P.description,onChange:s=>A("description",s.target.value)}),c.description&&e.jsx(n,{message:c.description})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Date"}),e.jsx(d,{type:"date",value:P.date,onChange:s=>A("date",s.target.value),min:new Date().toISOString().split("T")[0]}),c.date&&e.jsx(n,{message:c.date})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),e.jsx(d,{type:"time",value:P.starttime,onChange:s=>A("starttime",s.target.value)}),c.starttime&&e.jsx(n,{message:c.starttime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"End Time"}),e.jsx(d,{type:"time",value:P.endtime,onChange:s=>A("endtime",s.target.value)}),c.endtime&&e.jsx(n,{message:c.endtime})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Location"}),e.jsx(d,{placeholder:"Enter program location",value:P.location,onChange:s=>A("location",s.target.value)}),c.location&&e.jsx(n,{message:c.location})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Available Slots"}),e.jsx(d,{type:"number",placeholder:"Enter number of slots",value:P.slots,onChange:s=>A("slots",s.target.value)}),c.slots&&e.jsx(n,{message:c.slots})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Coordinator"}),e.jsxs(Z,{value:P.coordinatorid,onValueChange:s=>A("coordinatorid",s),children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"Select coordinator"})}),e.jsx(ae,{children:U.map(s=>e.jsxs(m,{value:s.id.toString(),children:["Dr. ",s.lastname]},s.id))})]}),c.coordinatorid&&e.jsx(n,{message:c.coordinatorid})]})]}),e.jsx(ge,{className:"sticky bottom-0 bg-transparent pt-4",children:e.jsx(o,{type:"submit",disabled:Pe||L,className:"px-4 py-2 text-sm shadow-md flex items-center justify-center",children:Pe||L?"Creating...":"Create Program"})})]})]})]})})]})})})}),ve&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",children:e.jsx("span",{className:"block sm:inline",children:ve})}),Ne&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:e.jsx("span",{className:"block sm:inline",children:Ne})}),e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(j,{className:"shadow-lg border-0",children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(d,{placeholder:"Search programs...",value:F,onChange:s=>Fe(s.target.value),className:"pl-10 border-2 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(As,{className:"h-4 w-4 text-gray-500"}),e.jsxs(Z,{value:q,onValueChange:Be,children:[e.jsx(ee,{className:"w-[180px] border-2",children:e.jsx(se,{placeholder:"Filter by status"})}),e.jsxs(ae,{children:[e.jsx(m,{value:"all",children:"All Statuses"}),e.jsx(m,{value:"Active",children:"Active"}),e.jsx(m,{value:"Available",children:"Available"}),e.jsx(m,{value:"Completed",children:"Completed"}),e.jsx(m,{value:"Upcoming",children:"Upcoming"}),e.jsx(m,{value:"Cancelled",children:"Cancelled"})]})]})]})]})})})}),y.length>0&&e.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(j,{className:"shadow-lg border-0 bg-blue-50 border-blue-200",children:e.jsx(b,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-900",children:[y.length," program",y.length>1?"s":""," selected"]}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>H([]),className:"text-blue-600 hover:text-blue-700",children:"Clear selection"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(o,{variant:"outline",size:"sm",onClick:Xe,disabled:L,className:"border-red-200 text-red-700 hover:bg-red-50",children:"Archive"})})]})})})}),e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsx(j,{className:"shadow-lg border-0 overflow-hidden",children:e.jsx(b,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(cs,{children:[e.jsx(os,{className:"bg-gray-50",children:e.jsxs(Y,{children:[e.jsx(p,{className:"w-12",children:e.jsx("input",{type:"checkbox",checked:y.length===O.length&&O.length>0,onChange:Qe,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx(p,{className:"cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Ke("name"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["Program Name",u.key==="name"&&e.jsx("span",{className:"text-gray-400",children:u.direction==="ascending"?"↑":"↓"})]})}),e.jsx(p,{children:"Description"}),e.jsx(p,{children:"Date"}),e.jsx(p,{children:"Time"}),e.jsx(p,{children:"Location"}),e.jsx(p,{children:"Slots"}),e.jsx(p,{children:"Coordinator"}),e.jsx(p,{children:"Status"}),e.jsx(p,{children:"Patients"}),e.jsx(p,{className:"text-right",children:"Actions"})]})}),e.jsx(ds,{children:L?e.jsx(Y,{children:e.jsx(h,{colSpan:11,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-gray-500",children:"Loading programs..."})]})})}):O.length===0?e.jsx(Y,{children:e.jsx(h,{colSpan:11,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:e.jsx(Me,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No programs found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]})]})})}):O.map(s=>e.jsxs(Y,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(h,{children:e.jsx("input",{type:"checkbox",checked:y.includes(s.id),onChange:()=>We(s.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl text-blue-700 font-semibold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"min-w-0 flex-1 max-w-[200px]",children:[e.jsx("div",{className:"font-semibold text-gray-900 truncate",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",s.id]})]})]})}),e.jsx(h,{children:e.jsx("div",{className:"max-w-[300px]",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 truncate",children:s.description})})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2 max-w-[120px]",children:[e.jsx(pe,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium truncate",children:new Date(s.date).toLocaleDateString()})]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2 max-w-[150px]",children:[e.jsx(Fs,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsxs("span",{className:"text-sm truncate",children:[s.startTime," - ",s.endTime]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2 max-w-[250px]",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:s.location})]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[s.availableSlots,"/",s.totalSlots]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(s.availableSlots/s.totalSlots*100),"% available"]})]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2 max-w-[180px]",children:[e.jsx(je,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium truncate",children:s.coordinator})]})}),e.jsx(h,{children:ke(s.status)}),e.jsx(h,{children:e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>{E(s),Ce(s.id,1),fe(!0)},className:"flex items-center gap-2 text-xs",children:[e.jsx(V,{className:"h-3 w-3"}),"View Participants"]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(o,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-100 hover:text-blue-600",onClick:()=>{E(s),B(!0)},title:"View program",children:e.jsx(_e,{className:"h-4 w-4"})}),e.jsxs(ms,{children:[e.jsx(xs,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",children:e.jsx(Ts,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsx(gs,{children:"Actions"}),e.jsx(Ie,{}),e.jsxs(te,{onClick:()=>{E(s),B(!0)},children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(te,{onClick:()=>Te(s),children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Edit Program"]}),e.jsx(Ie,{}),s.status==="Archived"?e.jsxs(te,{onClick:()=>J({isOpen:!0,type:"unarchive",programId:s.id}),className:"text-green-600",children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Unarchive"]}):e.jsxs(te,{onClick:()=>J({isOpen:!0,type:"archive",programId:s.id}),className:"text-red-600",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})]})})]},s.id))})]})})})})}),X>1&&e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsx(j,{className:"shadow-lg border-0",children:e.jsx(b,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",me+1," to ",Math.min(we,W.length)," of ",W.length," programs"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>Q(s=>Math.max(s-1,1)),disabled:K===1,className:"flex items-center gap-1",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,X)},(s,l)=>{const r=l+1;return e.jsx(o,{variant:K===r?"default":"outline",size:"sm",onClick:()=>Q(r),className:"w-8 h-8 p-0",children:r},r)})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>Q(s=>Math.min(s+1,X)),disabled:K===X,className:"flex items-center gap-1",children:"Next"})]})]})})})}),e.jsx(re,{open:ze,onOpenChange:B,children:e.jsxs(le,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[e.jsx(ie,{className:"pb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl text-blue-700 text-2xl font-bold",children:a?.name?.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ne,{className:"text-2xl font-bold text-gray-900",children:a?.name}),e.jsx(ce,{className:"text-gray-600 mt-1",children:"Health Program Details"})]}),e.jsx("div",{className:"flex-shrink-0",children:a&&ke(a.status)})]})}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(j,{className:"border-0 shadow-sm bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs(b,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Program Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.description})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(j,{className:"border-0 shadow-sm",children:e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(pe,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Date & Time"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Program schedule"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Date:"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:new Date(a.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Time:"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:[a.startTime," - ",a.endTime]})]})]})]})}),e.jsx(j,{className:"border-0 shadow-sm",children:e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(Oe,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Location"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Program venue"})]})]}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.location})]})}),e.jsx(j,{className:"border-0 shadow-sm",children:e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(Ue,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Capacity"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Available slots"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Slots:"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.totalSlots})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Available:"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.availableSlots})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${a.availableSlots/a.totalSlots*100}%`}})}),e.jsxs("p",{className:"text-sm text-gray-500",children:[Math.round(a.availableSlots/a.totalSlots*100),"% available"]})]})]})}),e.jsx(j,{className:"border-0 shadow-sm",children:e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(je,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Coordinator"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Program manager"})]})]}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.coordinator})]})})]})]}),e.jsx(ge,{className:"pt-6 border-t",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Program ID: ",a?.id]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(o,{variant:"outline",onClick:()=>B(!1),children:"Close"}),e.jsx(o,{className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",onClick:()=>{B(!1),Te(a)},children:"Edit Program"})]})]})})]})}),e.jsx(re,{open:Re,onOpenChange:G,children:e.jsxs(le,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(ie,{children:[e.jsx(ne,{className:"text-xl font-semibold",children:"Edit Health Program"}),e.jsx(ce,{children:"Update the details of the selected health program."})]}),e.jsxs("form",{onSubmit:ts,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Program Name"}),e.jsx(d,{placeholder:"Enter program name",value:w.programname,onChange:s=>N("programname",s.target.value)}),i.programname&&e.jsx(n,{message:i.programname})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(d,{placeholder:"Enter program description",value:w.description,onChange:s=>N("description",s.target.value)}),i.description&&e.jsx(n,{message:i.description})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Date"}),e.jsx(d,{type:"date",value:w.date,onChange:s=>N("date",s.target.value),min:new Date().toISOString().split("T")[0]}),i.date&&e.jsx(n,{message:i.date})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),e.jsx(d,{type:"time",value:w.starttime,onChange:s=>N("starttime",s.target.value)}),i.starttime&&e.jsx(n,{message:i.starttime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"End Time"}),e.jsx(d,{type:"time",value:w.endtime,onChange:s=>N("endtime",s.target.value)}),i.endtime&&e.jsx(n,{message:i.endtime})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Location"}),e.jsx(d,{placeholder:"Enter program location",value:w.location,onChange:s=>N("location",s.target.value)}),i.location&&e.jsx(n,{message:i.location})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Total Slots"}),e.jsx(d,{type:"number",placeholder:"Enter number of slots",value:w.slots,onChange:s=>N("slots",s.target.value)}),i.slots&&e.jsx(n,{message:i.slots})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Coordinator"}),e.jsxs(Z,{value:w.coordinatorid,onValueChange:s=>N("coordinatorid",s),children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"Select coordinator"})}),e.jsx(ae,{children:U.map(s=>e.jsxs(m,{value:s.id.toString(),children:["Dr. ",s.lastname]},s.id))})]}),i.coordinatorid&&e.jsx(n,{message:i.coordinatorid})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs(Z,{value:w.status,onValueChange:s=>N("status",s),children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"Select status"})}),e.jsxs(ae,{children:[e.jsx(m,{value:"Available",children:"Available"}),e.jsx(m,{value:"Full",children:"Full"}),e.jsx(m,{value:"Active",children:"Active"}),e.jsx(m,{value:"Completed",children:"Completed"}),e.jsx(m,{value:"Upcoming",children:"Upcoming"}),e.jsx(m,{value:"Cancelled",children:"Cancelled"}),e.jsx(m,{value:"Archived",children:"Archived"})]})]}),i.status&&e.jsx(n,{message:i.status})]})]}),e.jsxs(ge,{className:"sticky bottom-0 bg-transparent pt-4",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>{G(!1),De(),E(null)},children:"Cancel"}),e.jsx(o,{type:"submit",disabled:Ae||L,className:"px-4 py-2 text-sm shadow-md flex items-center justify-center bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:Ae||L?"Updating...":"Update Program"})]})]})]})}),e.jsx(js,{open:S.isOpen,onOpenChange:s=>J({isOpen:s,type:null,programId:null}),children:e.jsxs(us,{className:"max-w-[400px]",children:[e.jsxs(vs,{children:[e.jsx(Ns,{className:"text-lg font-semibold",children:S.type==="archive"?"Archive Program":"Unarchive Program"}),e.jsx(fs,{className:"text-gray-600",children:S.type==="archive"?"Are you sure you want to archive this program? This will remove it from the active list.":"Are you sure you want to unarchive this program? This will return it to the active list."})]}),e.jsxs(bs,{children:[e.jsx(ys,{className:"border-gray-200 hover:bg-gray-50",children:"Cancel"}),e.jsx(ws,{onClick:()=>{S.programId&&Ye(S.programId,S.type==="unarchive"),J({isOpen:!1,type:null,programId:null})},className:`${S.type==="archive"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,children:S.type==="archive"?"Archive":"Unarchive"})]})]})}),e.jsx(re,{open:$e,onOpenChange:fe,children:e.jsxs(le,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(ie,{children:[e.jsxs(ne,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5 text-blue-600"}),"Registered Participants - ",a?.name]}),e.jsx(ce,{children:"View all participants registered for this health program"})]}),e.jsx("div",{className:"space-y-4",children:Ge?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-500",children:"Loading participants..."})]}):be.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",g.total," participants"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",g.from," to ",g.to," of ",g.total]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.jsx("div",{className:"col-span-3",children:"Name"}),e.jsx("div",{className:"col-span-2",children:"Registration ID"}),e.jsx("div",{className:"col-span-2",children:"Contact"}),e.jsx("div",{className:"col-span-2",children:"Email"}),e.jsx("div",{className:"col-span-1",children:"Age"}),e.jsx("div",{className:"col-span-1",children:"Gender"}),e.jsx("div",{className:"col-span-1",children:"Status"})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:be.map(s=>e.jsxs("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[e.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(je,{className:"h-4 w-4 text-blue-600"})}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.full_name})})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("p",{className:"text-sm text-gray-900 font-mono",children:s.id})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.contact_number})]})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900 truncate",children:s.email})]})}),e.jsx("div",{className:"col-span-1",children:e.jsxs("span",{className:"text-sm text-gray-900",children:[s.age," years"]})}),e.jsx("div",{className:"col-span-1",children:e.jsx("span",{className:"text-sm text-gray-900",children:s.sex})}),e.jsx("div",{className:"col-span-1",children:e.jsx(f,{variant:"outline",className:`text-xs ${s.status==="Registered"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:s.status})})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Registered: ",new Date(s.registered_at).toLocaleDateString()]})]})})]},s.id))})]}),g.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",g.current_page," of ",g.last_page]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>Se(g.current_page-1),disabled:g.current_page===1,className:"flex items-center gap-1",children:[e.jsx(Ms,{className:"h-4 w-4"}),"Previous"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>Se(g.current_page+1),disabled:g.current_page===g.last_page,className:"flex items-center gap-1",children:["Next",e.jsx(Ls,{className:"h-4 w-4"})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(V,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No participants registered"}),e.jsx("p",{className:"text-gray-500",children:"This program doesn't have any registered participants yet."})]})})]})})]})})};export{nt as default};
