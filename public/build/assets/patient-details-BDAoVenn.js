import{r as v,j as e}from"./app-dOxLF04F.js";import{B as n}from"./button-AgyiIwL-.js";import{c as d,d as a,a as t,e as i,b as M}from"./card-CYcp7jJ_.js";import{B as x}from"./badge-CJbEyv-q.js";import{T as S,a as A,b as h,c as j}from"./tabs-CSgu7eQi.js";import T from"./edit-patient-form-C_9OA2Xz.js";import H from"./add-medical-record-form-DQ0zdDeK.js";import{A as B}from"./save-CG0o2QzA.js";import{P as E}from"./plus-BJM1xa5T.js";import{S as F}from"./square-pen-ohwGmU84.js";import{P as L}from"./phone-Bjjxzvih.js";import{M as R}from"./mail-C_zJSxwx.js";import{M as V}from"./map-pin-Dcqg5-Rc.js";import{H as k}from"./heart-CyZ4Hzv6.js";import{C as b}from"./calendar-CXNDPPVS.js";import{P as I}from"./pill-Ceywc8Zo.js";import{T as Y}from"./triangle-alert-8a4DkhLi.js";import"./index-Deno71kd.js";import"./index-CNZ2Dx4u.js";import"./index-Bo5FZIzo.js";import"./index-CWpNLmxq.js";import"./index-BCB7khfw.js";import"./index-Bvp2oBEW.js";import"./input-DT4eHb3q.js";import"./label-BcN8Gpyq.js";import"./textarea-p_ZB7MPD.js";import"./select-l0dFdoh2.js";import"./react-icons.esm-BorQdFth.js";import"./Combination-CoHc-Nci.js";import"./index-uR-2BYu3.js";import"./index-DykSkOEa.js";import"./createLucideIcon-BVlFUOuY.js";function pe({patient:s,onBack:w,onUpdate:u}){var f,g;const[y,m]=v.useState(!1),[D,o]=v.useState(!1),C=r=>{const l=new Date,c=new Date(r);let N=l.getFullYear()-c.getFullYear();const p=l.getMonth()-c.getMonth();return(p<0||p===0&&l.getDate()<c.getDate())&&N--,N},P=r=>{const l={...r,id:Date.now().toString()},c={...s,medicalHistory:[...s.medicalHistory||[],l],lastVisit:r.date};u(c),o(!1)};return y?e.jsx(T,{patient:s,onSubmit:r=>{u(r),m(!1)},onCancel:()=>m(!1)}):D?e.jsx(H,{patientName:`${s.firstName} ${s.lastName}`,onSubmit:P,onCancel:()=>o(!1)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(n,{variant:"outline",onClick:w,children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Back to List"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:[s.firstName," ",s.lastName]}),e.jsxs("p",{className:"text-muted-foreground",children:["Patient ID: ",s.id," â€¢ Age:"," ",C(s.birth)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{onClick:()=>o(!0),children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Add Medical Record"]}),e.jsxs(n,{variant:"outline",onClick:()=>m(!0),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Edit Patient"]})]})]}),e.jsxs(S,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(A,{children:[e.jsx(h,{value:"overview",children:"Overview"}),e.jsx(h,{value:"medical-history",children:"Medical History"}),e.jsx(h,{value:"medications",children:"Medications & Allergies"})]}),e.jsxs(j,{value:"overview",className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(a,{children:e.jsx(t,{children:"Basic Information"})}),e.jsxs(i,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),e.jsxs("p",{className:"text-lg",children:[s.firstname," ",s.lastname]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),e.jsx("p",{children:new Date(s.birth).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),e.jsx("p",{children:s.gender=="M"?"Male":s.gender=="F"?"Female":""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mr-2",children:"Status"}),e.jsx(x,{variant:s.status==="active"?"default":"secondary",children:s.status})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),e.jsx("p",{children:s.contactno})]})]}),s.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{children:s.email})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-muted-foreground mt-1"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),e.jsx("p",{children:s.address??"Not Set"})]})]}),s.bloodtype&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Blood Type"}),e.jsx("p",{children:s.bloodtype})]})]})]})]})]}),e.jsxs(d,{children:[e.jsx(a,{children:e.jsx(t,{children:"Emergency Contact"})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Person"}),(f=s==null?void 0:s.emercont)==null?void 0:f.map(r=>e.jsx("p",{children:r.name}))]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),(g=s==null?void 0:s.emercont)==null?void 0:g.map(r=>e.jsx("p",{children:r.contactno}))]})]})})]}),e.jsxs(d,{children:[e.jsx(a,{children:e.jsx(t,{children:"Visit Information"})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Registration Date"}),e.jsx("p",{children:new Date(s.created_at).toLocaleDateString()})]})]}),s.lastVisit&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Visit"}),e.jsx("p",{children:new Date(s.lastVisit).toLocaleDateString()})]})]})]})})]})]}),e.jsx(j,{value:"medical-history",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(a,{children:[e.jsx(t,{children:"Medical History"}),e.jsx(M,{children:"Complete medical record history for this patient"})]}),e.jsx(i,{children:s.medicalHistory&&s.medicalHistory.length>0?e.jsx("div",{className:"space-y-4",children:s.medicalHistory.map(r=>e.jsx(d,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),e.jsx("p",{children:new Date(r.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Doctor"}),e.jsx("p",{children:r.doctor})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Diagnosis"}),e.jsx("p",{children:r.diagnosis})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Treatment"}),e.jsx("p",{children:r.treatment})]}),r.notes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),e.jsx("p",{children:r.notes})]}),r.followUp&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Follow-up"}),e.jsx("p",{children:r.followUp})]})]})})},r.id))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No medical records found for this patient."})})]})}),e.jsx(j,{value:"medications",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(a,{children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Current Medications"]})}),e.jsx(i,{children:s.medications&&s.medications.length>0?e.jsx("div",{className:"space-y-2",children:s.medications.map((r,l)=>e.jsx(x,{variant:"outline",className:"mr-2 mb-2",children:r},l))}):e.jsx("p",{className:"text-muted-foreground",children:"No current medications recorded."})})]}),e.jsxs(d,{children:[e.jsx(a,{children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Known Allergies"]})}),e.jsx(i,{children:s.allergies&&s.allergies.length>0?e.jsx("div",{className:"space-y-2",children:s.allergies.map((r,l)=>e.jsx(x,{variant:"destructive",className:"mr-2 mb-2",children:r},l))}):e.jsx("p",{className:"text-muted-foreground",children:"No known allergies recorded."})})]})]})})]})]})}export{pe as default};
