import{r,j as t}from"./app-dOxLF04F.js";import v from"./patient-list-oDRlGEfV.js";import P from"./patient-details-BDAoVenn.js";import S from"./add-patient-form-DcXclMz1.js";import"./button-AgyiIwL-.js";import{c as m,d as n,a as l,e as d}from"./card-CYcp7jJ_.js";import{A}from"./AdminLayout-D6ILHdwL.js";import{m as C}from"./pusher-Ds7OglST.js";import{U as D}from"./users-sRrIXraV.js";import{A as F}from"./activity-CgZ8gzJC.js";import{C as R}from"./calendar-CXNDPPVS.js";import{F as T}from"./file-text-B618C__O.js";import"./input-DT4eHb3q.js";import"./badge-CJbEyv-q.js";import"./select-l0dFdoh2.js";import"./react-icons.esm-BorQdFth.js";import"./index-Deno71kd.js";import"./index-CNZ2Dx4u.js";import"./index-CWpNLmxq.js";import"./Combination-CoHc-Nci.js";import"./index-BCB7khfw.js";import"./index-uR-2BYu3.js";import"./index-DykSkOEa.js";import"./search-BgC7y-OF.js";import"./createLucideIcon-BVlFUOuY.js";import"./phone-Bjjxzvih.js";import"./map-pin-Dcqg5-Rc.js";import"./eye-xER5tcvS.js";import"./tabs-CSgu7eQi.js";import"./index-Bo5FZIzo.js";import"./index-Bvp2oBEW.js";import"./edit-patient-form-C_9OA2Xz.js";import"./label-BcN8Gpyq.js";import"./textarea-p_ZB7MPD.js";import"./save-CG0o2QzA.js";import"./add-medical-record-form-DQ0zdDeK.js";import"./plus-BJM1xa5T.js";import"./square-pen-ohwGmU84.js";import"./mail-C_zJSxwx.js";import"./heart-CyZ4Hzv6.js";import"./pill-Ceywc8Zo.js";import"./triangle-alert-8a4DkhLi.js";import"./avatar-DzAOnCf0.js";import"./separator-BnBoQ9iW.js";import"./moment-C5S46NFB.js";import"./dialog-B2f0B6U5.js";import"./popover-lxf-VEz2.js";import"./format-BtYX0kVO.js";import"./isBefore-CNJkrGzj.js";import"./isSameMonth-CLqEvLGB.js";import"./TextInput-BPrVXEzG.js";import"./x-BtvBbdhR.js";import"./settings-CODuCzay.js";import"./bell-5NbrW9cN.js";import"./layers-BO4rAElS.js";import"./chart-column-CQuzyons.js";function Lt({patients_:h}){const[s,c]=r.useState(h);r.useEffect(()=>{console.log(s)},[s]);const[p,x]=r.useState(null),[V,j]=r.useState(!1),[o,a]=r.useState("list"),u=e=>{const i={...e,id:Date.now().toString(),registrationDate:new Date().toISOString().split("T")[0]};c([...s,i]),a("list"),j(!1)},g=e=>{x(e),a("details")},N=e=>{c(s.map(i=>i.id===e.id?e:i)),x(e)},w=s.length,y=s.filter(e=>e.status==="active").length,b=s.filter(e=>e.lastVisit&&new Date(e.lastVisit)>new Date(Date.now()-7*24*60*60*1e3)).length;return t.jsx(A,{header:"Patients",children:t.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsx("div",{className:"bg-gray-50",children:t.jsxs("div",{className:"",children:[o==="list"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Total Patients"}),t.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:w}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered patients"})]})]}),t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Active Patients"}),t.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Recent Visits"}),t.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),t.jsxs(m,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Medical Records"}),t.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s.reduce((e,i)=>{var f;return e+(((f=i.medicalHistory)==null?void 0:f.length)||0)},0)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total records"})]})]})]}),o==="list"&&t.jsx(v,{patients:s,onSelectPatient:g}),o==="details"&&p&&t.jsx(P,{patient:p,onBack:()=>a("list"),onUpdate:N}),o==="add"&&t.jsx(S,{onSubmit:u,onCancel:()=>a("list")})]})})})})}export{Lt as default};
