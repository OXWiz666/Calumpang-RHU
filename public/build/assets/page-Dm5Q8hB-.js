import{a as P,j as t}from"./app-Dq_Q3Qwg.js";import{r}from"./vendor-DkBadjUr.js";import v from"./patient-list-BHpOyuaU.js";import S from"./patient-details-N9p0F3Pe.js";import A from"./add-patient-form-D-r9Pfh_.js";import"./button-C5uFo_s4.js";import{C as a,a as n,b as l,c as d}from"./card-kiyN5UMh.js";import{A as C}from"./AdminLayout-ZetOe_y-.js";import{m as D}from"./proxy-CrAtMFvn.js";import{U as F}from"./users-D4PhO1-D.js";import{A as T}from"./activity-C-sjEU5t.js";import{C as R}from"./calendar-D9APQM2e.js";import{F as U}from"./file-text-YZXa1D2L.js";import"./pusher-DVtoYAOu.js";import"./input-onBXUy1Y.js";import"./index-Cwj52g8w.js";import"./badge-KwLpf8X3.js";import"./select-DVTvZC0C.js";import"./react-icons.esm-B4fS-S41.js";import"./index-DWmZ7jWL.js";import"./index-DZ3-Nn1l.js";import"./index-BLzoH2V5.js";import"./tslib.es6-M_FJ09fS.js";import"./index-Z1kVBYZG.js";import"./index-BZWX2-NB.js";import"./index-DqxisvwK.js";import"./index-Bjz1F0Gi.js";import"./moment-C5S46NFB.js";import"./search-Cye_TdpF.js";import"./createLucideIcon-BKWaAi2G.js";import"./phone-BScbSfjU.js";import"./map-pin-Dkn0BYKY.js";import"./eye-mxYijkrE.js";import"./tabs-CVdJnuPb.js";import"./index-DKHauwzN.js";import"./index-CTYbBDNA.js";import"./edit-patient-form-C8u_m7IA.js";import"./label-D-GXHI76.js";import"./textarea-C9hsFzqx.js";import"./dialog-BOQ1IyqS.js";import"./x-b8JahagL.js";import"./save-CAdd64LS.js";import"./add-medical-record-form-BSKWXV4d.js";import"./PrintErrors-9X8y9AW3.js";import"./arrow-left-DcYYnBRL.js";import"./plus-MavOGQlj.js";import"./square-pen-Bb1JtfBr.js";import"./mail-BoTx8fKY.js";import"./heart-CDAohmX9.js";import"./triangle-alert-BslwqqvL.js";import"./trash-2-DJ5zXW8D.js";import"./pill-DIGxtF-3.js";import"./avatar-BtPHERgy.js";import"./separator-DEX7VqKX.js";import"./calendar-CUPskwmx.js";import"./format-Dp3w_Y3x.js";import"./isBefore-COsor6RJ.js";import"./isSameMonth-BOwz-_mK.js";import"./TextInput-BpXAXdR6.js";import"./settings-D_MeB5oN.js";import"./house-CSq-WFst.js";import"./pusher-D48kA6HE.js";import"./printer-CfgcPaUh.js";import"./package-L7rgkkVO.js";import"./circle-check-big-BQVCuGNJ.js";import"./bell-HhCf5F9O.js";import"./index-lHzy3PXw.js";import"./autoprefixer-D_HbpVNe.js";import"./unit-CopbpOEH.js";import"./Toaster-BesWtvcS.js";import"./toast-CKDMsaUm.js";import"./layers-OK8ayVTK.js";import"./chart-column-yMaSKbSU.js";function te({patients_:c,doctors:h}){const[s,p]=r.useState(c),[x,f]=r.useState(null),{flash:E}=P().props;r.useEffect(()=>{p(c)},[c]);const[L,j]=r.useState(!1),[o,m]=r.useState("list"),u=e=>{const i={...e,id:Date.now().toString(),registrationDate:new Date().toISOString().split("T")[0]};p([...s,i]),m("list"),j(!1)},N=e=>{f(e),m("details")},g=e=>{p(s.map(i=>i.id===e.id?e:i)),f(e)},w=s.length,y=s.filter(e=>e.status==="active").length,b=s.filter(e=>e.last_appointment&&new Date(e.last_appointment)>new Date(Date.now()-7*24*60*60*1e3)).length;return t.jsx(C,{header:"Patients",children:t.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsx("div",{className:"bg-gray-50",children:t.jsxs("div",{className:"",children:[o==="list"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs(a,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Total Patients"}),t.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:w}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All patients"})]})]}),t.jsxs(a,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Active Patients"}),t.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),t.jsxs(a,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Recent Visits"}),t.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),t.jsxs(a,{children:[t.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Medical Records"}),t.jsx(U,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(d,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s.reduce((e,i)=>e+(i.medicalHistory?.length||0),0)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total records"})]})]})]}),o==="list"&&t.jsx(v,{patients:s,onSelectPatient:N,isGuestPatients:!0}),o==="details"&&x&&t.jsx(S,{patient:x,onBack:()=>m("list"),onUpdate:g,doctors:h}),o==="add"&&t.jsx(A,{onSubmit:u,onCancel:()=>m("list")})]})})})})}export{te as default};
